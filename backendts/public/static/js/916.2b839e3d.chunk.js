"use strict";(self.webpackChunkmy_react_starter=self.webpackChunkmy_react_starter||[]).push([[916],{7916:function(e,s,n){n.r(s),n.d(s,{OrderConfirmation:function(){return y}});var a=n(4165),r=n(5861),c=n(2791),t=n(7689),i=n(1087),l=n(3649),o=n(1083),d=n(1306),m=n(8696),h=n(6579);var f=n(5668),u=n(5875),p=n(513),x=n(5849),j=n(184);function g(e){var s=e.orderObject.orderDetails,n=s.checkIn,a=s.checkOut,r=s.guestCount,c="".concat(r," ").concat(1===r?"guest":"guests"),t=x.Y.getFormattedTimeRange(n,a),i=x.Y.getFormattedDate(x.Y.getFutureTime(2,"day"),{month:"short",day:"numeric"});return(0,j.jsxs)("section",{className:"confirmation-main",children:[(0,j.jsxs)("section",{className:"dates-guests",children:[(0,j.jsx)("h3",{className:"fs22",children:"Your trip"}),(0,j.jsxs)("section",{className:"dates fs16",children:[(0,j.jsx)("h4",{children:"Dates"}),(0,j.jsx)("p",{children:t})]}),(0,j.jsxs)("section",{className:"guests fs16",children:[(0,j.jsx)("h4",{children:"Guests"}),(0,j.jsx)("p",{children:c})]})]}),(0,j.jsxs)("section",{className:"cancellation-policy",children:[(0,j.jsx)("h3",{className:"capitalize fs22",children:"cancellation policy"}),(0,j.jsxs)("p",{children:["Cancel before ",i," for a partial refund. After that, this reservation is non-refundable."]})]}),(0,j.jsxs)("p",{className:"declaration fs12 lh18",children:["By selecting the button below, I agree to the irrelevance of the ",(0,j.jsx)("span",{className:"underline",children:"Host's House Rules, Ground rules for guests, StayHub's Rebooking and Refund Policy"}),", and that StayHub can ",(0,j.jsx)("span",{className:"underline",children:"charge my payment method"})," if I'm responsible for damage."]})]})}function N(e){var s=e.orderObject,n=s.stayDetails,a=s.orderPrice,r=s.orderDetails,c=n.reviewsCount,t=n.type,i=n.summary,o=n.rate,d=n.image,m=r.nightsCount,h=r.singleNightPrice,f=a.total,p=a.serviceFee,g=a.cleaningFee,N=a.price,y=x.Y.addCommas(h),b=x.Y.addCommas(N),v=x.Y.addCommas(g),w=x.Y.addCommas(p),C=x.Y.addCommas(f),k="".concat(m," ").concat(1===m?"night":"nights"),Y="".concat(c," ").concat(1===c?"review":"reviews");return(0,j.jsxs)("aside",{className:"confirmation-sidebar flex column",children:[(0,j.jsxs)("section",{className:"stay-information",children:[(0,j.jsx)("section",{className:"img-container flex",children:(0,j.jsx)("img",{src:d,alt:"stay"})}),(0,j.jsxs)("section",{className:"information",children:[(0,j.jsx)("p",{className:"stay-type fs12",children:t}),(0,j.jsx)("span",{className:"short-summary lh24",children:i}),(0,j.jsx)("article",{className:"confirmation-reviews fs12 flex align-center flex-nowrap",children:c>0&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("span",{children:(0,j.jsx)(u.Z,{svgName:l.Js})}),(0,j.jsx)("span",{children:o}),(0,j.jsx)("span",{className:"white-space-nowrap",children:Y})]})})]})]}),(0,j.jsxs)("section",{className:"price-details fs16",children:[(0,j.jsx)("h3",{className:"title fs22",children:"Price details"}),(0,j.jsxs)("article",{className:"night-price flex space-between gap16",children:[(0,j.jsxs)("span",{className:"underline",children:["$",y," x ",k]}),(0,j.jsxs)("span",{children:["$",b]})]}),(0,j.jsxs)("article",{className:"cleaning-fee flex space-between gap16",children:[(0,j.jsx)("span",{className:"underline",children:"Cleaning fee"}),(0,j.jsxs)("span",{children:["$",v]})]}),(0,j.jsxs)("article",{className:"service-fee flex space-between gap16",children:[(0,j.jsx)("span",{className:"underline",children:"StayHub service fee"}),(0,j.jsxs)("span",{children:["$",w]})]}),(0,j.jsxs)("article",{className:"total-price flex space-between gap16 ff-circular-semibold",children:[(0,j.jsx)("span",{children:"Total (USD)"}),(0,j.jsxs)("span",{children:["$",C]})]})]})]})}function y(){var e=(0,h.T)(),s=(0,t.s0)(),n=(0,t.TH)(),x=(0,h.C)((function(e){return e.userModule.order}));function y(){return(y=(0,r.Z)((0,a.Z)().mark((function n(){return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e((0,m.EG)(x)).unwrap();case 3:o.LR.emit(o.$m,x.seller._id),s("/trips"),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.error("Error adding confirmed trip:",n.t0),(0,d.oc)("Cannot add confirmed trip");case 11:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}if((0,c.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]),(0,c.useEffect)((function(){if(0===Object.keys(x).length){var e=n.pathname.split("/").filter((function(e){return"book"!==e})).join("/");s(e)}}),[]),0===Object.keys(x).length)return(0,j.jsx)(p.a,{});var b=x.stayDetails.id;return(0,j.jsxs)("section",{className:"order-confirmation-page",children:[(0,j.jsxs)("section",{className:"confirmation-header flex align-center gap20",children:[(0,j.jsx)(i.rU,{className:"return-btn",to:"/stay/".concat(b),title:"return",children:(0,j.jsx)(u.Z,{svgName:l.pe})}),(0,j.jsx)("h2",{className:"fs32",children:"Confirm and pay"})]}),(0,j.jsxs)("section",{className:"confirmation-main-container",children:[(0,j.jsx)(g,{orderObject:x}),(0,j.jsx)(N,{orderObject:x})]}),(0,j.jsx)("section",{className:"confirm-btn",children:(0,j.jsx)(f.K,{text:"Confirm and pay",onClickButton:function(e){e.stopPropagation(),e.preventDefault(),function(){y.apply(this,arguments)}()}})})]})}}}]);
//# sourceMappingURL=916.2b839e3d.chunk.js.map