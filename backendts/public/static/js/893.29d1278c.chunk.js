"use strict";(self.webpackChunkmy_react_starter=self.webpackChunkmy_react_starter||[]).push([[893],{9893:function(e,s,t){t.r(s),t.d(s,{UserDashboard:function(){return D}});var a=t(2791),n=t(7689),r=t(6579),c=t(4936),i=t(1306),l=t(1413),o=t(9439),d=t(893),u=t(8911),h=t(5849),x=t(184);function j(e){var s=e.order,t=e.onApprove,a=e.onReject,n=s.content.status,r=s.content.buyer.img,c=s.content.buyer.fullname,i=s.content.buyer.joined,l=s.content.orderDetails,o=l.checkIn,d=l.checkOut,u=h.Y.getFormattedTimeRange(o,d);return(0,x.jsxs)("tr",{className:"flex",children:[(0,x.jsx)("td",{className:"guest-column",children:(0,x.jsxs)("section",{className:"order-guest flex align-center",children:[(0,x.jsx)("img",{src:r,alt:"guest"}),(0,x.jsxs)("article",{className:"name-and-join-date flex column",children:[(0,x.jsxs)("span",{className:"full-name",children:[" ",c]}),(0,x.jsxs)("span",{className:"join-date fs12",children:["Joined in ",i]})]})]})}),(0,x.jsx)("td",{className:"date-column",children:(0,x.jsx)("span",{className:"order-dates flex align-center",children:u})}),(0,x.jsx)("td",{className:"action-column",children:(0,x.jsx)("section",{className:"order-actions flex align-center",children:"Pending"===n?(0,x.jsxs)("article",{className:"actions flex column justify-center",children:[(0,x.jsx)("button",{className:"action-button approve",onClick:function(e){return t(e,s._id)},children:"Approve"}),(0,x.jsx)("button",{className:"action-button reject",onClick:function(e){return a(e,s._id)},children:"Reject"})]}):(0,x.jsx)("article",{className:"order-status ".concat(n.toLowerCase()," fs14"),children:n})})})]})}var m=t(513);function f(e){e.loggedInUser;var s=(0,r.T)(),t=(0,r.C)((function(e){return e.orderModule.isLoadingOrders})),n=(0,r.C)((function(e){return e.orderModule.orders})),c=(0,a.useState)(u.X.getDemoOrders()),i=(0,o.Z)(c,2),h=i[0],f=i[1];function g(e){var s=h.map((function(s){return s._id===e?(0,l.Z)((0,l.Z)({},s),{},{content:(0,l.Z)((0,l.Z)({},s.content),{},{status:"Approved"})}):s}));f(s)}function p(e){var s=h.map((function(s){return s._id===e?(0,l.Z)((0,l.Z)({},s),{},{content:(0,l.Z)((0,l.Z)({},s.content),{},{status:"Rejected"})}):s}));f(s)}function b(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.preventDefault(),e.stopPropagation(),a?g(t):s((0,d.TF)(t))}function v(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.preventDefault(),e.stopPropagation(),a?p(t):s((0,d.xe)(t))}return(0,a.useEffect)((function(){return s((0,d.sP)()),function(){s((0,d.nq)(!1))}}),[s]),t?(0,x.jsx)(m.a,{}):(0,x.jsx)("section",{className:"order-list",children:(0,x.jsxs)("table",{children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{className:"flex",children:[(0,x.jsx)("th",{className:"guest-column",children:"Guest"}),(0,x.jsx)("th",{className:"date-column",children:"Dates"}),(0,x.jsx)("th",{className:"action-column",children:"Actions"})]})}),(0,x.jsxs)("tbody",{children:[n.map((function(e){return(0,x.jsx)(j,{order:e,onApprove:b,onReject:v},e._id)})),0===n.length&&h.map((function(e){return(0,x.jsx)(j,{order:e,onApprove:function(e,s){return b(e,s,!0)},onReject:function(e,s){return v(e,s,!0)}},e._id)}))]})]})})}var g=t(3623),p=t(5967);function b(e){var s=e.dashboardData,t={labels:s.labels,datasets:[{label:"Revenue generated per month",data:s.revenue,backgroundColor:["rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(153, 102, 255, 0.5)","rgba(255, 159, 64, 0.5)","rgba(128, 0, 128, 0.5)"]}]};return(0,x.jsx)("section",{className:"chart-container flex justify-center",children:(0,x.jsx)(g.$Q,{options:{responsive:!0,plugins:{legend:{display:!1},title:{display:!0,text:"Revenue overview"}},scales:{y:{beginAtZero:!0,ticks:{callback:function(e){return"$"+e}}},x:{grid:{display:!1}}}},data:t})})}p.kL.register(p.uw,p.f$,p.ZL,p.Dx,p.u,p.De);var v=t(4942);function N(e){var s=e.dashboardData,t={responsive:!0,plugins:{legend:{display:!1},title:{display:!0,text:"Occupancy rate"}},scales:(0,v.Z)({y:{beginAtZero:!0},x:{grid:{display:!1}}},"y",{grid:{display:!0}})},a={labels:s.labels,datasets:[{label:"Occupancy",data:s.occupancyRate,borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.5)"}]};return(0,x.jsx)("section",{className:"chart-container flex justify-center",children:(0,x.jsx)(g.x1,{options:t,data:a})})}function y(e){var s=e.dashboardData;var t=(s.revenue.reduce((function(e,s){return e+s}),0)/s.revenue.length).toLocaleString(void 0,{maximumFractionDigits:2});return(0,x.jsxs)("section",{className:"dashboard-statistics",children:[(0,x.jsxs)("article",{className:"statistics-revenue",children:[(0,x.jsx)("h2",{className:"statistics-header",children:"Total revenue"}),(0,x.jsxs)("section",{className:"statistics-body",children:[(0,x.jsxs)("article",{className:"flex space-between",children:[(0,x.jsx)("h3",{children:"Revenue:"}),(0,x.jsxs)("h3",{children:["$",t]})]}),(0,x.jsxs)("article",{className:"flex space-between",children:[(0,x.jsx)("h3",{children:"Occupancy:"}),(0,x.jsxs)("h3",{children:[61.83,"%"]})]})]})]}),(0,x.jsxs)("article",{className:"statistics-chart-bar",children:[(0,x.jsx)("h2",{className:"statistics-header",children:"Revenue per month"}),(0,x.jsx)(b,{dashboardData:s})]}),(0,x.jsxs)("article",{className:"statistics-chart-line",children:[(0,x.jsx)("h2",{className:"statistics-header",children:"Occupancy rate"}),(0,x.jsx)(N,{dashboardData:s})]})]})}function D(){var e=(0,r.C)((function(e){return e.userModule.user})),s=(0,n.s0)(),t=c.W.getUserDashboardData();return(0,a.useEffect)((function(){e||((0,i.oc)("You must be logged in to view your listings"),s("/"))}),[e]),(0,x.jsxs)("section",{className:"dashboard-page",children:[(0,x.jsx)("h1",{className:"dashboard-page-title fs30",children:"My Dashboard"}),(0,x.jsx)(y,{dashboardData:t}),(0,x.jsx)(f,{loggedInUser:e})]})}p.kL.register(p.uw,p.f$,p.od,p.jn,p.Dx,p.u,p.De)}}]);
//# sourceMappingURL=893.29d1278c.chunk.js.map