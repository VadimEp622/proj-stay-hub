"use strict";(self.webpackChunkmy_react_starter=self.webpackChunkmy_react_starter||[]).push([[969],{2969:function(e,s,n){n.r(s),n.d(s,{StayDetails:function(){return oe}});var t=n(1413),a=n(9439),i=n(7689),c=n(3050),r=n(5849),l=n(8911),o=n(3313),h=n(4282),d=n(6579),u=n(9270),f=n(8696),m=n(2337),x=n(4456),j=n(2791),p=n(4936),g=n(9387),v=n(4165),y=n(5861);var N=n(8347);function b(e,s){var n=(0,j.useRef)(!0),t=(0,j.useMemo)((function(){return 864e5}),[]),i=(0,d.C)((function(e){return e.stayModule.filterBy})),c=(0,j.useState)(null),r=(0,a.Z)(c,2),l=r[0],h=r[1];(0,j.useEffect)((function(){if("pending"!==s&&e){var a=function(s){var n=Date.parse((0,N.Z)(Date.now())),a=e?n+t*e.availableDates[0].daysFromToday:n;return{from:new Date(null!==s&&void 0!==s&&s.from?s.from:a),to:new Date(null!==s&&void 0!==s&&s.to?s.to:a+t)}}(i);h(a),n.current=!1}}),[s,e]);var u=l?o.N.getDate(null===l||void 0===l?void 0:l.from):"",f=l?o.N.getDate(null===l||void 0===l?void 0:l.to):"";return[n.current,u,f,l,h]}function w(e,s,n,i,c){var l=(0,j.useRef)(!0),h=(0,j.useMemo)((function(){return{serviceFee:r.Y.getRandomIntInclusive(100,500),cleaningFee:r.Y.getRandomIntInclusive(100,500)}}),[]),d=(0,j.useState)({}),u=(0,a.Z)(d,2),f=u[0],m=u[1];return(0,j.useEffect)((function(){e||(l.current=!1,n&&i&&m((function(e){return(0,t.Z)((0,t.Z)({},e),(0,t.Z)({singleNightPrice:Math.floor(s.price+s.price/8*(c.adults+c.children-1)),guestCount:c.adults+c.children,nightsCount:o.N.calculateHowManyNights(Date.parse(n),Date.parse(i))},h))})))}),[e,n,i,c]),(0,j.useEffect)((function(){l.current||n&&i||m((function(e){return(0,t.Z)((0,t.Z)({},e),{},{nightsCount:null})}))}),[n,i]),[l.current,f]}function k(e){var s=(0,j.useState)(!0),n=(0,a.Z)(s,2),t=n[0],c=n[1],r=(0,d.C)((function(e){return e.stayModule.stay})),l=(0,d.C)((function(e){return e.stayModule.reqStatusLoadStay})),o=(0,d.C)((function(e){return e.userModule.user})),h=(0,d.C)((function(e){return e.stayModule.reqStatusLoadWishlistId})),u=(0,j.useRef)();!function(e){var s=(0,i.s0)(),n=(0,d.T)(),t=(0,j.useCallback)((0,y.Z)((0,v.Z)().mark((function t(){return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n((0,g.hR)(e));case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0),s("/");case 9:case"end":return t.stop()}}),t,null,[[0,5]])}))),[s,n,e]);(0,j.useEffect)((function(){t()}),[t])}(e);var f=b(r,l),m=(0,a.Z)(f,5),x=m[0],N=m[1],k=m[2],C=m[3],S=m[4],Z=function(){var e,s=(0,d.C)((function(e){return e.stayModule.filterBy})),n=(null===s||void 0===s||null===(e=s.guests)||void 0===e?void 0:e.adults)>0?s.guests:{adults:1,children:0,infants:0,pets:0},t=(0,j.useState)(n),i=(0,a.Z)(t,2);return[i[0],i[1]]}(),R=(0,a.Z)(Z,2),D=R[0],M=R[1],I=w(x,r,N,k,D),P=(0,a.Z)(I,2),F=P[0],A=P[1],E=(0,d.T)();return(0,j.useEffect)((function(){return function(){E((0,g.cs)("idle")),E((0,g.i7)("idle"))}}),[]),(0,j.useEffect)((function(){o&&"idle"===h&&(E((0,g.j1)()),E((0,g.Fr)(e)))}),[h,E]),(0,j.useEffect)((function(){"pending"!==l&&r&&(u.current=p.W.randomHostImg())}),[l,r]),(0,j.useEffect)((function(){F||c(!1)}),[F]),[t,r,u.current,N,k,C,S,D,M,A]}var C=n(513),S=n(3649),Z=n(5668),R=n(5875),D=n(184);function M(e){var s=e.stay,n=e.selectedRange,t=e.onCheckAvailabilityClick,a=e.onReserveClick,i=e.isMobile,c=s.reviews.length,r=o.N.getStayScore(s.reviews),l=s.price.toLocaleString(),h="".concat(c," ").concat(c>1?"reviews":"review");return(0,D.jsx)("section",{className:"stay-details-nav-reserve-sticky-container details-layout",children:(0,D.jsxs)("section",{className:"stay-details-nav-reserve-sticky flex space-between justify-center",children:[!i&&(0,D.jsxs)("nav",{className:"links-container ff-circular-semibold fs14 lh20 flex align-center",children:[(0,D.jsx)("a",{href:"#photos",children:"Photos"}),(0,D.jsx)("a",{href:"#amenities",children:"Amenities"}),(0,D.jsx)("a",{href:"#reviews",children:"Reviews"}),(0,D.jsx)("a",{href:"#location",children:"Location"})]}),(0,D.jsxs)("section",{className:"reserve-container flex align-center ".concat(i?"space-between":"justify-end"),children:[(0,D.jsxs)("section",{className:"stay-info flex column",children:[(0,D.jsxs)("section",{className:"price flex",children:[(0,D.jsxs)("span",{className:"ff-circular-semibold fs16 lh20",children:["$",l]}),(0,D.jsx)("span",{className:"fs14 lh18",children:"night"})]}),(0,D.jsxs)("section",{className:"score ff-circular-semibold lh16 flex align-baseline",children:[(0,D.jsx)("span",{className:"star fs10",children:(0,D.jsx)(R.Z,{svgName:S.Js})}),(0,D.jsx)("span",{className:"review-rate fs12",children:r}),(0,D.jsx)("span",{className:"review-count underline fs12",children:h})]})]}),n.from&&n.to?(0,D.jsx)(Z.K,{text:"Reserve",onClickButton:function(e){return a(e)}}):(0,D.jsx)(Z.K,{text:"Check availability",onClickButton:function(e){return t(e)}})]})]})})}function I(e){var s=e.isMobile,n=e.checkIn;return(0,D.jsxs)("section",{className:"things-to-know",children:[!s&&(0,D.jsx)("h2",{className:"title fs22 lh26",children:"Things to know"}),(0,D.jsxs)("section",{className:"rules-container fs16 lh20",children:[(0,D.jsxs)("section",{children:[(0,D.jsx)("h4",{className:"inner-title ff-circular-semibold",children:"House rules"}),(0,D.jsx)("p",{children:"Check-in after 4:00 PM"}),(0,D.jsx)("p",{children:"Checkout before 10:00 AM"}),(0,D.jsx)("p",{children:"Pets allowed"})]}),(0,D.jsxs)("section",{children:[(0,D.jsx)("h4",{className:"inner-title ff-circular-semibold",children:"Safety & property"}),(0,D.jsx)("p",{children:"No smoke alarm"}),(0,D.jsx)("p",{children:"Pool/hot tub without a gate or lock"}),(0,D.jsx)("p",{children:"Carbon monoxide detector not required"})]}),(0,D.jsxs)("section",{children:[(0,D.jsx)("h4",{className:"inner-title ff-circular-semibold",children:"Cancellation policy"}),n?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("p",{children:["Free cancellation before ",n]}),(0,D.jsx)("p",{children:"Review the Host's full cancellation policy which applies even if you cancel for illness for disruptions caused by COVID-19"})]}):(0,D.jsx)("p",{children:"Add your trip dates to get the cancellation details for this stay. "})]})]})]})}function P(e){var s,n,t=e.stay,a=e.hostImgUrl,i=e.randomDateJoined,c=t.host.fullname,r=t.host.location,l=t.host.isSuperhost,o=null===(s=t.host)||void 0===s?void 0:s.about,h=t.reviews.length,d=null!==(n=t.host)&&void 0!==n&&n.responseTime?t.host.responseTime:"within a few hours",u="".concat(h," ").concat(h>1?"reviews":"review");return(0,D.jsxs)("section",{className:"host-details-container",children:[(0,D.jsxs)("section",{className:"host-details-header flex align-center gap16",children:[(0,D.jsx)("section",{children:(0,D.jsx)("img",{src:a,alt:"host"})}),(0,D.jsxs)("section",{className:"host-intro-info",children:[(0,D.jsxs)("h3",{className:"host-name fs22",children:["Hosted by ",c]}),(0,D.jsxs)("span",{className:"host-join-date",children:["Joined in ",i]})]})]}),(0,D.jsxs)("section",{className:"host-details-main",children:[(0,D.jsxs)("section",{className:"host-main-info-container",children:[(0,D.jsxs)("section",{className:"host-tags fs16 lh20 flex align-center flex-wrap",children:[(0,D.jsxs)("section",{className:"reviews-count flex align-center",children:[(0,D.jsx)(R.Z,{svgName:S.Xs}),(0,D.jsx)("span",{children:u})]}),(0,D.jsxs)("section",{className:"identity-verified flex align-center",children:[(0,D.jsx)(R.Z,{svgName:S.OO}),(0,D.jsx)("span",{children:"identity verified"})]}),l&&(0,D.jsxs)("section",{className:"super-host flex align-center",children:[(0,D.jsx)(R.Z,{svgName:S.er}),(0,D.jsx)("span",{children:"superhost"})]})]}),(0,D.jsxs)("section",{className:"host-main-info fs16",children:[o&&(0,D.jsx)("section",{className:"host-about",children:(0,D.jsx)("p",{className:"lh24",children:o})}),(0,D.jsxs)("section",{className:"during-stay",children:[(0,D.jsx)("h4",{className:"lh20",children:"During your stay"}),(0,D.jsxs)("p",{className:"lh24",children:["We live permanently in ",r," with our family and are on site to answer any questions our guests have. We cook for our guests once a week and hold a weekly pizza night."]})]}),l&&(0,D.jsxs)("section",{className:"is-super-host",children:[(0,D.jsxs)("h4",{className:"lh20",children:[c," is a Superhost"]}),(0,D.jsx)("p",{className:"lh24",children:"Superhosts are experienced, highly rated hosts who are committed to providing great stays for guests."})]})]})]}),(0,D.jsxs)("section",{className:"contact-host flex column",children:[(0,D.jsxs)("ul",{className:"host-response-info fs16 lh20",children:[(0,D.jsxs)("li",{children:["Language: ",(0,D.jsx)("span",{children:"English"})]}),(0,D.jsxs)("li",{children:["Response rate: ",(0,D.jsx)("span",{children:"100%"})]}),(0,D.jsxs)("li",{children:["Response time: ",(0,D.jsx)("span",{children:d})]})]}),(0,D.jsx)("button",{className:"ff-circular-semibold fs16 lh20",children:"Contact Host"}),(0,D.jsxs)("section",{className:"protection-info flex space-between align-center gap16 fs12",children:[(0,D.jsx)("span",{children:"To protect your payment, never transfer money or communicate outside of the Airbnb website or app."}),(0,D.jsx)("img",{src:"https://res.cloudinary.com/dnhn4zsy0/image/upload/v1685913828/airbnb-orotect_ohgcnp.svg",alt:"airbnb protect"})]})]})]})]})}var F=n(2134),A=n(2040),E=n(7265);var O={getApiKeyGoogleMap:function(){return E.R.get("".concat("secret","/key/google_map"))}},L=n(1306);function Y(){var e=(0,j.useState)({}),s=(0,a.Z)(e,2),n=s[0],t=s[1],i=(0,j.useState)(!0),c=(0,a.Z)(i,2),r=c[0],l=c[1];function o(){return(o=(0,y.Z)((0,v.Z)().mark((function e(){var s;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.getApiKeyGoogleMap();case 3:s=e.sent,t((function(){return s})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error",e.t0),(0,L.oc)("Failed Loading Map");case 11:return e.prev=11,l(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,7,11,14]])})))).apply(this,arguments)}return(0,j.useEffect)((function(){!function(){o.apply(this,arguments)}()}),[]),[r,n.secret]}function W(e){var s=e.loc,n=Y(),t=(0,a.Z)(n,2),i=t[0],c=t[1],r=s.lat,l=s.lan,o=(0,j.useState)({lat:l,lng:r}),h=(0,a.Z)(o,2),d=h[0],u=(h[1],(0,j.useState)(12)),f=(0,a.Z)(u,2),m=f[0],x=(f[1],function(){return(0,D.jsxs)("div",{className:"map-popper",children:[(0,D.jsx)(F.V9Z,{}),(0,D.jsx)("div",{className:"popper-wedge"})]})});return i?(0,D.jsx)(C.a,{}):(0,D.jsx)("section",{className:"map",style:{height:"60vh",width:"100%"},children:(0,D.jsx)(A.ZP,{bootstrapURLKeys:{key:c},defaultCenter:d,center:d,zoom:m,defaultZoom:m,children:(0,D.jsx)(x,{lat:l,lng:r})})})}function _(e){var s=e.stay.loc,n=s.lat,t=s.lan,a=s.city,i=s.country;return(0,D.jsxs)("section",{className:"stay-map-container",id:"location",children:[(0,D.jsx)("h3",{className:"title fs22 lh26",children:"Where you'll be"}),(0,D.jsxs)("p",{className:"location fs16 lh20",children:[a,", ",i]}),(0,D.jsx)(W,{loc:{lat:n,lan:t}})]})}function T(e){var s=e.review,n=p.W.randomHostImg(),t=s.by.fullname,a=r.Y.getFormattedDate(s.at,{month:"long",year:"numeric"});return(0,D.jsxs)("section",{className:"stay-review-preview",children:[(0,D.jsxs)("section",{className:"mini-user flex align-center gap10",children:[(0,D.jsx)("section",{children:(0,D.jsx)("img",{src:n,alt:"host"})}),(0,D.jsxs)("section",{className:"flex column gap2",children:[(0,D.jsx)("h4",{className:"fs16 lh20",children:t}),(0,D.jsx)("span",{className:"fs14 lh20",children:a})]})]}),(0,D.jsx)("section",{className:"review-content fs16",children:(0,D.jsx)("p",{children:s.txt})})]})}function U(e){var s=e.reviewsToDisplay;return(0,D.jsx)("section",{className:"stay-review-list",children:s.map((function(e,s){return(0,D.jsx)(T,{review:e},s)}))})}function G(e){var s=e.stay,n=e.averageReviewScore,t=s.reviews.length,a="".concat(t," ").concat(t>1?"reviews":"review");return(0,D.jsxs)("section",{className:"stay-reviews-header fs22 lh26 flex align-center",children:[(0,D.jsx)(R.Z,{svgName:S.Xs}),(0,D.jsxs)("section",{className:"stay-score-and-review-count",children:[(0,D.jsx)("span",{className:"ff-circular-semibold",children:n}),(0,D.jsx)("span",{children:" \u2022 "}),(0,D.jsx)("span",{className:"ff-circular-semibold",children:a})]})]})}function q(e){var s=e.category,n=e.avgScore;return(0,D.jsxs)("section",{className:"category-score-preview flex align-center",children:[(0,D.jsx)("div",{className:"category-name fs16 lh20 capitalize",children:s}),(0,D.jsxs)("section",{className:"category-score flex align-center justify-end",children:[(0,D.jsx)("section",{className:"score-bar-container",children:(0,D.jsx)("div",{className:"score-bar",style:{width:"".concat(r.Y.calculatePercentage(n),"%")}})}),(0,D.jsx)("span",{className:"score-average ff-circular-semibold fs12",children:n.toFixed(1)})]})]})}function J(e){var s=e.stayCategoryScores;return(0,D.jsx)("section",{className:"category-score-list",children:Object.entries(s).map((function(e){var s=(0,a.Z)(e,2),n=s[0],t=s[1];return(0,D.jsx)(q,{category:n,avgScore:t},n)}))})}function z(e){var s=e.stay,n=e.stayCategoryScores,t=e.averageReviewScore,a=s.reviews.slice(0,6);return(0,D.jsxs)("section",{className:"stay-reviews-container",id:"reviews",children:[(0,D.jsx)(G,{stay:s,averageReviewScore:t}),(0,D.jsx)(J,{stayCategoryScores:n}),(0,D.jsx)(U,{reviewsToDisplay:a},a.id)]})}function H(e){var s=e.stay,n=e.averageReviewScore,t=e.onLikeClicked,a=e.isStayWishlist,i=e.isMobile,c=s.name,r=s.reviews.length,l=s.loc,o=l.city,h=l.country,d="".concat(r," ").concat(r>1?"reviews":"review");return(0,D.jsx)("section",{className:"details-layout",children:(0,D.jsxs)("section",{className:"stay-title-container flex column",children:[(0,D.jsx)("h1",{className:"ff-circular-regular fs26 lh30",children:c}),(0,D.jsxs)("section",{className:"info-container fs14 flex space-between align-center",children:[(0,D.jsxs)("ul",{className:"info ff-circular-semibold lh20 flex justify-start align-center flex-wrap",children:[(0,D.jsxs)("li",{className:"score-container flex",children:[(0,D.jsxs)("section",{className:"score flex align-center gap4",children:[(0,D.jsx)(R.Z,{svgName:S.Js}),(0,D.jsx)("span",{children:n})]}),(0,D.jsx)("span",{className:"info-review underline",children:d})]}),(0,D.jsx)("li",{children:(0,D.jsxs)("span",{className:"info-loc underline",children:[o,", ",h]})})]}),!i&&(0,D.jsxs)("section",{className:"action-buttons lh18 flex align-baseline gap20",children:[(0,D.jsxs)("section",{className:"share flex align-center gap8",children:[(0,D.jsx)(R.Z,{svgName:S.Dp}),(0,D.jsx)("span",{className:"ff-circular-semibold underline capitalize",children:"share"}),(0,D.jsx)("div",{className:"overlay"})]}),(0,D.jsxs)("section",{className:"flex align-center gap8",onClick:function(e){return t(e)},children:[(0,D.jsx)(R.Z,{svgName:a()?S.rn:S.Jd}),(0,D.jsx)("span",{className:"ff-circular-semibold underline capitalize",children:"save"}),(0,D.jsx)("div",{className:"overlay"})]})]})]})]})})}function $(e){var s=e.highlight,n=s.label,t=s.title,a=s.content;return(0,D.jsxs)("section",{className:"highlight-preview flex gap24",children:[(0,D.jsx)("section",{children:(0,D.jsx)(R.Z,{svgName:n})}),(0,D.jsxs)("section",{className:"highlight-description",children:[(0,D.jsx)("h3",{className:"title fs16 lh20",children:t}),(0,D.jsx)("p",{className:"content fs14 lh20",children:a})]})]})}function K(){var e=[{label:S.Ct,title:"Great location",content:"100% of recent guests gave the location a 5-star rating."},{label:S.Fn,title:"Self check-in",content:"Check yourself in with the lockbox."},{label:S.FP,title:"Free cancellation for 48 hours.",content:""}];return(0,D.jsx)("section",{className:"highlight-list flex column gap24",children:e.map((function(e){return(0,D.jsx)($,{highlight:e},e.title)}))})}function B(e){var s=e.stay,n=e.hostImgUrl;return(0,D.jsxs)("section",{className:"stay-overview-container flex space-between",children:[(0,D.jsxs)("section",{className:"stay-overview",children:[(0,D.jsxs)("h2",{className:"title fs22 lh26",children:["Entire villa hosted by ",s.host.fullname]}),(0,D.jsxs)("ul",{className:"content-list flex fs16 lh20 flex-wrap",children:[(0,D.jsx)("li",{children:"4 guests"}),(0,D.jsx)("li",{children:"2 bedrooms"}),(0,D.jsx)("li",{children:"2 beds"}),(0,D.jsx)("li",{children:"1 bath"})]})]}),(0,D.jsx)("section",{children:(0,D.jsx)("img",{src:n,alt:"host"})})]})}function X(e){var s=e.amenity;return(0,D.jsxs)("section",{className:"amenity-preview fs16 lh20 flex align-center gap16",children:[(0,D.jsx)("section",{children:(0,D.jsx)(R.Z,{svgName:s})}),(0,D.jsx)("span",{children:s})]})}function V(e){var s=e.amenities;return(0,D.jsxs)("section",{className:"amenity-list-container",id:"amenities",children:[(0,D.jsx)("h3",{className:"title fs22 lh26",children:"What this place offers"}),(0,D.jsx)("section",{className:"amenity-list",children:s.slice(0,10).map((function(e){return(0,D.jsx)(X,{amenity:e},e)}))})]})}var Q=n(8101);function ee(e){var s=e.stay,n=e.selectedRange,t=e.handleRangeSelect,a=(0,x.Z)(1250)?1:2;return(0,D.jsxs)("section",{className:"date-container",children:[(0,D.jsx)("h3",{children:"Select check-in date"}),(0,D.jsx)("p",{children:"Add your travel dates for exact pricing"}),(0,D.jsx)(Q.M,{selectedRange:n,handleRangeSelect:t,availableDates:s.availableDates,numberOfMonths:a})]})}function se(e){var s=e.stay,n=e.orderDetails,t=o.N.getStayScore(s.reviews);return(0,D.jsxs)("section",{className:"cost-and-review-score flex space-between align-center flex-wrap col-gap8",children:[(0,D.jsxs)("article",{className:"cost flex align-end",children:[(0,D.jsxs)("span",{className:"fs22 lh26 ff-circular-semibold",children:["$",r.Y.addCommas(n.singleNightPrice)]}),(0,D.jsx)("span",{className:"fs16 lh20",children:"night"})]}),(0,D.jsxs)("article",{className:"review-score flex align-center",children:[(0,D.jsx)(R.Z,{svgName:S.Js}),(0,D.jsx)("span",{className:"score fs14 lh18",children:t}),(0,D.jsxs)("span",{className:"amount fs14 lh18",children:[s.reviews.length," reviews"]})]})]})}function ne(e){var s=e.checkIn,n=e.checkOut,t=e.guests;e.setGuests;var a=p.W.buildGuestsString(t);return(0,D.jsxs)("section",{className:"dates-and-guests",title:"Change here not implemented yet",children:[(0,D.jsxs)("section",{className:"dates-container",onClick:function(e){return function(e){e.preventDefault(),e.stopPropagation()}(e)},children:[(0,D.jsx)("div",{className:"dates-container-border"}),(0,D.jsxs)("section",{className:"dates flex",children:[(0,D.jsxs)("article",{className:"check-in full",children:[(0,D.jsx)("span",{className:"fs10 lh12 ff-circular-bold uppercase",children:"check-in"}),(0,D.jsx)("span",{className:"fs14 lh18".concat(s?"":" empty"),children:s||"Add date"})]}),(0,D.jsxs)("article",{className:"check-out full",children:[(0,D.jsx)("span",{className:"fs10 lh12 ff-circular-bold uppercase",children:"checkout"}),(0,D.jsx)("span",{className:"fs14 lh18".concat(n?"":" empty"),children:n||"Add date"})]})]})]}),(0,D.jsxs)("section",{className:"guests-container",onClick:function(e){return function(e){e.preventDefault(),e.stopPropagation()}(e)},children:[(0,D.jsx)("div",{className:"guests-container-border"}),(0,D.jsx)("section",{className:"guests",children:(0,D.jsxs)("article",{className:"guest-block full",children:[(0,D.jsx)("span",{className:"fs10 lh12 ff-circular-bold uppercase",children:"guests"}),(0,D.jsx)("span",{className:"fs14 lh18",children:a})]})})]})]})}function te(e){var s=e.orderDetails,n=s.singleNightPrice,t=s.nightsCount,a=s.serviceFee,i=s.cleaningFee,c=n*t+a+i;return(0,D.jsxs)("section",{className:"pricing",children:[(0,D.jsxs)("section",{className:"individual-fees",children:[(0,D.jsxs)("article",{className:"flex space-between",children:[(0,D.jsxs)("span",{className:"fs16 lh20 underline",children:["$",n.toLocaleString()," x ",t," nights"]}),(0,D.jsxs)("span",{className:"fs16 lh20",children:["$",n*t]})]}),(0,D.jsxs)("article",{className:"flex space-between",children:[(0,D.jsx)("span",{className:"fs16 lh20 underline",children:"Cleaning fee"}),(0,D.jsxs)("span",{className:"fs16 lh20",children:["$",r.Y.addCommas(i)]})]}),(0,D.jsxs)("article",{className:"flex space-between",children:[(0,D.jsx)("span",{className:"fs16 lh20 underline",children:"StayHub service fee"}),(0,D.jsxs)("span",{className:"fs16 lh20",children:["$",a.toLocaleString()]})]})]}),(0,D.jsx)("section",{className:"total",children:(0,D.jsxs)("article",{className:"flex space-between ff-circular-semibold",children:[(0,D.jsx)("span",{className:"fs16 lh20",children:"Total"}),(0,D.jsxs)("span",{className:"fs16 lh20",children:["$",r.Y.addCommas(c)]})]})})]})}function ae(e){var s=e.stay;return(0,D.jsxs)("section",{className:"special-info flex",children:[(0,D.jsxs)("article",{className:"info-container",children:[(0,D.jsx)("span",{className:"bold fs16 lh20",children:"Lower price."}),(0,D.jsxs)("span",{className:"fs16 lh20",children:["Your dates are $",(.4*s.price).toFixed(0)," less per night compared to the average nightly rate of the last 60 days."]})]}),(0,D.jsx)(R.Z,{svgName:S.tp})]})}function ie(e){var s=e.stay,n=e.checkIn,t=e.checkOut,a=e.guests,i=e.setGuests,c=e.orderDetails,r=e.onCheckAvailabilityClick,l=e.onReserveClick;return(0,D.jsxs)("section",{className:"order-sidebar",children:[(0,D.jsxs)("section",{className:"order-block",children:[(0,D.jsxs)("section",{className:"order",children:[(0,D.jsx)(se,{stay:s,orderDetails:c}),(0,D.jsx)(ne,{checkIn:n,checkOut:t,guests:a,setGuests:i}),n&&t?(0,D.jsx)(Z.K,{text:"Reserve",onClickButton:function(e){return l(e)}}):(0,D.jsx)(Z.K,{text:"Check availability",onClickButton:function(e){return r(e)}})]}),n&&t&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("article",{className:"assurance flex column align-center",children:(0,D.jsx)("span",{className:"fs14 lh18",children:"You won't be charged yet"})}),(0,D.jsx)(te,{orderDetails:c})]})]}),(0,D.jsx)(ae,{stay:s})]})}function ce(e){var s=e.stay,n=e.hostImgUrl,t=e.checkIn,a=e.checkOut,i=e.selectedRange,c=e.handleRangeSelect,r=e.guests,l=e.setGuests,o=e.orderDetails,h=e.onCheckAvailabilityClick,d=e.onReserveClick,u=e.isMobile;return(0,D.jsxs)("section",{className:"summary-container",children:[(0,D.jsxs)("section",{className:"summary",children:[(0,D.jsx)(B,{stay:s,hostImgUrl:n}),(0,D.jsx)(K,{}),(0,D.jsx)(V,{amenities:s.amenities}),(0,D.jsx)(ee,{stay:s,selectedRange:i,handleRangeSelect:c})]}),!u&&(0,D.jsx)("section",{className:"order-sidebar-container",children:(0,D.jsx)(ie,{stay:s,checkIn:t,checkOut:a,guests:r,setGuests:l,orderDetails:o,onCheckAvailabilityClick:h,onReserveClick:d})})]})}function re(e){var s=e.photos,n=e.isMobile,t=n?s.slice(0,1):s.slice(0,5);return(0,D.jsx)("section",{className:"".concat(n?"":"details-layout"),children:(0,D.jsx)("section",{className:"stay-photos-container",children:t.map((function(e,s){return(0,D.jsxs)("section",{className:"photo-preview",children:[(0,D.jsx)("img",{src:e,alt:s}),(0,D.jsx)("div",{className:"overlay"})]},s)}))})})}function le(e){var s=e.onLikeClicked,n=e.isStayWishlist,t=e.onReturnClicked;return(0,D.jsxs)("section",{className:"stay-details-mobile-return-header flex space-between align-center",children:[(0,D.jsx)("section",{className:"return",children:(0,D.jsx)("button",{onClick:function(e){return t(e)},children:(0,D.jsxs)("section",{className:"flex align-center gap8",children:[(0,D.jsx)(R.Z,{svgName:S.pe}),(0,D.jsx)("h2",{className:"capitalize fs14 lh18",children:"homes"})]})})}),(0,D.jsxs)("section",{className:"like-share flex gap20",children:[(0,D.jsx)("button",{className:"share",children:(0,D.jsx)(R.Z,{svgName:S.Dp})}),(0,D.jsx)("button",{onClick:function(e){return s(e)},children:(0,D.jsx)(R.Z,{svgName:n()?S.rn:S.Jd})})]})]})}function oe(){var e,s,n,p=(0,d.T)(),g=(0,i.s0)(),v=(0,i.UO)().stayId,y=(0,d.C)((function(e){return e.userModule.user})),N=(0,d.C)((function(e){return e.stayModule.wishlistIds})),b=(0,x.Z)(),w=k(v),S=(0,a.Z)(w,10),Z=S[0],R=S[1],F=S[2],A=S[3],E=S[4],O=S[5],L=S[6],Y=S[7],W=S[8],T=S[9];function U(){return!!y&&N.some((function(e){return e===v}))}function G(e){e.preventDefault(),e.stopPropagation(),console.log("hi from check availability")}function q(e){e.preventDefault(),e.stopPropagation(),p(y?(0,m.Xk)({stayId:v}):(0,u.Wk)(h.j1))}function J(e){if(e.preventDefault(),e.stopPropagation(),y){var s=function(e){var s=e.guestCount,n=e.singleNightPrice,t=e.nightsCount,a=e.serviceFee,i=e.cleaningFee;return{buyer:{_id:y._id,fullname:y.fullname,img:y.imgUrl,joined:y.joined?y.joined:r.Y.getRandomMonthAndYear()},seller:{_id:R.host._id,fullname:R.host.fullname,img:F,joined:r.Y.getRandomMonthAndYear()},orderDetails:{checkIn:A,checkOut:E,nightsCount:t,guestCount:s,singleNightPrice:n},orderPrice:{price:n*t,serviceFee:a,cleaningFee:i,total:n*t+a+i},stayDetails:{id:R._id,image:R.imgUrls[0],loc:R.loc,summary:R.summary,type:R.type,rate:R.reviews.rate,reviewsCount:R.reviews.length},explore:l.X.getOrderExploreList(),status:"Pending"}}(T);p((0,f.J7)(s)),g("/stay/book/".concat(R._id))}else p((0,u.Wk)(h.j1))}if(n=Z||b,(0,j.useEffect)((function(){if(!n){var e=document.querySelector(".stay-photos-container"),s=document.querySelector(".stay-details-nav-reserve-sticky-container"),t=document.querySelector(".order-sidebar .btn-main-container"),a=document.querySelector(".reserve-container"),i=new IntersectionObserver((function(e){e.forEach((function(e){s.style.display=e.isIntersecting?"none":"grid"}))}),{rootMargin:"-5px 0px 0px"}),c=new IntersectionObserver((function(e){e.forEach((function(e){a.style.display=e.isIntersecting?"none":"flex"}))}),{rootMargin:"-80px 0px 0px 0px"});return i.observe(e),c.observe(t),function(){s.style.removeProperty("display"),a.style.removeProperty("display"),i.disconnect(),c.disconnect()}}}),[n]),Z)return(0,D.jsx)(C.a,{});var $=o.N.getStayCategoryScores(R.reviews),K=r.Y.getRandomMonthAndYear(),B=o.N.getStayScore(R.reviews);return(0,D.jsxs)("section",{className:"stay-details full details-layout".concat(b?" mobile":""),id:"photos",children:[(0,D.jsxs)(c.ql,{children:[(null===R||void 0===R?void 0:R.name)&&(0,D.jsx)("title",{children:R.name}),(null===R||void 0===R||null===(e=R.host)||void 0===e?void 0:e.fullname)&&(0,D.jsx)("meta",{name:"description",content:"Entire villa hosted by ".concat(R.host.fullname)})]}),b&&(0,D.jsx)(le,{onLikeClicked:q,isStayWishlist:U,onReturnClicked:function(e){e.preventDefault(),e.stopPropagation(),g("/")}}),(0,D.jsx)(M,{stay:R,selectedRange:O,onReserveClick:J,onCheckAvailabilityClick:G,isMobile:b}),(0,D.jsxs)("section",{className:"stay-photos-title-container full",children:[(0,D.jsx)(re,{photos:R.imgUrls,isMobile:b}),(0,D.jsx)(H,{stay:R,averageReviewScore:B,onLikeClicked:q,isStayWishlist:U,isMobile:b})]}),(0,D.jsx)(ce,{stay:R,hostImgUrl:F,checkIn:A,checkOut:E,selectedRange:O,handleRangeSelect:function(e){var s={from:"",to:""};e?(s.from=e.from,s.to=e.to,e.from||(s.from=""),e.to||(s.to=""),e.from&&Date.parse(e.from)===Date.parse(e.to)&&(Date.parse(O.from)===Date.parse(e.from)&&""===O.to&&(s.from=""),s.to="")):O.from&&O.to&&(s.from=O.from),L((function(e){return(0,t.Z)((0,t.Z)({},e),s)}))},guests:Y,setGuests:W,orderDetails:T,onCheckAvailabilityClick:G,onReserveClick:J,isMobile:b}),(null===(s=R.reviews)||void 0===s?void 0:s.length)>0&&(0,D.jsx)(z,{stay:R,stayCategoryScores:$,averageReviewScore:B}),(0,D.jsx)(_,{stay:R}),(0,D.jsx)(P,{stay:R,hostImgUrl:F,randomDateJoined:K}),(0,D.jsx)(I,{isMobile:b,checkIn:A})]})}}}]);
//# sourceMappingURL=969.bbe70b62.chunk.js.map