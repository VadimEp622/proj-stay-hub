{"version":3,"file":"static/js/969.bbe70b62.chunk.js","mappings":"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","sources":["customHooks/useStayDetailsDates.js","customHooks/useStayDetailsOrderDetails.js","customHooks/useStayDetails.js","customHooks/useLoadStay.js","customHooks/useStayDetailsGuests.js","cmps/stay-details/stay-details-nav-reserve-sticky.jsx","cmps/stay-details/stay-things-to-know.jsx","cmps/stay-details/stay-host-details.jsx","services/secret.service.js","customHooks/useFetchSecret.js","cmps/_reuseable-cmps/map.jsx","cmps/stay-details/stay-map.jsx","cmps/stay-details/stay-reviews/stay-review-preview.jsx","cmps/stay-details/stay-reviews/stay-review-list.jsx","cmps/stay-details/stay-reviews/stay-reviews-header.jsx","cmps/stay-details/stay-reviews/category-score-preview.jsx","cmps/stay-details/stay-reviews/category-score-list.jsx","cmps/stay-details/stay-reviews.jsx","cmps/stay-details/stay-title.jsx","cmps/stay-details/stay-summary/highlight-preview.jsx","cmps/stay-details/stay-summary/highlight-list.jsx","cmps/stay-details/stay-summary/overview.jsx","cmps/stay-details/stay-summary/amenity-preview.jsx","cmps/stay-details/stay-summary/amenity-list.jsx","cmps/stay-details/stay-summary/stay-dates.jsx","cmps/stay-details/stay-summary/order-sidebar/cost-and-review-score.jsx","cmps/stay-details/stay-summary/order-sidebar/dates-and-guests.jsx","cmps/stay-details/stay-summary/order-sidebar/pricing.jsx","cmps/stay-details/stay-summary/order-sidebar/special-info.jsx","cmps/stay-details/stay-summary/order-sidebar.jsx","cmps/stay-details/stay-summary.jsx","cmps/stay-details/stay-photos.jsx","cmps/stay-details/stay-details-mobile-return-header.jsx","pages/stay-details.jsx","customHooks/useStayDetailsIntersectionObserver.js"],"sourcesContent":["// Node modules\r\nimport { useEffect, useMemo, useRef, useState } from 'react'\r\nimport { startOfDay } from 'date-fns'\r\n\r\n// Services\r\nimport { stayService } from '../services/stay.service'\r\n\r\n// Store\r\nimport { useAppSelector } from '../store/hooks'\r\n\r\n\r\nexport default function useStayDetailsDates(stay, reqStatusLoadStay) {\r\n    const isLoadingDatesRef = useRef(true)\r\n    const DAY = useMemo(() => 1000 * 60 * 60 * 24, [])\r\n    const filterBy = useAppSelector(storeState => storeState.stayModule.filterBy)\r\n    const [selectedRange, setSelectedRange] = useState(null)\r\n\r\n\r\n    useEffect(() => {\r\n        if (reqStatusLoadStay !== 'pending' && stay) {\r\n            const initialState = getInitialState(filterBy)\r\n            setSelectedRange(initialState)\r\n            isLoadingDatesRef.current = false\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [reqStatusLoadStay, stay])\r\n\r\n\r\n    function getInitialState(filterBy) {\r\n        const today = Date.parse(startOfDay(Date.now()))\r\n        const earliestCheckIn = stay\r\n            ? today + (DAY * stay.availableDates[0].daysFromToday)\r\n            : today\r\n\r\n        return {\r\n            from: new Date(filterBy?.from ? filterBy.from : earliestCheckIn),\r\n            to: new Date(filterBy?.to ? filterBy.to : earliestCheckIn + DAY)\r\n        }\r\n    }\r\n\r\n    const checkIn = selectedRange ? stayService.getDate(selectedRange?.from) : ''\r\n    const checkOut = selectedRange ? stayService.getDate(selectedRange?.to) : ''\r\n\r\n    return [isLoadingDatesRef.current, checkIn, checkOut, selectedRange, setSelectedRange]\r\n}","// Node modules\r\nimport { useEffect, useMemo, useRef, useState } from 'react'\r\n\r\n// Services\r\nimport { stayService } from '../services/stay.service'\r\nimport { utilService } from '../services/util.service.js'\r\n\r\n\r\nexport default function useStayDetailsOrderDetails(isLoadingDates, stay, checkIn, checkOut, guests) {\r\n    const isLoadingOrderDetailsRef = useRef(true)\r\n\r\n    const immutableFees = useMemo(() => ({\r\n        serviceFee: utilService.getRandomIntInclusive(100, 500),\r\n        cleaningFee: utilService.getRandomIntInclusive(100, 500)\r\n    }), [])\r\n\r\n    const [orderDetails, setOrderDetails] = useState({})\r\n\r\n\r\n    useEffect(() => {\r\n        if (!isLoadingDates) {\r\n            isLoadingOrderDetailsRef.current = false\r\n            if (checkIn && checkOut) {\r\n                handleOrderDetailsUpdate()\r\n            }\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [isLoadingDates, checkIn, checkOut, guests])\r\n\r\n\r\n    useEffect(() => {\r\n        if (!isLoadingOrderDetailsRef.current && (!checkIn || !checkOut)) handleOrderDetailsDatesReset()\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [checkIn, checkOut])\r\n\r\n    function handleOrderDetailsUpdate() {\r\n        setOrderDetails(prevOrder => ({ ...prevOrder, ...getUpdatedValues() }))\r\n    }\r\n\r\n    function handleOrderDetailsDatesReset() {\r\n        setOrderDetails(prevOrder => ({ ...prevOrder, nightsCount: null }))\r\n    }\r\n\r\n    function getUpdatedValues() {\r\n        return {\r\n            singleNightPrice: Math.floor(stay.price + ((stay.price / 8) * (guests.adults + guests.children - 1))),\r\n            guestCount: guests.adults + guests.children,\r\n            nightsCount: stayService.calculateHowManyNights(Date.parse(checkIn), Date.parse(checkOut)),\r\n            ...immutableFees\r\n        }\r\n    }\r\n\r\n    return [isLoadingOrderDetailsRef.current, orderDetails]\r\n}","// Node modules\r\nimport { useEffect, useRef, useState } from 'react'\r\n\r\n// Services\r\nimport { userService } from '../services/user.service'\r\n\r\n// Store\r\nimport { useAppDispatch, useAppSelector } from '../store/hooks'\r\nimport { loadWishlistedStayId, stayResetWishlistIds, stayUpdateReqStatusLoadStay, stayUpdateReqStatusLoadWishlistId } from '../store/staySlice'\r\n\r\n// Custom hooks\r\nimport useLoadStay from './useLoadStay'\r\nimport useStayDetailsDates from './useStayDetailsDates'\r\nimport useStayDetailsGuests from './useStayDetailsGuests'\r\nimport useStayDetailsOrderDetails from './useStayDetailsOrderDetails'\r\n\r\n\r\nexport default function useStayDetails(stayId) {\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const stay = useAppSelector(storeState => storeState.stayModule.stay)\r\n    const reqStatusLoadStay = useAppSelector(storeState => storeState.stayModule.reqStatusLoadStay)\r\n    const loggedinUser = useAppSelector(storeState => storeState.userModule.user)\r\n    const reqStatusLoadWishlistId = useAppSelector(storeState => storeState.stayModule.reqStatusLoadWishlistId)\r\n    const stayHostImgUrlRef = useRef()\r\n\r\n    useLoadStay(stayId)\r\n    const [isLoadingDates, checkIn, checkOut, selectedRange, setSelectedRange] = useStayDetailsDates(stay, reqStatusLoadStay)\r\n    const [guests, setGuests] = useStayDetailsGuests()// TODO: isLoadedGuests\r\n    const [isLoadingOrderDetails, orderDetails] = useStayDetailsOrderDetails(isLoadingDates, stay, checkIn, checkOut, guests)// TODO: !isLoadedDates && !isLoadedGuests\r\n    const dispatch = useAppDispatch()\r\n\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            dispatch(stayUpdateReqStatusLoadWishlistId(\"idle\"))\r\n            dispatch(stayUpdateReqStatusLoadStay(\"idle\"))\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (loggedinUser && reqStatusLoadWishlistId === \"idle\") {\r\n            dispatch(stayResetWishlistIds())\r\n            dispatch(loadWishlistedStayId(stayId))\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [reqStatusLoadWishlistId, dispatch])\r\n\r\n    useEffect(() => {\r\n        if (reqStatusLoadStay !== 'pending' && stay) stayHostImgUrlRef.current = userService.randomHostImg()\r\n    }, [reqStatusLoadStay, stay])\r\n\r\n    useEffect(() => {\r\n        if (!isLoadingOrderDetails) setIsLoading(false)\r\n    }, [isLoadingOrderDetails])\r\n\r\n\r\n\r\n    return [\r\n        isLoading,\r\n        stay, stayHostImgUrlRef.current,\r\n        checkIn, checkOut, selectedRange, setSelectedRange,\r\n        guests, setGuests,\r\n        orderDetails,\r\n    ]\r\n}\r\n","// Node modules\r\nimport { useCallback, useEffect } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\n// Store\r\nimport { loadStay } from '../store/staySlice'\r\nimport { useAppDispatch } from '../store/hooks'\r\n\r\n\r\nexport default function useLoadStay(stayId) {\r\n    const navigate = useNavigate()\r\n    const dispatch = useAppDispatch()\r\n\r\n    const handleLoadStay = useCallback(async () => {\r\n        try {\r\n            await dispatch(loadStay(stayId))\r\n        } catch (err) {\r\n            console.log(err)\r\n            navigate('/')\r\n        }\r\n    }, [navigate, dispatch, stayId])\r\n\r\n    useEffect(() => {\r\n        handleLoadStay()\r\n    }, [handleLoadStay])\r\n}","// Node modules\r\nimport { useState } from 'react'\r\n\r\n// Store\r\nimport { useAppSelector } from '../store/hooks'\r\n\r\n\r\nexport default function useStayDetailsGuests() {\r\n    const filterBy = useAppSelector(storeState => storeState.stayModule.filterBy)\r\n    const initialState = filterBy?.guests?.adults > 0 ?\r\n        filterBy.guests :\r\n        {\r\n            adults: 1,\r\n            children: 0,\r\n            infants: 0,\r\n            pets: 0\r\n        }\r\n    const [guests, setGuests] = useState(initialState)\r\n\r\n    return [guests, setGuests]\r\n}","// Services\r\nimport { stayService } from '../../services/stay.service'\r\nimport { STAR } from '../../services/svg.service.js'\r\n\r\n// Components\r\nimport { ButtonMain } from '../_reuseable-cmps/button-main.jsx'\r\nimport SvgHandler from '../_reuseable-cmps/svg-handler.jsx'\r\n\r\n\r\nexport function StayDetailsNavReserveSticky({ stay, selectedRange, onCheckAvailabilityClick, onReserveClick, isMobile }) {\r\n\r\n    const reviewCount = stay.reviews.length\r\n    const stayScore = stayService.getStayScore(stay.reviews)\r\n    const stayPrice = stay.price.toLocaleString()\r\n\r\n    const reviewCountStr = `${reviewCount} ${reviewCount > 1 ? 'reviews' : 'review'}`\r\n    return (\r\n        <section className='stay-details-nav-reserve-sticky-container details-layout'>\r\n            <section className='stay-details-nav-reserve-sticky flex space-between justify-center'>\r\n\r\n                {!isMobile &&\r\n                    <nav className='links-container ff-circular-semibold fs14 lh20 flex align-center'>\r\n                        <a href='#photos'>Photos</a>\r\n                        <a href='#amenities'>Amenities</a>\r\n                        <a href='#reviews'>Reviews</a>\r\n                        <a href='#location'>Location</a>\r\n                    </nav>\r\n                }\r\n\r\n                <section className={`reserve-container flex align-center ${isMobile ? 'space-between' : 'justify-end'}`}>\r\n                    <section className='stay-info flex column'>\r\n\r\n                        <section className='price flex'>\r\n                            <span className='ff-circular-semibold fs16 lh20'>${stayPrice}</span>\r\n                            <span className='fs14 lh18'>night</span>\r\n                        </section>\r\n\r\n                        <section className='score ff-circular-semibold lh16 flex align-baseline'>\r\n                            <span className='star fs10'><SvgHandler svgName={STAR} /></span>\r\n                            <span className='review-rate fs12'>{stayScore}</span>\r\n                            <span className='review-count underline fs12'>{reviewCountStr}</span>\r\n                        </section>\r\n\r\n                    </section>\r\n\r\n                    {(selectedRange.from && selectedRange.to)\r\n                        ? <ButtonMain\r\n                            text={'Reserve'}\r\n                            onClickButton={(ev) => onReserveClick(ev)}\r\n                        />\r\n                        : <ButtonMain\r\n                            text={'Check availability'}\r\n                            onClickButton={(ev) => onCheckAvailabilityClick(ev)}\r\n                        />\r\n                    }\r\n                </section>\r\n            </section>\r\n        </section >\r\n    )\r\n}","export function ThingsToKnow({ isMobile, checkIn }) {\r\n\r\n    return (\r\n\r\n        <section className='things-to-know'>\r\n            {!isMobile &&\r\n                <h2 className='title fs22 lh26'>Things to know</h2>\r\n            }\r\n            <section className='rules-container fs16 lh20'>\r\n\r\n                <section>\r\n                    <h4 className='inner-title ff-circular-semibold'>House rules</h4>\r\n                    <p>Check-in after 4:00 PM</p>\r\n                    <p>Checkout before 10:00 AM</p>\r\n                    <p>Pets allowed</p>\r\n                </section>\r\n\r\n                <section>\r\n                    <h4 className='inner-title ff-circular-semibold'>Safety & property</h4>\r\n                    <p>No smoke alarm</p>\r\n                    <p>Pool/hot tub without a gate or lock</p>\r\n                    <p>Carbon monoxide detector not required</p>\r\n                </section>\r\n\r\n                <section>\r\n                    <h4 className='inner-title ff-circular-semibold'>Cancellation policy</h4>\r\n                    {checkIn ?\r\n                        <>\r\n                            <p>Free cancellation before {checkIn}</p>\r\n                            <p>Review the Host's full cancellation policy which applies even if you cancel for illness for disruptions caused by COVID-19</p>\r\n                        </>\r\n                        : <p>Add your trip dates to get the cancellation details for this stay. </p>\r\n                    }\r\n                </section>\r\n\r\n            </section>\r\n        </section>\r\n    )\r\n}","import { BLACK_SUPERHOST_16, STAR_16, VERIFIED } from '../../services/svg.service.js'\r\nimport SvgHandler from '../_reuseable-cmps/svg-handler.jsx'\r\n\r\n\r\n// TODO low: some host don't have response time in the database\r\n\r\nexport function HostDetails({ stay, hostImgUrl, randomDateJoined }) {\r\n\r\n    const hostName = stay.host.fullname\r\n    const hostLocation = stay.host.location\r\n    const isSuperHost = stay.host.isSuperhost\r\n    const aboutHost = stay.host?.about\r\n    const reviewsCount = stay.reviews.length\r\n    const responseTime = stay.host?.responseTime ? stay.host.responseTime : 'within a few hours'\r\n\r\n    const reviewCountStr = `${reviewsCount} ${reviewsCount > 1 ? 'reviews' : 'review'}`\r\n    return (\r\n        <section className='host-details-container'>\r\n\r\n            <section className='host-details-header flex align-center gap16'>\r\n                <section>\r\n                    <img src={hostImgUrl} alt='host' />\r\n                </section>\r\n                <section className='host-intro-info'>\r\n                    <h3 className='host-name fs22'>Hosted by {hostName}</h3>\r\n                    <span className='host-join-date'>Joined in {randomDateJoined}</span>\r\n                </section>\r\n            </section>\r\n\r\n            <section className='host-details-main'>\r\n\r\n                <section className='host-main-info-container'>\r\n                    <section className='host-tags fs16 lh20 flex align-center flex-wrap'>\r\n                        <section className='reviews-count flex align-center'>\r\n                            <SvgHandler svgName={STAR_16} />\r\n                            <span>{reviewCountStr}</span>\r\n                        </section>\r\n                        <section className='identity-verified flex align-center'>\r\n                            <SvgHandler svgName={VERIFIED} />\r\n                            <span>identity verified</span>\r\n                        </section>\r\n                        {isSuperHost &&\r\n                            <section className='super-host flex align-center'>\r\n                                <SvgHandler svgName={BLACK_SUPERHOST_16} />\r\n                                <span>superhost</span>\r\n                            </section>\r\n                        }\r\n                    </section>\r\n\r\n                    <section className='host-main-info fs16'>\r\n\r\n                        {aboutHost &&\r\n                            <section className='host-about'>\r\n                                <p className='lh24'>{aboutHost}</p>\r\n                            </section>\r\n                        }\r\n\r\n                        <section className='during-stay'>\r\n                            <h4 className='lh20'>During your stay</h4>\r\n                            <p className='lh24'>\r\n                                We live permanently in {hostLocation} with our family and are on site to answer any questions our guests have.\r\n                                We cook for our guests once a week and hold a weekly pizza night.\r\n                            </p>\r\n                        </section>\r\n\r\n                        {isSuperHost &&\r\n                            <section className='is-super-host'>\r\n                                <h4 className='lh20'>{hostName} is a Superhost</h4>\r\n                                <p className='lh24'>Superhosts are experienced, highly rated hosts who are committed to providing great stays for guests.</p>\r\n                            </section>\r\n                        }\r\n\r\n                    </section>\r\n                </section>\r\n\r\n                <section className='contact-host flex column'>\r\n                    <ul className='host-response-info fs16 lh20'>\r\n                        <li>Language: <span>English</span></li>\r\n                        <li>Response rate: <span>100%</span></li>\r\n                        <li>Response time: <span>{responseTime}</span></li>\r\n                    </ul>\r\n                    <button className='ff-circular-semibold fs16 lh20'>Contact Host</button>\r\n                    <section className='protection-info flex space-between align-center gap16 fs12'>\r\n                        <span>To protect your payment, never transfer money or communicate outside of the Airbnb website or app.</span>\r\n                        <img src='https://res.cloudinary.com/dnhn4zsy0/image/upload/v1685913828/airbnb-orotect_ohgcnp.svg' alt='airbnb protect' />\r\n                    </section>\r\n                </section>\r\n            </section>\r\n        </section>\r\n    )\r\n}","import { httpService } from './http.service'\r\n\r\n\r\nconst BASE_URL = 'secret'\r\n\r\n\r\nfunction getApiKeyGoogleMap() {\r\n    return httpService.get(`${BASE_URL}/key/google_map`)\r\n}\r\n\r\n\r\nexport const secretService = {\r\n    getApiKeyGoogleMap,\r\n}","import { useEffect, useState } from 'react'\r\nimport { secretService } from '../services/secret.service'\r\nimport { showErrorMsg } from '../services/event-bus.service'\r\n\r\n\r\nexport default function useFetchSecret() {\r\n    const [secret, setSecret] = useState({})\r\n    const [isLoading, setIsLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        handleFetchSecret()\r\n    }, [])\r\n\r\n    async function handleFetchSecret() {\r\n        try {\r\n            const fetchedSecret = await secretService.getApiKeyGoogleMap()\r\n            setSecret(() => fetchedSecret)\r\n        } catch (error) {\r\n            console.log('error', error)\r\n            showErrorMsg('Failed Loading Map')\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    return [isLoading, secret.secret]\r\n}","import { useState } from 'react'\r\nimport { AiFillHome } from 'react-icons/ai'\r\nimport GoogleMapReact from 'google-map-react'\r\nimport useFetchSecret from '../../customHooks/useFetchSecret'\r\nimport { Loader } from './loader'\r\n\r\n\r\nfunction Marker() {\r\n    return <div style={{ height: '1em', width: '1em', borderRadius: '50%', background: 'red' }}></div>\r\n}\r\n\r\n\r\n// TODO: research and improve this map cmp\r\n\r\n\r\nexport default function SimpleMap({ loc }) {\r\n    //IMPORTANT NOTE: DEMO DATA CONFUSED LAT AND LAN.\r\n    //ALSO:           GoogleMapReact ONLY WORKS WITH LNG KEY, NOT LAN KEY\r\n\r\n    const [isLoading, API_KEY] = useFetchSecret()\r\n    const lng = loc.lat\r\n    const lat = loc.lan\r\n    const [center, setCenter] = useState({ lat, lng })\r\n    const [zoom, setZoom] = useState(12)\r\n    const Popper = () => <div className='map-popper'><AiFillHome /><div className='popper-wedge'></div></div>\r\n\r\n    if (isLoading) return <Loader />\r\n    return (\r\n\r\n        <section className='map' style={{ height: '60vh', width: '100%' }}>\r\n            <GoogleMapReact\r\n                bootstrapURLKeys={{ key: API_KEY }}\r\n                defaultCenter={center}\r\n                center={center}\r\n                zoom={zoom}\r\n                defaultZoom={zoom}>\r\n                <Popper lat={lat} lng={lng} />\r\n                {/* <Marker lat={lat} lng={lng} /> */}\r\n            </GoogleMapReact>\r\n        </section>\r\n    )\r\n}","import GoogleMap from '../_reuseable-cmps/map.jsx'\r\n\r\nexport function StayMap({ stay }) {\r\n\r\n    const { lat, lan, city, country } = stay.loc\r\n    return (\r\n        <section className='stay-map-container' id='location'>\r\n            <h3 className='title fs22 lh26'>Where you'll be</h3>\r\n            <p className='location fs16 lh20'>{city}, {country}</p>\r\n            <GoogleMap loc={{ lat, lan }} />\r\n        </section>\r\n    )\r\n}","import { userService } from \"../../../services/user.service\"\r\nimport { utilService } from \"../../../services/util.service\"\r\n\r\nexport function StayReviewPreview({ review }) {\r\n\r\n    const reviewerPicUrl = userService.randomHostImg()\r\n    const reviewerName = review.by.fullname\r\n    const reviewDate = utilService.getFormattedDate(review.at, { month: 'long', year: 'numeric' })\r\n\r\n    return (\r\n        <section className='stay-review-preview'>\r\n            <section className='mini-user flex align-center gap10'>\r\n                <section>\r\n                    <img src={reviewerPicUrl} alt='host' />\r\n                </section>\r\n                <section className='flex column gap2'>\r\n                    <h4 className='fs16 lh20'>{reviewerName}</h4>\r\n                    <span className='fs14 lh20'>{reviewDate}</span>\r\n                </section>\r\n            </section>\r\n\r\n            <section className='review-content fs16'>\r\n                <p>{review.txt}</p>\r\n            </section>\r\n        </section>\r\n    )\r\n}","import { StayReviewPreview } from './stay-review-preview.jsx'\r\n\r\n\r\n// TODO: consider making a stay-review modal with grayed out background for all stay's reviews\r\n\r\n\r\nexport function StayReviewList({ reviewsToDisplay }) {\r\n  return (\r\n    <section className='stay-review-list'>\r\n      {reviewsToDisplay.map((review, idx) =>\r\n        <StayReviewPreview key={idx} review={review} />\r\n      )}\r\n    </section>\r\n  )\r\n}","import { STAR_16 } from '../../../services/svg.service'\r\nimport SvgHandler from '../../_reuseable-cmps/svg-handler'\r\n\r\nexport function StayReviewsHeader({ stay, averageReviewScore }) {\r\n\r\n    const reviewCount = stay.reviews.length\r\n    const reviewCountStr = `${reviewCount} ${reviewCount > 1 ? 'reviews' : 'review'}`\r\n    return (\r\n        <section className='stay-reviews-header fs22 lh26 flex align-center'>\r\n            <SvgHandler svgName={STAR_16} />\r\n            <section className='stay-score-and-review-count'>\r\n                <span className='ff-circular-semibold'>{averageReviewScore}</span>\r\n                <span>{` • `}</span>\r\n                <span className='ff-circular-semibold'>{reviewCountStr}</span>\r\n            </section>\r\n        </section>\r\n    )\r\n}","import { utilService } from '../../../services/util.service'\r\n\r\nexport function CategoryScorePreview({ category, avgScore }) {\r\n\r\n    return (\r\n        <section className='category-score-preview flex align-center'>\r\n\r\n            <div className='category-name fs16 lh20 capitalize'>{category}</div>\r\n\r\n            <section className='category-score flex align-center justify-end'>\r\n                <section className='score-bar-container'>\r\n                    <div className='score-bar' style={{ width: `${utilService.calculatePercentage(avgScore)}%` }}></div>\r\n                </section>\r\n                <span className='score-average ff-circular-semibold fs12'>{avgScore.toFixed(1)}</span>\r\n            </section>\r\n\r\n        </section>\r\n    )\r\n}","import { CategoryScorePreview } from './category-score-preview'\r\n\r\nexport function CategoryScoreList({ stayCategoryScores }) {\r\n\r\n    return (\r\n        <section className='category-score-list'>\r\n            {Object.entries(stayCategoryScores).map(([key, value]) => (\r\n                <CategoryScorePreview key={key} category={key} avgScore={value} />\r\n            ))}\r\n        </section>\r\n    )\r\n}","import { StayReviewList } from './stay-reviews/stay-review-list.jsx'\r\nimport { StayReviewsHeader } from './stay-reviews/stay-reviews-header.jsx'\r\nimport { CategoryScoreList } from './stay-reviews/category-score-list.jsx'\r\n\r\n\r\n// TODO: build stay-reviews modal with gray background, which can be viewed with button or URL link and will have ALL \r\n//   current stays reviews\r\n\r\n\r\nexport function StayReviews({ stay, stayCategoryScores, averageReviewScore }) {\r\n\r\n    const reviewsToDisplay = stay.reviews.slice(0, 6)\r\n\r\n    return (\r\n        <section className='stay-reviews-container' id='reviews'>\r\n            <StayReviewsHeader\r\n                stay={stay}\r\n                averageReviewScore={averageReviewScore}\r\n            />\r\n            <CategoryScoreList\r\n                stayCategoryScores={stayCategoryScores}\r\n            />\r\n            <StayReviewList\r\n                reviewsToDisplay={reviewsToDisplay}\r\n                key={reviewsToDisplay.id}\r\n            />\r\n        </section>\r\n    )\r\n}","// Services\r\nimport { HEART_16_BLACK_STROKE, HEART_16_RED_FILL, SHARE, STAR } from '../../services/svg.service.js'\r\n\r\n// Components\r\nimport SvgHandler from '../_reuseable-cmps/svg-handler.jsx'\r\n\r\n\r\nexport function StayTitle({ stay, averageReviewScore, onLikeClicked, isStayWishlist, isMobile }) {\r\n\r\n    const stayName = stay.name\r\n    const reviewCount = stay.reviews.length\r\n    const { city, country } = stay.loc\r\n    const reviewCountStr = `${reviewCount} ${reviewCount > 1 ? 'reviews' : 'review'}`\r\n    return (\r\n        <section className='details-layout'>\r\n\r\n            <section className='stay-title-container flex column' >\r\n                <h1 className='ff-circular-regular fs26 lh30'>{stayName}</h1>\r\n                <section className='info-container fs14 flex space-between align-center'>\r\n\r\n                    <ul className='info ff-circular-semibold lh20 flex justify-start align-center flex-wrap'>\r\n\r\n                        <li className='score-container flex'>\r\n                            <section className='score flex align-center gap4'>\r\n                                <SvgHandler svgName={STAR} />\r\n                                <span>{averageReviewScore}</span>\r\n                            </section>\r\n                            <span className='info-review underline'>{reviewCountStr}</span>\r\n                        </li>\r\n\r\n                        <li><span className='info-loc underline'>{city}, {country}</span></li>\r\n                    </ul>\r\n\r\n                    {!isMobile &&\r\n                        <section className='action-buttons lh18 flex align-baseline gap20'>\r\n\r\n                            <section className='share flex align-center gap8'>\r\n                                <SvgHandler svgName={SHARE} />\r\n                                <span className='ff-circular-semibold underline capitalize'>share</span>\r\n                                <div className='overlay'></div>\r\n                            </section>\r\n\r\n                            <section\r\n                                className='flex align-center gap8'\r\n                                onClick={(ev) => onLikeClicked(ev)}\r\n                            >\r\n                                <SvgHandler svgName={isStayWishlist() ? HEART_16_RED_FILL : HEART_16_BLACK_STROKE} />\r\n                                <span className='ff-circular-semibold underline capitalize'>save</span>\r\n                                <div className='overlay'></div>\r\n                            </section>\r\n                        </section>\r\n                    }\r\n                </section>\r\n            </section>\r\n        </section>\r\n    )\r\n}","import SvgHandler from '../../_reuseable-cmps/svg-handler'\r\n\r\nexport function HighlightPreview({ highlight }) {\r\n\r\n    const { label, title, content } = highlight\r\n    return (\r\n        <section className='highlight-preview flex gap24'>\r\n            <section><SvgHandler svgName={label} /></section>\r\n            <section className='highlight-description'>\r\n                <h3 className='title fs16 lh20'>{title}</h3>\r\n                <p className='content fs14 lh20'>{content}</p>\r\n            </section>\r\n        </section>\r\n    )\r\n}","// Services\r\nimport { CHECKIN, KEY, LOCATION } from '../../../services/svg.service.js'\r\n\r\n// Components\r\nimport { HighlightPreview } from './highlight-preview.jsx'\r\n\r\n\r\nexport function HighlightList() {\r\n\r\n\r\n    const highlightList = [\r\n        {\r\n            label: LOCATION,\r\n            title: 'Great location',\r\n            content: '100% of recent guests gave the location a 5-star rating.'\r\n        },\r\n        {\r\n            label: KEY,\r\n            title: 'Self check-in',\r\n            content: 'Check yourself in with the lockbox.'\r\n        },\r\n        {\r\n            label: CHECKIN,\r\n            title: 'Free cancellation for 48 hours.',\r\n            content: ''\r\n        },\r\n    ]\r\n\r\n    return (\r\n        <section className='highlight-list flex column gap24'>\r\n            {highlightList.map(highlight =>\r\n                <HighlightPreview key={highlight.title} highlight={highlight} />\r\n            )}\r\n        </section>\r\n    )\r\n}","export function Overview({ stay, hostImgUrl }) {\r\n\r\n    const guests = '4 guests'\r\n    const bedrooms = '2 bedrooms'\r\n    const beds = '2 beds'\r\n    const baths = '1 bath'\r\n    return (\r\n        <section className='stay-overview-container flex space-between'>\r\n            <section className='stay-overview'>\r\n                <h2 className='title fs22 lh26'>Entire villa hosted by {stay.host.fullname}</h2>\r\n                <ul className='content-list flex fs16 lh20 flex-wrap'>\r\n                    <li>{guests}</li>\r\n                    <li>{bedrooms}</li>\r\n                    <li>{beds}</li>\r\n                    <li>{baths}</li>\r\n                </ul>\r\n            </section>\r\n            <section>\r\n                <img src={hostImgUrl} alt='host' />\r\n            </section>\r\n        </section>\r\n    )\r\n}","import SvgHandler from '../../_reuseable-cmps/svg-handler'\r\n\r\nexport function AmenityPreview({ amenity }) {\r\n\r\n    return (\r\n        <section className='amenity-preview fs16 lh20 flex align-center gap16'>\r\n            <section><SvgHandler svgName={amenity} /></section>\r\n            <span>{amenity}</span>\r\n        </section>\r\n    )\r\n}","import { AmenityPreview } from './amenity-preview.jsx'\r\n\r\n\r\nexport function AmenityList({ amenities }) {\r\n\r\n    return (\r\n        <section className='amenity-list-container' id='amenities'>\r\n            <h3 className='title fs22 lh26'>What this place offers</h3>\r\n            <section className='amenity-list'>\r\n                {amenities.slice(0, 10).map(amenity =>\r\n                    <AmenityPreview key={amenity} amenity={amenity} />\r\n                )}\r\n            </section>\r\n        </section>\r\n    )\r\n}","import useIsMobile from '../../../customHooks/useIsMobile.js'\r\nimport { DatePicker } from '../../_reuseable-cmps/date-picker.jsx'\r\n\r\n\r\nexport function StayDates({ stay, selectedRange, handleRangeSelect }) {\r\n    const isScreenWidthLessThan = useIsMobile(1250)\r\n\r\n\r\n    const numberOfMonths = isScreenWidthLessThan ? 1 : 2\r\n    return (\r\n        <section className='date-container'>\r\n            <h3>Select check-in date</h3>\r\n            <p>Add your travel dates for exact pricing</p>\r\n            <DatePicker\r\n                selectedRange={selectedRange}\r\n                handleRangeSelect={handleRangeSelect}\r\n                availableDates={stay.availableDates}\r\n                numberOfMonths={numberOfMonths}\r\n            />\r\n        </section>\r\n    )\r\n}","// Services\r\nimport { stayService } from '../../../../services/stay.service'\r\nimport { STAR } from '../../../../services/svg.service.js'\r\nimport { utilService } from '../../../../services/util.service.js'\r\n\r\n// Components\r\nimport SvgHandler from '../../../_reuseable-cmps/svg-handler.jsx'\r\n\r\n\r\n\r\nexport function CostAndReviewScore({ stay, orderDetails }) {\r\n\r\n    const stayScore = stayService.getStayScore(stay.reviews)\r\n    return (\r\n        <section className='cost-and-review-score flex space-between align-center flex-wrap col-gap8'>\r\n            <article className='cost flex align-end'>\r\n                <span className='fs22 lh26 ff-circular-semibold'>${utilService.addCommas(orderDetails.singleNightPrice)}</span>\r\n                <span className='fs16 lh20'>night</span>\r\n            </article>\r\n            <article className='review-score flex align-center'>\r\n                <SvgHandler svgName={STAR} />\r\n                <span className='score fs14 lh18'>{stayScore}</span>\r\n                <span className='amount fs14 lh18'>{stay.reviews.length} reviews</span>\r\n            </article>\r\n        </section>\r\n    )\r\n}","import { userService } from '../../../../services/user.service.js'\r\n\r\nexport function DatesAndGuests({ checkIn, checkOut, guests, setGuests }) {\r\n\r\n    function onDatesClick(ev) {\r\n        ev.preventDefault()\r\n        ev.stopPropagation()\r\n        // console.log('checkIn', checkIn)\r\n        // console.log('checkOut', checkOut)\r\n        // handleDateChange(Date.parse('8/23/2023'), Date.parse('8/26/2023'))\r\n    }\r\n\r\n    function onGuestsClick(ev) {\r\n        ev.preventDefault()\r\n        ev.stopPropagation()\r\n        // setGuests(prevGuests => ({\r\n        //     ...prevGuests,\r\n        //     // adults: 4\r\n        // }))\r\n    }\r\n\r\n    const guestsString = userService.buildGuestsString(guests)\r\n    return (\r\n        <section className='dates-and-guests' title='Change here not implemented yet'>\r\n            <section className='dates-container' onClick={(ev) => onDatesClick(ev)}>\r\n\r\n                <div className='dates-container-border'></div>\r\n                <section className='dates flex'>\r\n\r\n                    <article className='check-in full'>\r\n                        <span className='fs10 lh12 ff-circular-bold uppercase'>check-in</span>\r\n                        <span className={`fs14 lh18${checkIn ? '' : ' empty'}`}>{checkIn ? checkIn : 'Add date'}</span>\r\n                    </article>\r\n\r\n                    <article className='check-out full'>\r\n                        <span className='fs10 lh12 ff-circular-bold uppercase'>checkout</span>\r\n                        <span className={`fs14 lh18${checkOut ? '' : ' empty'}`}>{checkOut ? checkOut : 'Add date'}</span>\r\n                    </article>\r\n                </section>\r\n\r\n            </section>\r\n            <section className='guests-container' onClick={(ev) => onGuestsClick(ev)}>\r\n\r\n                <div className='guests-container-border'></div>\r\n                <section className='guests'>\r\n\r\n                    <article className='guest-block full'>\r\n                        <span className='fs10 lh12 ff-circular-bold uppercase'>guests</span>\r\n                        <span className='fs14 lh18'>{guestsString}</span>\r\n                    </article>\r\n\r\n                </section>\r\n\r\n            </section>\r\n        </section>\r\n    )\r\n}","import { utilService } from \"../../../../services/util.service.js\"\r\n\r\nexport function Pricing({ orderDetails }) {\r\n\r\n    const { singleNightPrice, nightsCount, serviceFee, cleaningFee } = orderDetails\r\n    const totalPrice = (singleNightPrice * nightsCount) + serviceFee + cleaningFee\r\n    return (\r\n        <section className=\"pricing\">\r\n\r\n            <section className=\"individual-fees\">\r\n                <article className=\"flex space-between\">\r\n                    <span className=\"fs16 lh20 underline\">${singleNightPrice.toLocaleString()} x {nightsCount} nights</span>\r\n                    <span className=\"fs16 lh20\">${singleNightPrice * nightsCount}</span>\r\n                </article>\r\n                <article className=\"flex space-between\">\r\n                    <span className=\"fs16 lh20 underline\">Cleaning fee</span>\r\n                    <span className=\"fs16 lh20\">${utilService.addCommas(cleaningFee)}</span>\r\n                </article>\r\n                <article className=\"flex space-between\" >\r\n                    <span className=\"fs16 lh20 underline\">StayHub service fee</span>\r\n                    <span className=\"fs16 lh20\">${serviceFee.toLocaleString()}</span>\r\n                </article>\r\n            </section>\r\n\r\n            <section className=\"total\">\r\n                <article className=\"flex space-between ff-circular-semibold\">\r\n                    <span className=\"fs16 lh20\">Total</span>\r\n                    <span className=\"fs16 lh20\">${utilService.addCommas(totalPrice)}</span>\r\n                </article>\r\n            </section>\r\n        </section>\r\n    )\r\n}","import { RED_TAG } from '../../../../services/svg.service.js'\r\nimport SvgHandler from '../../../_reuseable-cmps/svg-handler.jsx'\r\n\r\n\r\nexport function SpecialInfo({ stay }) {\r\n    return (\r\n        <section className='special-info flex'>\r\n            <article className='info-container'>\r\n                <span className='bold fs16 lh20'>Lower price.</span>\r\n                <span className='fs16 lh20'>Your dates are ${(stay.price * 0.4).toFixed(0)} less per night compared to the average nightly rate of the last 60 days.</span>\r\n            </article>\r\n            <SvgHandler svgName={RED_TAG} />\r\n        </section>\r\n    )\r\n}","// Components\r\nimport { CostAndReviewScore } from './order-sidebar/cost-and-review-score.jsx'\r\nimport { DatesAndGuests } from './order-sidebar/dates-and-guests.jsx'\r\nimport { Pricing } from './order-sidebar/pricing.jsx'\r\nimport { SpecialInfo } from './order-sidebar/special-info.jsx'\r\nimport { ButtonMain } from '../../_reuseable-cmps/button-main.jsx'\r\n\r\n\r\n\r\n// TODO: after finishing building and organizing this cmp,\r\n//   start removing redundant stuff from the Order Object (need to follow path to back-end, and the get from the front-end)\r\n\r\n\r\nexport function OrderSidebar({\r\n    stay,\r\n    checkIn, checkOut,\r\n    guests, setGuests,\r\n    orderDetails,\r\n    onCheckAvailabilityClick, onReserveClick,\r\n}) {\r\n\r\n\r\n    return (\r\n        <section className='order-sidebar'>\r\n            <section className='order-block'>\r\n\r\n                <section className='order'>\r\n                    <CostAndReviewScore stay={stay} orderDetails={orderDetails} />\r\n                    <DatesAndGuests\r\n                        checkIn={checkIn}\r\n                        checkOut={checkOut}\r\n                        guests={guests}\r\n                        setGuests={setGuests}\r\n                    />\r\n                    {(checkIn && checkOut)\r\n                        ? <ButtonMain\r\n                            text={'Reserve'}\r\n                            onClickButton={(ev) => onReserveClick(ev)}\r\n                        />\r\n                        : <ButtonMain\r\n                            text={'Check availability'}\r\n                            onClickButton={(ev) => onCheckAvailabilityClick(ev)}\r\n                        />\r\n                    }\r\n                </section>\r\n\r\n                {checkIn && checkOut &&\r\n                    <>\r\n                        <article className='assurance flex column align-center'>\r\n                            <span className='fs14 lh18'>You won't be charged yet</span>\r\n                        </article>\r\n                        <Pricing orderDetails={orderDetails} />\r\n                    </>\r\n                }\r\n\r\n            </section>\r\n\r\n            <SpecialInfo stay={stay} />\r\n        </section>\r\n    )\r\n}","// Components\r\nimport { HighlightList } from './stay-summary/highlight-list.jsx'\r\nimport { Overview } from './stay-summary/overview.jsx'\r\nimport { AmenityList } from './stay-summary/amenity-list.jsx'\r\nimport { StayDates } from './stay-summary/stay-dates.jsx'\r\nimport { OrderSidebar } from './stay-summary/order-sidebar.jsx'\r\n\r\n\r\nexport function StaySummary({\r\n    stay, hostImgUrl,\r\n    checkIn, checkOut, selectedRange, handleRangeSelect,\r\n    guests, setGuests,\r\n    orderDetails,\r\n    onCheckAvailabilityClick, onReserveClick,\r\n    isMobile\r\n}) {\r\n\r\n    return (\r\n        <section className='summary-container'>\r\n            <section className='summary'>\r\n                <Overview stay={stay} hostImgUrl={hostImgUrl} />\r\n                <HighlightList />\r\n                <AmenityList amenities={stay.amenities} />\r\n                <StayDates stay={stay} selectedRange={selectedRange} handleRangeSelect={handleRangeSelect} />\r\n            </section>\r\n\r\n            {!isMobile &&\r\n                <section className='order-sidebar-container'>\r\n                    <OrderSidebar\r\n                        stay={stay}\r\n                        checkIn={checkIn} checkOut={checkOut}\r\n                        guests={guests} setGuests={setGuests}\r\n                        orderDetails={orderDetails}\r\n                        onCheckAvailabilityClick={onCheckAvailabilityClick} onReserveClick={onReserveClick}\r\n                    />\r\n                </section>\r\n            }\r\n        </section>\r\n    )\r\n}","export function StayPhotos({ photos, isMobile }) {\r\n\r\n    const photoList = isMobile ? photos.slice(0, 1) : photos.slice(0, 5)\r\n    return (\r\n        <section className={`${isMobile ? '' : 'details-layout'}`}>\r\n            <section className='stay-photos-container'>\r\n                {photoList.map((url, index) =>\r\n                    <section className='photo-preview' key={index}>\r\n                        <img src={url} alt={index} />\r\n                        <div className='overlay'></div>\r\n                    </section>\r\n                )}\r\n            </section>\r\n        </section>\r\n    )\r\n}","import { ARROW_LEFT, HEART_16_BLACK_STROKE, HEART_16_RED_FILL, SHARE } from '../../services/svg.service'\r\nimport SvgHandler from '../_reuseable-cmps/svg-handler'\r\n\r\nexport function StayDetailsMobileReturnHeader({ onLikeClicked, isStayWishlist, onReturnClicked }) {\r\n\r\n    return (\r\n        <section className='stay-details-mobile-return-header flex space-between align-center'>\r\n            <section className='return'>\r\n                <button onClick={(ev) => onReturnClicked(ev)}>\r\n                    <section className='flex align-center gap8'>\r\n                        <SvgHandler svgName={ARROW_LEFT} />\r\n                        <h2 className='capitalize fs14 lh18'>homes</h2>\r\n                    </section>\r\n                </button>\r\n            </section>\r\n            <section className='like-share flex gap20'>\r\n                <button className='share'>\r\n                    <SvgHandler svgName={SHARE} />\r\n                </button>\r\n                <button onClick={(ev) => onLikeClicked(ev)}>\r\n                    <SvgHandler svgName={isStayWishlist() ? HEART_16_RED_FILL : HEART_16_BLACK_STROKE} />\r\n                </button>\r\n            </section>\r\n        </section>\r\n    )\r\n}","// Node Modules\r\nimport { useNavigate, useParams } from 'react-router-dom'\r\nimport { Helmet } from 'react-helmet-async'\r\n\r\n// Services\r\nimport { utilService } from '../services/util.service.js'\r\nimport { orderService } from '../services/order.service.js'\r\nimport { stayService } from '../services/stay.service'\r\nimport { SET_APP_MODAL_LOGIN } from '../services/resources-strings.service.js'\r\n\r\n// Store\r\nimport { useAppDispatch, useAppSelector } from '../store/hooks'\r\nimport { systemSetAppModal } from '../store/systemSlice'\r\nimport { userSetOrder } from '../store/userSlice'\r\nimport { toggleWishlistStay } from '../store/wishlist-stay.slice'\r\n\r\n// Custom hooks\r\nimport useIsMobile from '../customHooks/useIsMobile.js'\r\nimport useStayDetails from '../customHooks/useStayDetails.js'\r\nimport useStayDetailsIntersectionObserver from '../customHooks/useStayDetailsIntersectionObserver.js'\r\n\r\n// Components\r\nimport { Loader } from '../cmps/_reuseable-cmps/loader.jsx'\r\nimport { StayDetailsNavReserveSticky } from '../cmps/stay-details/stay-details-nav-reserve-sticky.jsx'\r\nimport { ThingsToKnow } from '../cmps/stay-details/stay-things-to-know.jsx'\r\nimport { HostDetails } from '../cmps/stay-details/stay-host-details.jsx'\r\nimport { StayMap } from '../cmps/stay-details/stay-map.jsx'\r\nimport { StayReviews } from '../cmps/stay-details/stay-reviews.jsx'\r\nimport { StayTitle } from '../cmps/stay-details/stay-title.jsx'\r\nimport { StaySummary } from '../cmps/stay-details/stay-summary.jsx'\r\nimport { StayPhotos } from '../cmps/stay-details/stay-photos.jsx'\r\nimport { StayDetailsMobileReturnHeader } from '../cmps/stay-details/stay-details-mobile-return-header.jsx'\r\n\r\n\r\n// --------------------------------------------\r\n// --------------- Low Priority ---------------\r\n// --------------------------------------------\r\n// TODO: I made pricing change depending on guest amount because I spotted similar behavior in airbnb,\r\n//    need to check again, if it's there, if it's only in some stays, or if it's in none at all,\r\n//    and then decide if I want to keep such feature.\r\n// --------------------------------------------\r\n// --------------------------------------------\r\n\r\n\r\n// TODO: add loading spinner next to \"save\" wishlist button, for visual indication of loading. also, prevent wishlist clicks during wishlistId's loading\r\n\r\n\r\nexport function StayDetails() {\r\n    const dispatch = useAppDispatch()\r\n    const navigate = useNavigate()\r\n    const { stayId } = useParams()\r\n    const loggedinUser = useAppSelector(storeState => storeState.userModule.user)\r\n    const wishlistIds = useAppSelector(storeState => storeState.stayModule.wishlistIds)\r\n    const isMobile = useIsMobile()\r\n\r\n    const [\r\n        isLoading,\r\n        stay, hostImgUrl,\r\n        checkIn, checkOut, selectedRange, setSelectedRange,\r\n        guests, setGuests,\r\n        orderDetails,\r\n    ] = useStayDetails(stayId)\r\n    useStayDetailsIntersectionObserver(isLoading || isMobile)\r\n\r\n\r\n\r\n    function isStayWishlist() {\r\n        return loggedinUser ? wishlistIds.some(wishlistId => wishlistId === stayId) : false\r\n    }\r\n\r\n    function onCheckAvailabilityClick(ev) {\r\n        ev.preventDefault()\r\n        ev.stopPropagation()\r\n        console.log('hi from check availability')\r\n    }\r\n\r\n    function onLikeClicked(ev) {\r\n        ev.preventDefault()\r\n        ev.stopPropagation()\r\n        if (!loggedinUser) {\r\n            dispatch(systemSetAppModal(SET_APP_MODAL_LOGIN))\r\n            return\r\n        }\r\n        dispatch(toggleWishlistStay({ stayId }))\r\n    }\r\n\r\n    function onReserveClick(ev) {\r\n        ev.preventDefault()\r\n        ev.stopPropagation()\r\n        if (!loggedinUser) {\r\n            dispatch(systemSetAppModal(SET_APP_MODAL_LOGIN))\r\n        }\r\n        else {\r\n            const order = createOrder(orderDetails)\r\n            dispatch(userSetOrder(order))\r\n            navigate(`/stay/book/${stay._id}`)\r\n        }\r\n    }\r\n\r\n    function onReturnClicked(ev) {\r\n        ev.preventDefault()\r\n        ev.stopPropagation()\r\n        navigate('/')\r\n    }\r\n\r\n    function createOrder({ guestCount, singleNightPrice, nightsCount, serviceFee, cleaningFee }) {\r\n        return {\r\n            buyer: {\r\n                _id: loggedinUser._id,\r\n                fullname: loggedinUser.fullname,\r\n                img: loggedinUser.imgUrl,\r\n                joined: loggedinUser.joined ? loggedinUser.joined : utilService.getRandomMonthAndYear()\r\n            },\r\n            seller: {\r\n                _id: stay.host._id,\r\n                fullname: stay.host.fullname,\r\n                img: hostImgUrl,\r\n                joined: utilService.getRandomMonthAndYear()\r\n            },\r\n            orderDetails: {\r\n                checkIn,\r\n                checkOut,\r\n                nightsCount,\r\n                guestCount,\r\n                singleNightPrice\r\n            },\r\n            orderPrice: {\r\n                price: (singleNightPrice * nightsCount),\r\n                serviceFee,\r\n                cleaningFee,\r\n                total: (singleNightPrice * nightsCount) + serviceFee + cleaningFee\r\n            },\r\n            stayDetails: {\r\n                id: stay._id,\r\n                image: stay.imgUrls[0],\r\n                loc: stay.loc,\r\n                summary: stay.summary,\r\n                type: stay.type,\r\n                rate: stay.reviews.rate,\r\n                reviewsCount: stay.reviews.length\r\n            },\r\n            explore: orderService.getOrderExploreList(),\r\n            status: \"Pending\",\r\n        }\r\n    }\r\n\r\n    function handleRangeSelect(range) {\r\n        const newRange = { from: '', to: '' }\r\n        if (range) {\r\n            newRange.from = range.from\r\n            newRange.to = range.to\r\n            if (!range.from) newRange.from = ''\r\n            if (!range.to) newRange.to = ''\r\n            if (range.from && (Date.parse(range.from) === Date.parse(range.to))) {\r\n                if ((Date.parse(selectedRange.from) === Date.parse(range.from)) && selectedRange.to === '') newRange.from = ''\r\n                newRange.to = ''\r\n            }\r\n        } else {\r\n            if (selectedRange.from && selectedRange.to) newRange.from = selectedRange.from\r\n        }\r\n\r\n        setSelectedRange(prev => ({ ...prev, ...newRange }))\r\n    }\r\n\r\n\r\n    if (isLoading) return <Loader />\r\n\r\n    const stayCategoryScores = stayService.getStayCategoryScores(stay.reviews)\r\n    const randomDateJoined = utilService.getRandomMonthAndYear()\r\n    const averageReviewScore = stayService.getStayScore(stay.reviews)\r\n\r\n    return (\r\n        <section className={`stay-details full details-layout${isMobile ? ' mobile' : ''}`} id='photos'>\r\n            <Helmet>\r\n                {stay?.name && <title>{stay.name}</title>}\r\n                {stay?.host?.fullname && <meta name='description' content={`Entire villa hosted by ${stay.host.fullname}`} />}\r\n            </Helmet>\r\n            {isMobile &&\r\n                <StayDetailsMobileReturnHeader\r\n                    onLikeClicked={onLikeClicked}\r\n                    isStayWishlist={isStayWishlist}\r\n                    onReturnClicked={onReturnClicked}\r\n                />\r\n            }\r\n            <StayDetailsNavReserveSticky\r\n                stay={stay}\r\n                selectedRange={selectedRange}\r\n                onReserveClick={onReserveClick}\r\n                onCheckAvailabilityClick={onCheckAvailabilityClick}\r\n                isMobile={isMobile}\r\n            />\r\n            <section className='stay-photos-title-container full'>\r\n                <StayPhotos photos={stay.imgUrls} isMobile={isMobile} />\r\n                <StayTitle\r\n                    stay={stay}\r\n                    averageReviewScore={averageReviewScore}\r\n                    onLikeClicked={onLikeClicked}\r\n                    isStayWishlist={isStayWishlist}\r\n                    isMobile={isMobile}\r\n                />\r\n            </section>\r\n            <StaySummary\r\n                stay={stay} hostImgUrl={hostImgUrl}\r\n                checkIn={checkIn} checkOut={checkOut} selectedRange={selectedRange} handleRangeSelect={handleRangeSelect}\r\n                guests={guests} setGuests={setGuests}\r\n                orderDetails={orderDetails}\r\n                onCheckAvailabilityClick={onCheckAvailabilityClick} onReserveClick={onReserveClick}\r\n                isMobile={isMobile}\r\n            />\r\n            {\r\n                stay.reviews?.length > 0 &&\r\n                <StayReviews\r\n                    stay={stay}\r\n                    stayCategoryScores={stayCategoryScores}\r\n                    averageReviewScore={averageReviewScore}\r\n                />\r\n            }\r\n            <StayMap stay={stay} />\r\n            <HostDetails\r\n                stay={stay}\r\n                hostImgUrl={hostImgUrl}\r\n                randomDateJoined={randomDateJoined}\r\n            />\r\n            <ThingsToKnow isMobile={isMobile} checkIn={checkIn} />\r\n        </section >\r\n    )\r\n}","import { useEffect } from 'react'\r\n\r\nexport default function useStayDetailsIntersectionObserver(isNotObserving) {\r\n\r\n    useEffect(() => {\r\n        if (!isNotObserving) {\r\n            const photos = document.querySelector('.stay-photos-container')\r\n            const altHeader = document.querySelector('.stay-details-nav-reserve-sticky-container')\r\n            const orderSidebarBtn = document.querySelector('.order-sidebar .btn-main-container')\r\n            const reserveLink = document.querySelector('.reserve-container')\r\n\r\n            const photosObserver = new IntersectionObserver(onPhotosObserved, {\r\n                rootMargin: \"-5px 0px 0px\",\r\n            })\r\n            const orderSidebarBtnObserver = new IntersectionObserver(onOrderSidebarBtnObserved, {\r\n                rootMargin: \"-80px 0px 0px 0px\"\r\n            })\r\n\r\n            function onPhotosObserved(entries) {\r\n                entries.forEach((entry) => {\r\n                    altHeader.style.display = entry.isIntersecting ? 'none' : 'grid'\r\n                })\r\n            }\r\n\r\n            function onOrderSidebarBtnObserved(entries) {\r\n                entries.forEach((entry) => {\r\n                    reserveLink.style.display = entry.isIntersecting ? 'none' : 'flex'\r\n                })\r\n            }\r\n\r\n            photosObserver.observe(photos)\r\n            orderSidebarBtnObserver.observe(orderSidebarBtn)\r\n\r\n            return () => {\r\n                altHeader.style.removeProperty(\"display\")\r\n                reserveLink.style.removeProperty(\"display\")\r\n                photosObserver.disconnect()\r\n                orderSidebarBtnObserver.disconnect()\r\n            }\r\n        }\r\n    }, [isNotObserving])\r\n}"],"names":["useStayDetailsDates","stay","reqStatusLoadStay","isLoadingDatesRef","useRef","DAY","useMemo","filterBy","useAppSelector","storeState","stayModule","useState","selectedRange","setSelectedRange","useEffect","initialState","today","Date","parse","startOfDay","now","earliestCheckIn","availableDates","daysFromToday","from","to","getInitialState","current","checkIn","stayService","checkOut","useStayDetailsOrderDetails","isLoadingDates","guests","isLoadingOrderDetailsRef","immutableFees","serviceFee","utilService","cleaningFee","orderDetails","setOrderDetails","prevOrder","singleNightPrice","Math","floor","price","adults","children","guestCount","nightsCount","useStayDetails","stayId","isLoading","setIsLoading","loggedinUser","userModule","user","reqStatusLoadWishlistId","stayHostImgUrlRef","navigate","useNavigate","dispatch","useAppDispatch","handleLoadStay","useCallback","loadStay","console","log","useLoadStay","infants","pets","useStayDetailsGuests","setGuests","isLoadingOrderDetails","stayUpdateReqStatusLoadWishlistId","stayUpdateReqStatusLoadStay","stayResetWishlistIds","loadWishlistedStayId","userService","StayDetailsNavReserveSticky","onCheckAvailabilityClick","onReserveClick","isMobile","reviewCount","reviews","length","stayScore","stayPrice","toLocaleString","reviewCountStr","className","href","svgName","STAR","text","onClickButton","ev","ThingsToKnow","HostDetails","hostImgUrl","randomDateJoined","hostName","host","fullname","hostLocation","location","isSuperHost","isSuperhost","aboutHost","about","reviewsCount","responseTime","src","alt","STAR_16","VERIFIED","BLACK_SUPERHOST_16","secretService","getApiKeyGoogleMap","httpService","useFetchSecret","secret","setSecret","fetchedSecret","showErrorMsg","handleFetchSecret","SimpleMap","loc","API_KEY","lng","lat","lan","center","zoom","Popper","style","height","width","bootstrapURLKeys","key","defaultCenter","defaultZoom","StayMap","city","country","id","StayReviewPreview","review","reviewerPicUrl","reviewerName","by","reviewDate","at","month","year","txt","StayReviewList","reviewsToDisplay","map","idx","StayReviewsHeader","averageReviewScore","CategoryScorePreview","category","avgScore","toFixed","CategoryScoreList","stayCategoryScores","Object","entries","value","StayReviews","slice","StayTitle","onLikeClicked","isStayWishlist","stayName","name","SHARE","onClick","HEART_16_RED_FILL","HEART_16_BLACK_STROKE","HighlightPreview","highlight","label","title","content","HighlightList","highlightList","LOCATION","KEY","CHECKIN","Overview","AmenityPreview","amenity","AmenityList","amenities","StayDates","handleRangeSelect","numberOfMonths","useIsMobile","CostAndReviewScore","DatesAndGuests","guestsString","preventDefault","stopPropagation","onDatesClick","onGuestsClick","Pricing","totalPrice","SpecialInfo","RED_TAG","OrderSidebar","StaySummary","StayPhotos","photos","photoList","url","index","StayDetailsMobileReturnHeader","onReturnClicked","ARROW_LEFT","StayDetails","isNotObserving","useParams","wishlistIds","some","wishlistId","toggleWishlistStay","systemSetAppModal","SET_APP_MODAL_LOGIN","order","buyer","_id","img","imgUrl","joined","seller","orderPrice","total","stayDetails","image","imgUrls","summary","type","rate","explore","orderService","status","createOrder","userSetOrder","document","querySelector","altHeader","orderSidebarBtn","reserveLink","photosObserver","IntersectionObserver","forEach","entry","display","isIntersecting","rootMargin","orderSidebarBtnObserver","observe","removeProperty","disconnect","range","newRange","prev"],"sourceRoot":""}