"use strict";(self.webpackChunkmy_react_starter=self.webpackChunkmy_react_starter||[]).push([[685],{3634:function(e,s,t){t.r(s),t.d(s,{UserTrips:function(){return w}});var n=t(4165),r=t(5861),a=t(9439),c=t(2791),i=t(7689),l=t(1306),o=t(8911),u=t(6579),d=t(893),h=t(4456),m=t(3649),p=t(5875),f=t(184);function x(e){var s=e.exploreItem;return(0,f.jsxs)("section",{className:"to-do",children:[s.img?(0,f.jsx)("img",{src:s.img,alt:"to-do"}):(0,f.jsx)("article",{className:"show-more",children:(0,f.jsx)(p.Z,{svgName:m.bN})}),(0,f.jsxs)("article",{className:"todo-info",children:[(0,f.jsx)("h4",{children:s.title}),(0,f.jsxs)("span",{children:[s.amount," experiences"]})]})]})}function j(e){var s=e.trip;return(0,f.jsxs)("section",{className:"explore-things-to-do",children:[(0,f.jsxs)("h5",{className:"explore-title fs14",children:["Explore things to do near ",s.content.stayDetails.loc.city]}),(0,f.jsx)("section",{className:"things-to-do",children:s.content.explore.map((function(e){return(0,f.jsx)(x,{exploreItem:e},e.label)}))})]})}var g=t(5849);function v(e){var s=e.trip,t=s.content.stayDetails.loc,n=t.city,r=t.country,a=t.address,c=s.content.orderDetails,i=c.checkIn,l=c.checkOut,o=s.content.status,u=s.content.seller.fullname,d=s.content.stayDetails.image,h=g.Y.getFormattedTimeRange(i,l),m=a.substring(0,a.indexOf(","));return(0,f.jsxs)("section",{className:"reservation-container",children:[(0,f.jsxs)("article",{className:"reservation-info",children:[(0,f.jsxs)("section",{className:"reservation-header",children:[(0,f.jsx)("h2",{children:n}),(0,f.jsxs)("h5",{children:["Entire rental unit hosted by ",u]})]}),(0,f.jsxs)("section",{className:"reservation-date-destination-status flex space-between",children:[(0,f.jsx)("article",{className:"reservation-date flex column align-center",children:(0,f.jsx)("span",{children:h})}),(0,f.jsxs)("article",{className:"reservation-destination flex column align-center",children:[(0,f.jsx)("h4",{className:"fs16",children:m}),(0,f.jsx)("span",{className:"fs16",children:n}),(0,f.jsx)("span",{className:"fs14",children:r})]}),(0,f.jsxs)("article",{className:"reservation-confirmation flex column align-center",children:[(0,f.jsx)("span",{className:"ff-circular-semibold fs16",children:"Status:"}),(0,f.jsx)("h4",{className:"status ".concat(o.toLowerCase()," fs20"),children:o})]})]})]}),(0,f.jsx)("article",{className:"reservation-img flex",children:(0,f.jsx)("img",{src:d,alt:"stay"})})]})}function N(e){var s=e.trip,t=(0,h.Z)();return(0,f.jsxs)("section",{className:"upcoming-reservation-preview".concat(t?" mobile":""),children:[(0,f.jsx)(v,{trip:s}),!t&&(0,f.jsx)(j,{trip:s})]})}function y(e){var s=e.getUpcomingTrips,t=e.onSearchClick,n=s();return(0,f.jsx)("section",{className:"future-reservation-list",children:n&&n.length>0?n.map((function(e){return(0,f.jsx)(N,{trip:e},e._id)})):(0,f.jsxs)("section",{className:"no-trips",children:[(0,f.jsx)("h3",{className:"no-trips-header fs22 lh26",children:"No trips booked...yet!"}),(0,f.jsx)("p",{className:"fs16 lh24",children:"Time to dust off your bags and start planning your next adventure"}),(0,f.jsx)("button",{className:"fs16",onClick:function(e){return t(e)},children:"Start searching"})]})})}function b(e){var s=e.trip,t=s.content.stayDetails.image,n=s.content.stayDetails.loc.address,r=s.content.seller.fullname,a=s.content.orderDetails,c=a.checkIn,i=a.checkOut,l=g.Y.getFormattedTimeRange(c,i);return(0,f.jsxs)("section",{className:"past-trip flex",children:[(0,f.jsx)("article",{className:"past-trip-img",children:(0,f.jsx)("img",{src:t,alt:"stay"})}),(0,f.jsxs)("article",{className:"past-trip-info flex column space-evenly",children:[(0,f.jsx)("h4",{className:"fs14 lh20",children:n}),(0,f.jsxs)("span",{children:["Hosted by ",r]}),(0,f.jsx)("span",{children:l})]})]})}function k(e){var s=(0,e.getPastTrips)();return(0,f.jsx)("section",{className:"past-reservation-list",children:s.length>0?s.map((function(e){return(0,f.jsx)(b,{trip:e},e._id)})):[{content:{seller:{fullname:"Denzel"},orderDetails:{checkIn:"12/7/2022",checkOut:"12/11/2022"},stayDetails:{image:"https://a0.muscache.com/im/pictures/bcb75add-a00d-466b-ba7d-ef2fe8d8e7e6.jpg?im_w=1200",loc:{address:"Amsterdam"}}}},{content:{seller:{fullname:"Hrvoje"},orderDetails:{checkIn:"7/19/2020",checkOut:"7/24/2020"},stayDetails:{image:"https://a0.muscache.com/im/pictures/miso/Hosting-621355059288164481/original/1e01176e-da92-456e-b663-b8887483b87b.jpeg?im_w=1200",loc:{address:"Zadarska \u017eupanija, Croatia"}}}},{content:{seller:{fullname:"\u0393\u03b5\u03ce\u03c1\u03b3\u03b9\u03bf\u03c2"},orderDetails:{checkIn:"8/3/2017",checkOut:"8/12/2017"},stayDetails:{image:"https://a0.muscache.com/im/pictures/95435d63-6c09-43de-a28f-f13158c32356.jpg?im_w=1200",loc:{address:"Kampos, Greece"}}}}].map((function(e,s){return(0,f.jsx)(b,{trip:e},s)}))})}var D=t(513);function w(){var e=(0,u.C)((function(e){return e.userModule.user})),s=(0,u.C)((function(e){return e.orderModule.isLoadingOrders})),t=(0,c.useState)([]),h=(0,a.Z)(t,2),m=h[0],p=h[1],x=(0,i.s0)(),j=(0,u.T)();function g(){return(g=(0,r.Z)((0,n.Z)().mark((function s(){var t;return(0,n.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,j((0,d.nq)(!0)),s.next=4,o.X.getOrders({byUserId:e._id});case 4:t=s.sent,p(t),s.next=12;break;case 8:s.prev=8,s.t0=s.catch(0),console.log("Error fetching orders",s.t0),(0,l.oc)("Error fetching orders");case 12:return s.prev=12,j((0,d.nq)(!1)),s.finish(12);case 15:case"end":return s.stop()}}),s,null,[[0,8,12,15]])})))).apply(this,arguments)}return(0,c.useEffect)((function(){return function(){j((0,d.nq)(!1))}}),[j]),(0,c.useEffect)((function(){e?function(){g.apply(this,arguments)}():x("/")}),[e]),s?(0,f.jsx)(D.a,{}):(0,f.jsxs)("section",{className:"user-trips-page",children:[(0,f.jsx)("h1",{className:"page-title fs28",children:"Trips"}),(0,f.jsxs)("section",{className:"future-reservation-list-container",children:[(0,f.jsx)("h3",{className:"reservation-list-header fs20",children:"Upcoming reservations"}),(0,f.jsx)(y,{getUpcomingTrips:function(){var e=new Date;return m.filter((function(s){return new Date(s.content.orderDetails.checkOut)>e})).reverse()},onSearchClick:function(e){e.preventDefault(),e.stopPropagation(),x("/")}})]}),(0,f.jsxs)("section",{className:"past-reservation-list-container",children:[(0,f.jsx)("h3",{className:"reservation-list-header fs20",children:"Where you've been"}),(0,f.jsx)(k,{getPastTrips:function(){var e=new Date;return m.filter((function(s){return new Date(s.content.orderDetails.checkOut)<=e})).reverse()}})]})]})}}}]);
//# sourceMappingURL=685.eec5b63b.chunk.js.map