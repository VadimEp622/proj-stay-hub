{"version":3,"file":"static/js/969.b6b1acd0.chunk.js","mappings":"iXAWe,SAASA,EAAoBC,EAAMC,GAC9C,IAAMC,GAAoBC,EAAAA,EAAAA,SAAO,GAC3BC,GAAMC,EAAAA,EAAAA,UAAQ,kBAAM,KAAmB,GAAE,IACzCC,GAAWC,EAAAA,EAAAA,IAAe,SAAAC,GAAU,OAAIA,EAAWC,WAAWH,QAAQ,IAC5E,GAA0CI,EAAAA,EAAAA,UAAS,MAAK,eAAjDC,EAAa,KAAEC,EAAgB,MAGtCC,EAAAA,EAAAA,YAAU,WACN,IAAKZ,GAAiBa,OAAOC,KAAKf,GAAMgB,OAAS,EAAG,CAChD,IAAMC,EAQd,SAAyBX,GACrB,IAAMY,EAAQC,KAAKC,OAAMC,EAAAA,EAAAA,GAAWF,KAAKG,QACnCC,EAAkBvB,EAClBkB,EAASd,EAAMJ,EAAKwB,eAAe,GAAGC,cACtCP,EAEN,MAAO,CACHQ,KAAM,IAAIP,KAAa,OAARb,QAAQ,IAARA,GAAAA,EAAUoB,KAAOpB,EAASoB,KAAOH,GAChDI,GAAI,IAAIR,KAAa,OAARb,QAAQ,IAARA,GAAAA,EAAUqB,GAAKrB,EAASqB,GAAKJ,EAAkBnB,GAEpE,CAlB6BwB,CAAgBtB,GACrCM,EAAiBK,GACjBf,EAAkB2B,SAAU,CAChC,CAEJ,GAAG,CAAC5B,EAAeD,IAenB,IAAM8B,EAAUnB,EAAgBoB,EAAAA,EAAAA,QAAiC,OAAbpB,QAAa,IAAbA,OAAa,EAAbA,EAAee,MAAQ,GACrEM,EAAWrB,EAAgBoB,EAAAA,EAAAA,QAAiC,OAAbpB,QAAa,IAAbA,OAAa,EAAbA,EAAegB,IAAM,GAE1E,MAAO,CAACzB,EAAkB2B,QAASC,EAASE,EAAUrB,EAAeC,EACzE,CCpCe,SAASqB,EAA2BC,EAAgBlC,EAAM8B,EAASE,EAAUG,GACxF,IAAMC,GAA2BjC,EAAAA,EAAAA,SAAO,GAElCkC,GAAgBhC,EAAAA,EAAAA,UAAQ,iBAAO,CACjCiC,WAAYC,EAAAA,EAAAA,sBAAkC,IAAK,KACnDC,YAAaD,EAAAA,EAAAA,sBAAkC,IAAK,KACvD,GAAG,IAEJ,GAAwC7B,EAAAA,EAAAA,UAAS,CAAC,GAAE,eAA7C+B,EAAY,KAAEC,EAAe,KAoCpC,OAjCA7B,EAAAA,EAAAA,YAAU,WACDqB,IACDE,EAAyBP,SAAU,EAC/BC,GAAWE,GAcnBU,GAAgB,SAAAC,GAAS,yBAAUA,IAQ5B,QACHC,iBAAkBC,KAAKC,MAAM9C,EAAK+C,MAAU/C,EAAK+C,MAAQ,GAAMZ,EAAOa,OAASb,EAAOc,SAAW,IACjGC,WAAYf,EAAOa,OAASb,EAAOc,SACnCE,YAAapB,EAAAA,EAAAA,uBAAmCZ,KAAKC,MAAMU,GAAUX,KAAKC,MAAMY,KAC7EK,GAZ4D,IATvE,GAAG,CAACH,EAAgBJ,EAASE,EAAUG,KAGvCtB,EAAAA,EAAAA,YAAU,WACDuB,EAAyBP,SAAaC,GAAYE,GASvDU,GAAgB,SAAAC,GAAS,yBAAUA,GAAS,IAAEQ,YAAa,MAAI,GAPnE,GAAG,CAACrB,EAASE,IAmBN,CAACI,EAAyBP,QAASY,EAC9C,CCpCe,SAASW,EAAeC,GACnC,OAAkC3C,EAAAA,EAAAA,WAAS,GAAK,eAAzC4C,EAAS,KAAEC,EAAY,KACxBvD,GAAOO,EAAAA,EAAAA,IAAe,SAAAC,GAAU,OAAIA,EAAWC,WAAWT,IAAI,IAC9DC,GAAgBM,EAAAA,EAAAA,IAAe,SAAAC,GAAU,OAAIA,EAAWC,WAAWR,aAAa,IAChFuD,GAAejD,EAAAA,EAAAA,IAAe,SAAAC,GAAU,OAAIA,EAAWiD,WAAWC,IAAI,IACtEC,GAA0BpD,EAAAA,EAAAA,IAAe,SAAAC,GAAU,OAAIA,EAAWC,WAAWkD,uBAAuB,IACpGC,GAAoBzD,EAAAA,EAAAA,WCdf,SAAqBkD,GAChC,IAAMQ,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,KAEXC,GAAiBC,EAAAA,EAAAA,cAAW,uBAAC,4GAErBH,GAASI,EAAAA,EAAAA,IAASd,IAASe,SAAQ,sDAEzCC,QAAQC,IAAI,EAAD,IACXT,EAAS,KAAI,wDAElB,CAACA,EAAUE,EAAUV,KAExBxC,EAAAA,EAAAA,YAAU,WACNoD,GACJ,GAAG,CAACA,GACR,CDAIM,CAAYlB,GACZ,MAA6EtD,EAAoBC,EAAMC,GAAc,eAA9GiC,EAAc,KAAEJ,EAAO,KAAEE,EAAQ,KAAErB,EAAa,KAAEC,EAAgB,KACzE,EEpBW,WAAiC,IAAD,EACrCN,GAAWC,EAAAA,EAAAA,IAAe,SAAAC,GAAU,OAAIA,EAAWC,WAAWH,QAAQ,IACtEW,GAAuB,OAARX,QAAQ,IAARA,GAAgB,QAAR,EAARA,EAAU6B,cAAM,WAAR,EAAR,EAAkBa,QAAS,EAC5C1C,EAAS6B,OACT,CACIa,OAAQ,EACRC,SAAU,EACVuB,QAAS,EACTC,KAAM,GAEd,GAA4B/D,EAAAA,EAAAA,UAASO,GAAa,eAElD,MAAO,CAFM,KAAW,KAG5B,CFOgCyD,GAAsB,eAA3CvC,EAAM,KAAEwC,EAAS,KACxB,EAA8C1C,EAA2BC,EAAgBlC,EAAM8B,EAASE,EAAUG,GAAO,eAAlHyC,EAAqB,KAAEnC,EAAY,KACpCsB,GAAWC,EAAAA,EAAAA,KA4BjB,OAzBAnD,EAAAA,EAAAA,YAAU,WACN,OAAO,WACHkD,GAASc,EAAAA,EAAAA,IAAkC,QAC/C,CAEJ,GAAG,KAEHhE,EAAAA,EAAAA,YAAU,WACF2C,GAA4C,SAA5BG,IAChBI,GAASe,EAAAA,EAAAA,OACTf,GAASgB,EAAAA,EAAAA,IAAqB1B,IAGtC,GAAG,CAACM,EAAyBI,KAE7BlD,EAAAA,EAAAA,YAAU,YACDZ,GAAiBa,OAAOC,KAAKf,GAAMgB,OAAS,IAAG4C,EAAkB/B,QAAUmD,EAAAA,EAAAA,gBACpF,GAAG,CAAC/E,EAAeD,KAEnBa,EAAAA,EAAAA,YAAU,WACD+D,GAAuBrB,GAAa,EAC7C,GAAG,CAACqB,IAIG,CACHtB,EACAtD,EAAM4D,EAAkB/B,QACxBC,EAASE,EAAUrB,EAAeC,EAClCuB,EAAQwC,EACRlC,EAER,C,oDGvDO,SAASwC,EAA4B,GAA8E,IAA5EjF,EAAI,EAAJA,KAAMW,EAAa,EAAbA,cAAeuE,EAAwB,EAAxBA,yBAA0BC,EAAc,EAAdA,eAAgBC,EAAQ,EAARA,SAEnGC,EAAcrF,EAAKsF,QAAQtE,OAC3BuE,EAAYxD,EAAAA,EAAAA,aAAyB/B,EAAKsF,SAC1CE,EAAYxF,EAAK+C,MAAM0C,iBAEvBC,EAAc,UAAML,EAAW,YAAIA,EAAc,EAAI,UAAY,UACvE,OACI,oBAASM,UAAU,2DAA0D,UACzE,qBAASA,UAAU,oEAAmE,WAEhFP,IACE,iBAAKO,UAAU,mEAAkE,WAC7E,cAAGC,KAAK,UAAS,SAAC,YAClB,cAAGA,KAAK,aAAY,SAAC,eACrB,cAAGA,KAAK,WAAU,SAAC,aACnB,cAAGA,KAAK,YAAW,SAAC,iBAI5B,qBAASD,UAAS,8CAAyCP,EAAW,gBAAkB,eAAgB,WACpG,qBAASO,UAAU,wBAAuB,WAEtC,qBAASA,UAAU,aAAY,WAC3B,kBAAMA,UAAU,iCAAgC,UAAC,IAAEH,MACnD,iBAAMG,UAAU,YAAW,SAAC,cAGhC,qBAASA,UAAU,sDAAqD,WACpE,iBAAMA,UAAU,YAAW,UAAC,SAAC,IAAU,CAACE,QAASC,EAAAA,QACjD,iBAAMH,UAAU,mBAAkB,SAAEJ,KACpC,iBAAMI,UAAU,8BAA6B,SAAED,UAKrD/E,EAAce,MAAQf,EAAcgB,IAChC,SAAC,IAAU,CACToE,KAAM,UACNC,cAAe,SAACC,GAAE,OAAKd,EAAec,EAAG,KAE3C,SAAC,IAAU,CACTF,KAAM,qBACNC,cAAe,SAACC,GAAE,OAAKf,EAAyBe,EAAG,WAO/E,CC3DO,SAASC,EAAa,GAAwB,IAAtBd,EAAQ,EAARA,SAAUtD,EAAO,EAAPA,QAErC,OAEI,qBAAS6D,UAAU,iBAAgB,WAC7BP,IACE,eAAIO,UAAU,kBAAiB,SAAC,oBAEpC,qBAASA,UAAU,4BAA2B,WAE1C,gCACI,eAAIA,UAAU,mCAAkC,SAAC,iBACjD,uBAAG,4BACH,uBAAG,8BACH,uBAAG,qBAGP,gCACI,eAAIA,UAAU,mCAAkC,SAAC,uBACjD,uBAAG,oBACH,uBAAG,yCACH,uBAAG,8CAGP,gCACI,eAAIA,UAAU,mCAAkC,SAAC,wBAChD7D,GACG,iCACI,yBAAG,4BAA0BA,MAC7B,uBAAG,mIAEL,uBAAG,gFAO7B,CChCO,SAASqE,EAAY,GAAyC,IAAD,IAAtCnG,EAAI,EAAJA,KAAMoG,EAAU,EAAVA,WAAYC,EAAgB,EAAhBA,iBAEtCC,EAAWtG,EAAKuG,KAAKC,SACrBC,EAAezG,EAAKuG,KAAKG,SACzBC,EAAc3G,EAAKuG,KAAKK,YACxBC,EAAqB,QAAZ,EAAG7G,EAAKuG,YAAI,aAAT,EAAWO,MACvBC,EAAe/G,EAAKsF,QAAQtE,OAC5BgG,EAAwB,QAAT,EAAAhH,EAAKuG,YAAI,OAAT,EAAWS,aAAehH,EAAKuG,KAAKS,aAAe,qBAElEtB,EAAc,UAAMqB,EAAY,YAAIA,EAAe,EAAI,UAAY,UACzE,OACI,qBAASpB,UAAU,yBAAwB,WAEvC,qBAASA,UAAU,8CAA6C,WAC5D,8BACI,gBAAKsB,IAAKb,EAAYc,IAAI,YAE9B,qBAASvB,UAAU,kBAAiB,WAChC,gBAAIA,UAAU,iBAAgB,UAAC,aAAWW,MAC1C,kBAAMX,UAAU,iBAAgB,UAAC,aAAWU,YAIpD,qBAASV,UAAU,oBAAmB,WAElC,qBAASA,UAAU,2BAA0B,WACzC,qBAASA,UAAU,kDAAiD,WAChE,qBAASA,UAAU,kCAAiC,WAChD,SAAC,IAAU,CAACE,QAASsB,EAAAA,MACrB,0BAAOzB,QAEX,qBAASC,UAAU,sCAAqC,WACpD,SAAC,IAAU,CAACE,QAASuB,EAAAA,MACrB,0BAAM,yBAETT,IACG,qBAAShB,UAAU,+BAA8B,WAC7C,SAAC,IAAU,CAACE,QAASwB,EAAAA,MACrB,0BAAM,qBAKlB,qBAAS1B,UAAU,sBAAqB,UAEnCkB,IACG,oBAASlB,UAAU,aAAY,UAC3B,cAAGA,UAAU,OAAM,SAAEkB,OAI7B,qBAASlB,UAAU,cAAa,WAC5B,eAAIA,UAAU,OAAM,SAAC,sBACrB,eAAGA,UAAU,OAAM,UAAC,0BACQc,EAAa,oJAK5CE,IACG,qBAAShB,UAAU,gBAAe,WAC9B,gBAAIA,UAAU,OAAM,UAAEW,EAAS,sBAC/B,cAAGX,UAAU,OAAM,SAAC,oHAOpC,qBAASA,UAAU,2BAA0B,WACzC,gBAAIA,UAAU,+BAA8B,WACxC,0BAAI,cAAU,0BAAM,gBACpB,0BAAI,mBAAe,0BAAM,aACzB,0BAAI,mBAAe,0BAAOqB,WAE9B,mBAAQrB,UAAU,iCAAgC,SAAC,kBACnD,qBAASA,UAAU,6DAA4D,WAC3E,0BAAM,wGACN,gBAAKsB,IAAI,0FAA0FC,IAAI,8BAM/H,C,kCC/EO,IAAMI,EAAgB,CACzBC,mBANJ,WACI,OAAOC,EAAAA,EAAAA,IAAgB,GAAD,OAJT,SAIqB,mBACtC,G,UCHe,SAASC,IACpB,OAA4B/G,EAAAA,EAAAA,UAAS,CAAC,GAAE,eAAjCgH,EAAM,KAAEC,EAAS,KACxB,GAAkCjH,EAAAA,EAAAA,WAAS,GAAK,eAAzC4C,EAAS,KAAEC,EAAY,KAME,aAU/B,OAV+B,0BAAhC,kHAEoC+D,EAAcC,qBAAoB,OAAxDK,EAAa,OACnBD,GAAU,kBAAMC,CAAa,IAAC,gDAE9BvD,QAAQC,IAAI,QAAQ,EAAD,KACnBuD,EAAAA,EAAAA,IAAa,sBAAqB,QAEf,OAFe,UAElCtE,GAAa,GAAM,6EAE1B,sBAED,OAhBA1C,EAAAA,EAAAA,YAAU,YAEJ,WAE0B,wBAH5BiH,EACJ,GAAG,IAcI,CAACxE,EAAWoE,EAAOA,OAC9B,CCXe,SAASK,EAAU,GAAU,IAARC,EAAG,EAAHA,IAIhC,EAA6BP,IAAgB,eAAtCnE,EAAS,KAAE2E,EAAO,KACnBC,EAAMF,EAAIG,IACVA,EAAMH,EAAII,IAChB,GAA4B1H,EAAAA,EAAAA,UAAS,CAAEyH,IAAAA,EAAKD,IAAAA,IAAM,eAA3CG,EAAM,KACb,GADwB,MACA3H,EAAAA,EAAAA,UAAS,KAAG,eAA7B4H,EAAI,KACLC,GADc,KACL,WAAH,OAAS,iBAAK5C,UAAU,aAAY,WAAC,SAAC,MAAU,KAAG,gBAAKA,UAAU,mBAA2B,GAEzG,OAAIrC,GAAkB,SAAC,IAAM,KAGzB,oBAASqC,UAAU,MAAM6C,MAAO,CAAEC,OAAQ,OAAQC,MAAO,QAAS,UAC9D,SAAC,KAAc,CACXC,iBAAkB,CAAEC,IAAKX,GACzBY,cAAeR,EACfA,OAAQA,EACRC,KAAMA,EACNQ,YAAaR,EAAK,UAClB,SAACC,EAAM,CAACJ,IAAKA,EAAKD,IAAKA,OAKvC,CCvCO,SAASa,EAAQ,GAAW,IAE/B,EAF0B,EAAJ/I,KAEmBgI,IAAjCG,EAAG,EAAHA,IAAKC,EAAG,EAAHA,IAAKY,EAAI,EAAJA,KAAMC,EAAO,EAAPA,QACxB,OACI,qBAAStD,UAAU,qBAAqBuD,GAAG,WAAU,WACjD,eAAIvD,UAAU,kBAAiB,SAAC,qBAChC,eAAGA,UAAU,qBAAoB,UAAEqD,EAAK,KAAGC,MAC3C,SAAC,EAAS,CAACjB,IAAK,CAAEG,IAAAA,EAAKC,IAAAA,OAGnC,CCTO,SAASe,EAAkB,GAAa,IAAXC,EAAM,EAANA,OAE1BC,EAAiBrE,EAAAA,EAAAA,gBACjBsE,EAAeF,EAAOG,GAAG/C,SACzBgD,EAAajH,EAAAA,EAAAA,iBAA6B6G,EAAOK,GAAI,CAAEC,MAAO,OAAQC,KAAM,YAElF,OACI,qBAAShE,UAAU,sBAAqB,WACpC,qBAASA,UAAU,oCAAmC,WAClD,8BACI,gBAAKsB,IAAKoC,EAAgBnC,IAAI,YAElC,qBAASvB,UAAU,mBAAkB,WACjC,eAAIA,UAAU,YAAW,SAAE2D,KAC3B,iBAAM3D,UAAU,YAAW,SAAE6D,WAIrC,oBAAS7D,UAAU,sBAAqB,UACpC,uBAAIyD,EAAOQ,UAI3B,CCpBO,SAASC,EAAe,GAAuB,IAArBC,EAAgB,EAAhBA,iBAC/B,OACE,oBAASnE,UAAU,mBAAkB,SAClCmE,EAAiBC,KAAI,SAACX,EAAQY,GAAG,OAChC,SAACb,EAAiB,CAAWC,OAAQA,GAAbY,EAAuB,KAIvD,CCXO,SAASC,EAAkB,GAA+B,IAA7BjK,EAAI,EAAJA,KAAMkK,EAAkB,EAAlBA,mBAEhC7E,EAAcrF,EAAKsF,QAAQtE,OAC3B0E,EAAc,UAAML,EAAW,YAAIA,EAAc,EAAI,UAAY,UACvE,OACI,qBAASM,UAAU,kDAAiD,WAChE,SAAC,IAAU,CAACE,QAASsB,EAAAA,MACrB,qBAASxB,UAAU,8BAA6B,WAC5C,iBAAMA,UAAU,uBAAsB,SAAEuE,KACxC,wCACA,iBAAMvE,UAAU,uBAAsB,SAAED,SAIxD,CCfO,SAASyE,EAAqB,GAAyB,IAAvBC,EAAQ,EAARA,SAAUC,EAAQ,EAARA,SAE7C,OACI,qBAAS1E,UAAU,2CAA0C,WAEzD,gBAAKA,UAAU,qCAAoC,SAAEyE,KAErD,qBAASzE,UAAU,+CAA8C,WAC7D,oBAASA,UAAU,sBAAqB,UACpC,gBAAKA,UAAU,YAAY6C,MAAO,CAAEE,MAAM,GAAD,OAAKnG,EAAAA,EAAAA,oBAAgC8H,GAAS,WAE3F,iBAAM1E,UAAU,0CAAyC,SAAE0E,EAASC,QAAQ,UAK5F,CChBO,SAASC,EAAkB,GAAyB,IAAvBC,EAAkB,EAAlBA,mBAEhC,OACI,oBAAS7E,UAAU,sBAAqB,SACnC7E,OAAO2J,QAAQD,GAAoBT,KAAI,+BAAEnB,EAAG,KAAE8B,EAAK,YAChD,SAACP,EAAoB,CAAWC,SAAUxB,EAAKyB,SAAUK,GAA9B9B,EAAuC,KAIlF,CCFO,SAAS+B,EAAY,GAAmD,IAAjD3K,EAAI,EAAJA,KAAMwK,EAAkB,EAAlBA,mBAAoBN,EAAkB,EAAlBA,mBAE9CJ,EAAmB9J,EAAKsF,QAAQsF,MAAM,EAAG,GAE/C,OACI,qBAASjF,UAAU,yBAAyBuD,GAAG,UAAS,WACpD,SAACe,EAAiB,CACdjK,KAAMA,EACNkK,mBAAoBA,KAExB,SAACK,EAAiB,CACdC,mBAAoBA,KAExB,SAACX,EAAc,CACXC,iBAAkBA,GACbA,EAAiBZ,MAItC,CCrBO,SAAS2B,EAAU,GAAwE,IAAtE7K,EAAI,EAAJA,KAAMkK,EAAkB,EAAlBA,mBAAoBY,EAAa,EAAbA,cAAeC,EAAc,EAAdA,eAAgB3F,EAAQ,EAARA,SAE3E4F,EAAWhL,EAAKiL,KAChB5F,EAAcrF,EAAKsF,QAAQtE,OACjC,EAA0BhB,EAAKgI,IAAvBgB,EAAI,EAAJA,KAAMC,EAAO,EAAPA,QACRvD,EAAc,UAAML,EAAW,YAAIA,EAAc,EAAI,UAAY,UACvE,OACI,oBAASM,UAAU,iBAAgB,UAE/B,qBAASA,UAAU,mCAAkC,WACjD,eAAIA,UAAU,gCAA+B,SAAEqF,KAC/C,qBAASrF,UAAU,sDAAqD,WAEpE,gBAAIA,UAAU,2EAA0E,WAEpF,gBAAIA,UAAU,uBAAsB,WAChC,qBAASA,UAAU,+BAA8B,WAC7C,SAAC,IAAU,CAACE,QAASC,EAAAA,MACrB,0BAAOoE,QAEX,iBAAMvE,UAAU,wBAAuB,SAAED,QAG7C,yBAAI,kBAAMC,UAAU,qBAAoB,UAAEqD,EAAK,KAAGC,WAGpD7D,IACE,qBAASO,UAAU,gDAA+C,WAE9D,qBAASA,UAAU,+BAA8B,WAC7C,SAAC,IAAU,CAACE,QAASqF,EAAAA,MACrB,iBAAMvF,UAAU,4CAA2C,SAAC,WAC5D,gBAAKA,UAAU,gBAGnB,qBACIA,UAAU,yBACVwF,QAAS,SAAClF,GAAE,OAAK6E,EAAc7E,EAAG,EAAC,WAEnC,SAAC,IAAU,CAACJ,QAASkF,IAAmBK,EAAAA,GAAoBC,EAAAA,MAC5D,iBAAM1F,UAAU,4CAA2C,SAAC,UAC5D,gBAAKA,UAAU,yBAQ/C,CCtDO,SAAS2F,EAAiB,GAAgB,IAAdC,EAAS,EAATA,UAEvBC,EAA0BD,EAA1BC,MAAOC,EAAmBF,EAAnBE,MAAOC,EAAYH,EAAZG,QACtB,OACI,qBAAS/F,UAAU,+BAA8B,WAC7C,8BAAS,SAAC,IAAU,CAACE,QAAS2F,OAC9B,qBAAS7F,UAAU,wBAAuB,WACtC,eAAIA,UAAU,kBAAiB,SAAE8F,KACjC,cAAG9F,UAAU,oBAAmB,SAAE+F,SAIlD,CCPO,SAASC,IAGZ,IAAMC,EAAgB,CAClB,CACIJ,MAAOK,EAAAA,GACPJ,MAAO,iBACPC,QAAS,4DAEb,CACIF,MAAOM,EAAAA,GACPL,MAAO,gBACPC,QAAS,uCAEb,CACIF,MAAOO,EAAAA,GACPN,MAAO,kCACPC,QAAS,KAIjB,OACI,oBAAS/F,UAAU,mCAAkC,SAChDiG,EAAc7B,KAAI,SAAAwB,GAAS,OACxB,SAACD,EAAgB,CAAuBC,UAAWA,GAA5BA,EAAUE,MAA+B,KAIhF,CCnCO,SAASO,EAAS,GAAuB,IAArBhM,EAAI,EAAJA,KAAMoG,EAAU,EAAVA,WAM7B,OACI,qBAAST,UAAU,6CAA4C,WAC3D,qBAASA,UAAU,gBAAe,WAC9B,gBAAIA,UAAU,kBAAiB,UAAC,0BAAwB3F,EAAKuG,KAAKC,aAClE,gBAAIb,UAAU,wCAAuC,WACjD,wBATD,cAUC,wBATC,gBAUD,wBATH,YAUG,wBATF,kBAYN,8BACI,gBAAKsB,IAAKb,EAAYc,IAAI,aAI1C,CCpBO,SAAS+E,EAAe,GAAc,IAAZC,EAAO,EAAPA,QAE7B,OACI,qBAASvG,UAAU,oDAAmD,WAClE,8BAAS,SAAC,IAAU,CAACE,QAASqG,OAC9B,0BAAOA,MAGnB,CCPO,SAASC,EAAY,GAAgB,IAAdC,EAAS,EAATA,UAE1B,OACI,qBAASzG,UAAU,yBAAyBuD,GAAG,YAAW,WACtD,eAAIvD,UAAU,kBAAiB,SAAC,4BAChC,oBAASA,UAAU,eAAc,SAC5ByG,EAAUxB,MAAM,EAAG,IAAIb,KAAI,SAAAmC,GAAO,OAC/B,SAACD,EAAc,CAAeC,QAASA,GAAlBA,EAA6B,QAKtE,C,cCXO,SAASG,GAAU,GAA6C,IAA3CrM,EAAI,EAAJA,KAAMW,EAAa,EAAbA,cAAe2L,EAAiB,EAAjBA,kBAIvCC,GAHwBC,EAAAA,EAAAA,GAAY,MAGK,EAAI,EACnD,OACI,qBAAS7G,UAAU,iBAAgB,WAC/B,wBAAI,0BACJ,uBAAG,6CACH,SAAC,IAAU,CACPhF,cAAeA,EACf2L,kBAAmBA,EACnB9K,eAAgBxB,EAAKwB,eACrB+K,eAAgBA,MAIhC,CCXO,SAASE,GAAmB,GAAyB,IAAvBzM,EAAI,EAAJA,KAAMyC,EAAY,EAAZA,aAEjC8C,EAAYxD,EAAAA,EAAAA,aAAyB/B,EAAKsF,SAChD,OACI,qBAASK,UAAU,2EAA0E,WACzF,qBAASA,UAAU,sBAAqB,WACpC,kBAAMA,UAAU,iCAAgC,UAAC,IAAEpD,EAAAA,EAAAA,UAAsBE,EAAaG,sBACtF,iBAAM+C,UAAU,YAAW,SAAC,cAEhC,qBAASA,UAAU,iCAAgC,WAC/C,SAAC,IAAU,CAACE,QAASC,EAAAA,MACrB,iBAAMH,UAAU,kBAAiB,SAAEJ,KACnC,kBAAMI,UAAU,mBAAkB,UAAE3F,EAAKsF,QAAQtE,OAAO,mBAIxE,CCxBO,SAAS0L,GAAe,GAA2C,IAAzC5K,EAAO,EAAPA,QAASE,EAAQ,EAARA,SAAUG,EAAM,EAANA,OAAiB,EAATwC,UAmBxD,IAAMgI,EAAe3H,EAAAA,EAAAA,kBAA8B7C,GACnD,OACI,qBAASwD,UAAU,mBAAmB8F,MAAM,kCAAiC,WACzE,qBAAS9F,UAAU,kBAAkBwF,QAAS,SAAClF,GAAE,OApBzD,SAAsBA,GAClBA,EAAG2G,iBACH3G,EAAG4G,iBAIP,CAc8DC,CAAa7G,EAAG,EAAC,WAEnE,gBAAKN,UAAU,4BACf,qBAASA,UAAU,aAAY,WAE3B,qBAASA,UAAU,gBAAe,WAC9B,iBAAMA,UAAU,uCAAsC,SAAC,cACvD,iBAAMA,UAAS,mBAAc7D,EAAU,GAAK,UAAW,SAAEA,GAAoB,iBAGjF,qBAAS6D,UAAU,iBAAgB,WAC/B,iBAAMA,UAAU,uCAAsC,SAAC,cACvD,iBAAMA,UAAS,mBAAc3D,EAAW,GAAK,UAAW,SAAEA,GAAsB,uBAK5F,qBAAS2D,UAAU,mBAAmBwF,QAAS,SAAClF,GAAE,OA7B1D,SAAuBA,GACnBA,EAAG2G,iBACH3G,EAAG4G,iBAKP,CAsB+DE,CAAc9G,EAAG,EAAC,WAErE,gBAAKN,UAAU,6BACf,oBAASA,UAAU,SAAQ,UAEvB,qBAASA,UAAU,mBAAkB,WACjC,iBAAMA,UAAU,uCAAsC,SAAC,YACvD,iBAAMA,UAAU,YAAW,SAAEgH,cAQrD,CCtDO,SAASK,GAAQ,GAAmB,IAAjBvK,EAAY,EAAZA,aAEdG,EAA2DH,EAA3DG,iBAAkBO,EAAyCV,EAAzCU,YAAab,EAA4BG,EAA5BH,WAAYE,EAAgBC,EAAhBD,YAC7CyK,EAAcrK,EAAmBO,EAAeb,EAAaE,EACnE,OACI,qBAASmD,UAAU,UAAS,WAExB,qBAASA,UAAU,kBAAiB,WAChC,qBAASA,UAAU,qBAAoB,WACnC,kBAAMA,UAAU,sBAAqB,UAAC,IAAE/C,EAAiB6C,iBAAiB,MAAItC,EAAY,cAC1F,kBAAMwC,UAAU,YAAW,UAAC,IAAE/C,EAAmBO,SAErD,qBAASwC,UAAU,qBAAoB,WACnC,iBAAMA,UAAU,sBAAqB,SAAC,kBACtC,kBAAMA,UAAU,YAAW,UAAC,IAAEpD,EAAAA,EAAAA,UAAsBC,UAExD,qBAASmD,UAAU,qBAAoB,WACnC,iBAAMA,UAAU,sBAAqB,SAAC,yBACtC,kBAAMA,UAAU,YAAW,UAAC,IAAErD,EAAWmD,2BAIjD,oBAASE,UAAU,QAAO,UACtB,qBAASA,UAAU,0CAAyC,WACxD,iBAAMA,UAAU,YAAW,SAAC,WAC5B,kBAAMA,UAAU,YAAW,UAAC,IAAEpD,EAAAA,EAAAA,UAAsB0K,aAKxE,CC5BO,SAASC,GAAY,GAAW,IAATlN,EAAI,EAAJA,KAC1B,OACI,qBAAS2F,UAAU,oBAAmB,WAClC,qBAASA,UAAU,iBAAgB,WAC/B,iBAAMA,UAAU,iBAAgB,SAAC,kBACjC,kBAAMA,UAAU,YAAW,UAAC,oBAA+B,GAAb3F,EAAK+C,OAAauH,QAAQ,GAAG,mFAE/E,SAAC,IAAU,CAACzE,QAASsH,EAAAA,OAGjC,CCDO,SAASC,GAAa,GAMzB,IALApN,EAAI,EAAJA,KACA8B,EAAO,EAAPA,QAASE,EAAQ,EAARA,SACTG,EAAM,EAANA,OAAQwC,EAAS,EAATA,UACRlC,EAAY,EAAZA,aACAyC,EAAwB,EAAxBA,yBAA0BC,EAAc,EAAdA,eAI1B,OACI,qBAASQ,UAAU,gBAAe,WAC9B,qBAASA,UAAU,cAAa,WAE5B,qBAASA,UAAU,QAAO,WACtB,SAAC8G,GAAkB,CAACzM,KAAMA,EAAMyC,aAAcA,KAC9C,SAACiK,GAAc,CACX5K,QAASA,EACTE,SAAUA,EACVG,OAAQA,EACRwC,UAAWA,IAEb7C,GAAWE,GACP,SAAC,IAAU,CACT+D,KAAM,UACNC,cAAe,SAACC,GAAE,OAAKd,EAAec,EAAG,KAE3C,SAAC,IAAU,CACTF,KAAM,qBACNC,cAAe,SAACC,GAAE,OAAKf,EAAyBe,EAAG,OAK9DnE,GAAWE,IACR,iCACI,oBAAS2D,UAAU,qCAAoC,UACnD,iBAAMA,UAAU,YAAW,SAAC,gCAEhC,SAACqH,GAAO,CAACvK,aAAcA,WAMnC,SAACyK,GAAW,CAAClN,KAAMA,MAG/B,CCpDO,SAASqN,GAAY,GAOxB,IANArN,EAAI,EAAJA,KAAMoG,EAAU,EAAVA,WACNtE,EAAO,EAAPA,QAASE,EAAQ,EAARA,SAAUrB,EAAa,EAAbA,cAAe2L,EAAiB,EAAjBA,kBAClCnK,EAAM,EAANA,OAAQwC,EAAS,EAATA,UACRlC,EAAY,EAAZA,aACAyC,EAAwB,EAAxBA,yBAA0BC,EAAc,EAAdA,eAC1BC,EAAQ,EAARA,SAGA,OACI,qBAASO,UAAU,oBAAmB,WAClC,qBAASA,UAAU,UAAS,WACxB,SAACqG,EAAQ,CAAChM,KAAMA,EAAMoG,WAAYA,KAClC,SAACuF,EAAa,KACd,SAACQ,EAAW,CAACC,UAAWpM,EAAKoM,aAC7B,SAACC,GAAS,CAACrM,KAAMA,EAAMW,cAAeA,EAAe2L,kBAAmBA,QAG1ElH,IACE,oBAASO,UAAU,0BAAyB,UACxC,SAACyH,GAAY,CACTpN,KAAMA,EACN8B,QAASA,EAASE,SAAUA,EAC5BG,OAAQA,EAAQwC,UAAWA,EAC3BlC,aAAcA,EACdyC,yBAA0BA,EAA0BC,eAAgBA,QAM5F,CCvCO,SAASmI,GAAW,GAAuB,IAArBC,EAAM,EAANA,OAAQnI,EAAQ,EAARA,SAE3BoI,EAAYpI,EAAWmI,EAAO3C,MAAM,EAAG,GAAK2C,EAAO3C,MAAM,EAAG,GAClE,OACI,oBAASjF,UAAS,UAAKP,EAAW,GAAK,kBAAmB,UACtD,oBAASO,UAAU,wBAAuB,SACrC6H,EAAUzD,KAAI,SAAC0D,EAAKC,GAAK,OACtB,qBAAS/H,UAAU,gBAAe,WAC9B,gBAAKsB,IAAKwG,EAAKvG,IAAKwG,KACpB,gBAAK/H,UAAU,cAFqB+H,EAG9B,OAK9B,CCZO,SAASC,GAA8B,GAAqD,IAAnD7C,EAAa,EAAbA,cAAeC,EAAc,EAAdA,eAAgB6C,EAAe,EAAfA,gBAE3E,OACI,qBAASjI,UAAU,oEAAmE,WAClF,oBAASA,UAAU,SAAQ,UACvB,mBAAQwF,QAAS,SAAClF,GAAE,OAAK2H,EAAgB3H,EAAG,EAAC,UACzC,qBAASN,UAAU,yBAAwB,WACvC,SAAC,IAAU,CAACE,QAASgI,EAAAA,MACrB,eAAIlI,UAAU,uBAAsB,SAAC,kBAIjD,qBAASA,UAAU,wBAAuB,WACtC,mBAAQA,UAAU,QAAO,UACrB,SAAC,IAAU,CAACE,QAASqF,EAAAA,QAEzB,mBAAQC,QAAS,SAAClF,GAAE,OAAK6E,EAAc7E,EAAG,EAAC,UACvC,SAAC,IAAU,CAACJ,QAASkF,IAAmBK,EAAAA,GAAoBC,EAAAA,YAKhF,CCsBO,SAASyC,KAAe,IAAD,IC7C6BC,ED8CjDhK,GAAWC,EAAAA,EAAAA,KACXH,GAAWC,EAAAA,EAAAA,MACTT,GAAW2K,EAAAA,EAAAA,MAAX3K,OACFG,GAAejD,EAAAA,EAAAA,IAAe,SAAAC,GAAU,OAAIA,EAAWiD,WAAWC,IAAI,IACtEuK,GAAc1N,EAAAA,EAAAA,IAAe,SAAAC,GAAU,OAAIA,EAAWC,WAAWwN,WAAW,IAC5E7I,GAAWoH,EAAAA,EAAAA,KAEjB,EAMIpJ,EAAeC,GAAO,gBALtBC,EAAS,KACTtD,EAAI,KAAEoG,EAAU,KAChBtE,EAAO,KAAEE,EAAQ,KAAErB,EAAa,KAAEC,EAAgB,KAClDuB,EAAM,KAAEwC,EAAS,KACjBlC,EAAY,KAMhB,SAASsI,IACL,QAAOvH,GAAeyK,EAAYC,MAAK,SAAAC,GAAU,OAAIA,IAAe9K,CAAM,GAC9E,CAEA,SAAS6B,EAAyBe,GAC9BA,EAAG2G,iBACH3G,EAAG4G,kBACHxI,QAAQC,IAAI,6BAChB,CAEA,SAASwG,EAAc7E,GACnBA,EAAG2G,iBACH3G,EAAG4G,kBAKH9I,EAJKP,GAII4K,EAAAA,EAAAA,IAAmB,CAAE/K,OAAAA,KAHjBgL,EAAAA,EAAAA,IAAkBC,EAAAA,IAInC,CAEA,SAASnJ,EAAec,GAGpB,GAFAA,EAAG2G,iBACH3G,EAAG4G,kBACErJ,EAGA,CACD,IAAM+K,EAYd,SAAqB,GAAyE,IAAvErL,EAAU,EAAVA,WAAYN,EAAgB,EAAhBA,iBAAkBO,EAAW,EAAXA,YAAab,EAAU,EAAVA,WAAYE,EAAW,EAAXA,YAC1E,MAAO,CACHgM,MAAO,CACHC,IAAKjL,EAAaiL,IAClBjI,SAAUhD,EAAagD,SACvBkI,IAAKlL,EAAamL,OAClBC,OAAQpL,EAAaoL,OAASpL,EAAaoL,OAASrM,EAAAA,EAAAA,yBAExDsM,OAAQ,CACJJ,IAAKzO,EAAKuG,KAAKkI,IACfjI,SAAUxG,EAAKuG,KAAKC,SACpBkI,IAAKtI,EACLwI,OAAQrM,EAAAA,EAAAA,yBAEZE,aAAc,CACVX,QAAAA,EACAE,SAAAA,EACAmB,YAAAA,EACAD,WAAAA,EACAN,iBAAAA,GAEJkM,WAAY,CACR/L,MAAQH,EAAmBO,EAC3Bb,WAAAA,EACAE,YAAAA,EACAuM,MAAQnM,EAAmBO,EAAeb,EAAaE,GAE3DwM,YAAa,CACT9F,GAAIlJ,EAAKyO,IACTQ,MAAOjP,EAAKkP,QAAQ,GACpBlH,IAAKhI,EAAKgI,IACVmH,QAASnP,EAAKmP,QACdC,KAAMpP,EAAKoP,KACXC,KAAMrP,EAAKsF,QAAQ+J,KACnBtI,aAAc/G,EAAKsF,QAAQtE,QAE/BsO,QAASC,EAAAA,EAAAA,sBACTC,OAAQ,UAEhB,CAnDsBC,CAAYhN,GAC1BsB,GAAS2L,EAAAA,EAAAA,IAAanB,IACtB1K,EAAS,cAAD,OAAe7D,EAAKyO,KAChC,MANI1K,GAASsK,EAAAA,EAAAA,IAAkBC,EAAAA,IAOnC,CAoEA,GCnKuDP,ED4DpBzK,GAAa8B,GC1DhDvE,EAAAA,EAAAA,YAAU,WACN,IAAKkN,EAAgB,CAAC,IACZR,EAASoC,SAASC,cAAc,0BAChCC,EAAYF,SAASC,cAAc,8CACnCE,EAAkBH,SAASC,cAAc,sCACzCG,EAAcJ,SAASC,cAAc,sBAErCI,EAAiB,IAAIC,sBAO3B,SAA0BxF,GACtBA,EAAQyF,SAAQ,SAACC,GACbN,EAAUrH,MAAM4H,QAAUD,EAAME,eAAiB,OAAS,MAC9D,GACJ,GAXkE,CAC9DC,WAAY,iBAEVC,EAA0B,IAAIN,sBAUpC,SAAmCxF,GAC/BA,EAAQyF,SAAQ,SAACC,GACbJ,EAAYvH,MAAM4H,QAAUD,EAAME,eAAiB,OAAS,MAChE,GACJ,GAdoF,CAChFC,WAAY,sBAkBhB,OAHAN,EAAeQ,QAAQjD,GACvBgD,EAAwBC,QAAQV,GAEzB,WACHD,EAAUrH,MAAMiI,eAAe,WAC/BV,EAAYvH,MAAMiI,eAAe,WACjCT,EAAeU,aACfH,EAAwBG,YAC5B,CACJ,CACJ,GAAG,CAAC3C,ID6HAzK,EAAW,OAAO,SAAC,IAAM,IAE7B,IAAMkH,EAAqBzI,EAAAA,EAAAA,sBAAkC/B,EAAKsF,SAC5De,EAAmB9D,EAAAA,EAAAA,wBACnB2H,EAAqBnI,EAAAA,EAAAA,aAAyB/B,EAAKsF,SAEzD,OACI,qBAASK,UAAS,0CAAqCP,EAAW,UAAY,IAAM8D,GAAG,SAAQ,WAC3F,UAAC,KAAM,YACE,OAAJlJ,QAAI,IAAJA,OAAI,EAAJA,EAAMiL,QAAQ,2BAAQjL,EAAKiL,QACvB,OAAJjL,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMuG,YAAI,WAAN,EAAJ,EAAYC,YAAY,iBAAMyE,KAAK,cAAcS,QAAO,iCAA4B1L,EAAKuG,KAAKC,eAElGpB,IACG,SAACuI,GAA6B,CAC1B7C,cAAeA,EACfC,eAAgBA,EAChB6C,gBAlFhB,SAAyB3H,GACrBA,EAAG2G,iBACH3G,EAAG4G,kBACHhJ,EAAS,IACb,KAiFQ,SAACoB,EAA2B,CACxBjF,KAAMA,EACNW,cAAeA,EACfwE,eAAgBA,EAChBD,yBAA0BA,EAC1BE,SAAUA,KAEd,qBAASO,UAAU,mCAAkC,WACjD,SAAC2H,GAAU,CAACC,OAAQvN,EAAKkP,QAAS9J,SAAUA,KAC5C,SAACyF,EAAS,CACN7K,KAAMA,EACNkK,mBAAoBA,EACpBY,cAAeA,EACfC,eAAgBA,EAChB3F,SAAUA,QAGlB,SAACiI,GAAW,CACRrN,KAAMA,EAAMoG,WAAYA,EACxBtE,QAASA,EAASE,SAAUA,EAAUrB,cAAeA,EAAe2L,kBAzDhF,SAA2BqE,GACvB,IAAMC,EAAW,CAAElP,KAAM,GAAIC,GAAI,IAC7BgP,GACAC,EAASlP,KAAOiP,EAAMjP,KACtBkP,EAASjP,GAAKgP,EAAMhP,GACfgP,EAAMjP,OAAMkP,EAASlP,KAAO,IAC5BiP,EAAMhP,KAAIiP,EAASjP,GAAK,IACzBgP,EAAMjP,MAASP,KAAKC,MAAMuP,EAAMjP,QAAUP,KAAKC,MAAMuP,EAAMhP,MACtDR,KAAKC,MAAMT,EAAce,QAAUP,KAAKC,MAAMuP,EAAMjP,OAA+B,KAArBf,EAAcgB,KAAWiP,EAASlP,KAAO,IAC5GkP,EAASjP,GAAK,KAGdhB,EAAce,MAAQf,EAAcgB,KAAIiP,EAASlP,KAAOf,EAAce,MAG9Ed,GAAiB,SAAAiQ,GAAI,yBAAUA,GAASD,EAAQ,GACpD,EA0CYzO,OAAQA,EAAQwC,UAAWA,EAC3BlC,aAAcA,EACdyC,yBAA0BA,EAA0BC,eAAgBA,EACpEC,SAAUA,KAGE,QAAZ,EAAApF,EAAKsF,eAAO,aAAZ,EAActE,QAAS,IACvB,SAAC2J,EAAW,CACR3K,KAAMA,EACNwK,mBAAoBA,EACpBN,mBAAoBA,KAG5B,SAACnB,EAAO,CAAC/I,KAAMA,KACf,SAACmG,EAAW,CACRnG,KAAMA,EACNoG,WAAYA,EACZC,iBAAkBA,KAEtB,SAACH,EAAY,CAACd,SAAUA,EAAUtD,QAASA,MAGvD,C","sources":["customHooks/useStayDetailsDates.js","customHooks/useStayDetailsOrderDetails.js","customHooks/useStayDetails.js","customHooks/useLoadStay.js","customHooks/useStayDetailsGuests.js","cmps/stay-details/stay-details-nav-reserve-sticky.jsx","cmps/stay-details/stay-things-to-know.jsx","cmps/stay-details/stay-host-details.jsx","services/secret.service.js","customHooks/useFetchSecret.js","cmps/_reuseable-cmps/map.jsx","cmps/stay-details/stay-map.jsx","cmps/stay-details/stay-reviews/stay-review-preview.jsx","cmps/stay-details/stay-reviews/stay-review-list.jsx","cmps/stay-details/stay-reviews/stay-reviews-header.jsx","cmps/stay-details/stay-reviews/category-score-preview.jsx","cmps/stay-details/stay-reviews/category-score-list.jsx","cmps/stay-details/stay-reviews.jsx","cmps/stay-details/stay-title.jsx","cmps/stay-details/stay-summary/highlight-preview.jsx","cmps/stay-details/stay-summary/highlight-list.jsx","cmps/stay-details/stay-summary/overview.jsx","cmps/stay-details/stay-summary/amenity-preview.jsx","cmps/stay-details/stay-summary/amenity-list.jsx","cmps/stay-details/stay-summary/stay-dates.jsx","cmps/stay-details/stay-summary/order-sidebar/cost-and-review-score.jsx","cmps/stay-details/stay-summary/order-sidebar/dates-and-guests.jsx","cmps/stay-details/stay-summary/order-sidebar/pricing.jsx","cmps/stay-details/stay-summary/order-sidebar/special-info.jsx","cmps/stay-details/stay-summary/order-sidebar.jsx","cmps/stay-details/stay-summary.jsx","cmps/stay-details/stay-photos.jsx","cmps/stay-details/stay-details-mobile-return-header.jsx","pages/stay-details.jsx","customHooks/useStayDetailsIntersectionObserver.js"],"sourcesContent":["// Node modules\r\nimport { useEffect, useMemo, useRef, useState } from 'react'\r\nimport { startOfDay } from 'date-fns'\r\n\r\n// Services\r\nimport { stayService } from '../services/stay.service'\r\n\r\n// Store\r\nimport { useAppSelector } from '../store/hooks'\r\n\r\n\r\nexport default function useStayDetailsDates(stay, isLoadingStay) {\r\n    const isLoadingDatesRef = useRef(true)\r\n    const DAY = useMemo(() => 1000 * 60 * 60 * 24, [])\r\n    const filterBy = useAppSelector(storeState => storeState.stayModule.filterBy)\r\n    const [selectedRange, setSelectedRange] = useState(null)\r\n\r\n\r\n    useEffect(() => {\r\n        if (!isLoadingStay && Object.keys(stay).length > 0) {\r\n            const initialState = getInitialState(filterBy)\r\n            setSelectedRange(initialState)\r\n            isLoadingDatesRef.current = false\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [isLoadingStay, stay])\r\n\r\n\r\n    function getInitialState(filterBy) {\r\n        const today = Date.parse(startOfDay(Date.now()))\r\n        const earliestCheckIn = stay\r\n            ? today + (DAY * stay.availableDates[0].daysFromToday)\r\n            : today\r\n\r\n        return {\r\n            from: new Date(filterBy?.from ? filterBy.from : earliestCheckIn),\r\n            to: new Date(filterBy?.to ? filterBy.to : earliestCheckIn + DAY)\r\n        }\r\n    }\r\n\r\n    const checkIn = selectedRange ? stayService.getDate(selectedRange?.from) : ''\r\n    const checkOut = selectedRange ? stayService.getDate(selectedRange?.to) : ''\r\n\r\n    return [isLoadingDatesRef.current, checkIn, checkOut, selectedRange, setSelectedRange]\r\n}","// Node modules\r\nimport { useEffect, useMemo, useRef, useState } from 'react'\r\n\r\n// Services\r\nimport { stayService } from '../services/stay.service'\r\nimport { utilService } from '../services/util.service.js'\r\n\r\n\r\nexport default function useStayDetailsOrderDetails(isLoadingDates, stay, checkIn, checkOut, guests) {\r\n    const isLoadingOrderDetailsRef = useRef(true)\r\n\r\n    const immutableFees = useMemo(() => ({\r\n        serviceFee: utilService.getRandomIntInclusive(100, 500),\r\n        cleaningFee: utilService.getRandomIntInclusive(100, 500)\r\n    }), [])\r\n\r\n    const [orderDetails, setOrderDetails] = useState({})\r\n\r\n\r\n    useEffect(() => {\r\n        if (!isLoadingDates) {\r\n            isLoadingOrderDetailsRef.current = false\r\n            if (checkIn && checkOut) {\r\n                handleOrderDetailsUpdate()\r\n            }\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [isLoadingDates, checkIn, checkOut, guests])\r\n\r\n\r\n    useEffect(() => {\r\n        if (!isLoadingOrderDetailsRef.current && (!checkIn || !checkOut)) handleOrderDetailsDatesReset()\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [checkIn, checkOut])\r\n\r\n    function handleOrderDetailsUpdate() {\r\n        setOrderDetails(prevOrder => ({ ...prevOrder, ...getUpdatedValues() }))\r\n    }\r\n\r\n    function handleOrderDetailsDatesReset() {\r\n        setOrderDetails(prevOrder => ({ ...prevOrder, nightsCount: null }))\r\n    }\r\n\r\n    function getUpdatedValues() {\r\n        return {\r\n            singleNightPrice: Math.floor(stay.price + ((stay.price / 8) * (guests.adults + guests.children - 1))),\r\n            guestCount: guests.adults + guests.children,\r\n            nightsCount: stayService.calculateHowManyNights(Date.parse(checkIn), Date.parse(checkOut)),\r\n            ...immutableFees\r\n        }\r\n    }\r\n\r\n    return [isLoadingOrderDetailsRef.current, orderDetails]\r\n}","// Node modules\r\nimport { useEffect, useRef, useState } from 'react'\r\n\r\n// Services\r\nimport { userService } from '../services/user.service'\r\n\r\n// Store\r\nimport { useAppDispatch, useAppSelector } from '../store/hooks'\r\nimport { loadWishlistedStayId, stayResetWishlistIds, stayUpdateReqStatusLoadWishlistId } from '../store/staySlice'\r\n\r\n// Custom hooks\r\nimport useLoadStay from './useLoadStay'\r\nimport useStayDetailsDates from './useStayDetailsDates'\r\nimport useStayDetailsGuests from './useStayDetailsGuests'\r\nimport useStayDetailsOrderDetails from './useStayDetailsOrderDetails'\r\n\r\n\r\nexport default function useStayDetails(stayId) {\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const stay = useAppSelector(storeState => storeState.stayModule.stay)\r\n    const isLoadingStay = useAppSelector(storeState => storeState.stayModule.isLoadingStay)\r\n    const loggedinUser = useAppSelector(storeState => storeState.userModule.user)\r\n    const reqStatusLoadWishlistId = useAppSelector(storeState => storeState.stayModule.reqStatusLoadWishlistId)\r\n    const stayHostImgUrlRef = useRef()\r\n\r\n    useLoadStay(stayId)\r\n    const [isLoadingDates, checkIn, checkOut, selectedRange, setSelectedRange] = useStayDetailsDates(stay, isLoadingStay)\r\n    const [guests, setGuests] = useStayDetailsGuests()// TODO: isLoadedGuests\r\n    const [isLoadingOrderDetails, orderDetails] = useStayDetailsOrderDetails(isLoadingDates, stay, checkIn, checkOut, guests)// TODO: !isLoadedDates && !isLoadedGuests\r\n    const dispatch = useAppDispatch()\r\n\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            dispatch(stayUpdateReqStatusLoadWishlistId(\"idle\"))\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (loggedinUser && reqStatusLoadWishlistId === \"idle\") {\r\n            dispatch(stayResetWishlistIds())\r\n            dispatch(loadWishlistedStayId(stayId))\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [reqStatusLoadWishlistId, dispatch])\r\n\r\n    useEffect(() => {\r\n        if (!isLoadingStay && Object.keys(stay).length > 0) stayHostImgUrlRef.current = userService.randomHostImg()\r\n    }, [isLoadingStay, stay])\r\n\r\n    useEffect(() => {\r\n        if (!isLoadingOrderDetails) setIsLoading(false)\r\n    }, [isLoadingOrderDetails])\r\n\r\n\r\n\r\n    return [\r\n        isLoading,\r\n        stay, stayHostImgUrlRef.current,\r\n        checkIn, checkOut, selectedRange, setSelectedRange,\r\n        guests, setGuests,\r\n        orderDetails,\r\n    ]\r\n}\r\n","// Node modules\r\nimport { useCallback, useEffect } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\n// Store\r\nimport { loadStay } from '../store/staySlice'\r\nimport { useAppDispatch } from '../store/hooks'\r\n\r\n\r\nexport default function useLoadStay(stayId) {\r\n    const navigate = useNavigate()\r\n    const dispatch = useAppDispatch()\r\n\r\n    const handleLoadStay = useCallback(async () => {\r\n        try {\r\n            await dispatch(loadStay(stayId)).unwrap()\r\n        } catch (err) {\r\n            console.log(err)\r\n            navigate('/')\r\n        }\r\n    }, [navigate, dispatch, stayId])\r\n\r\n    useEffect(() => {\r\n        handleLoadStay()\r\n    }, [handleLoadStay])\r\n}","// Node modules\r\nimport { useState } from 'react'\r\n\r\n// Store\r\nimport { useAppSelector } from '../store/hooks'\r\n\r\n\r\nexport default function useStayDetailsGuests() {\r\n    const filterBy = useAppSelector(storeState => storeState.stayModule.filterBy)\r\n    const initialState = filterBy?.guests?.adults > 0 ?\r\n        filterBy.guests :\r\n        {\r\n            adults: 1,\r\n            children: 0,\r\n            infants: 0,\r\n            pets: 0\r\n        }\r\n    const [guests, setGuests] = useState(initialState)\r\n\r\n    return [guests, setGuests]\r\n}","// Services\r\nimport { stayService } from '../../services/stay.service'\r\nimport { STAR } from '../../services/svg.service.js'\r\n\r\n// Components\r\nimport { ButtonMain } from '../_reuseable-cmps/button-main.jsx'\r\nimport SvgHandler from '../_reuseable-cmps/svg-handler.jsx'\r\n\r\n\r\nexport function StayDetailsNavReserveSticky({ stay, selectedRange, onCheckAvailabilityClick, onReserveClick, isMobile }) {\r\n\r\n    const reviewCount = stay.reviews.length\r\n    const stayScore = stayService.getStayScore(stay.reviews)\r\n    const stayPrice = stay.price.toLocaleString()\r\n\r\n    const reviewCountStr = `${reviewCount} ${reviewCount > 1 ? 'reviews' : 'review'}`\r\n    return (\r\n        <section className='stay-details-nav-reserve-sticky-container details-layout'>\r\n            <section className='stay-details-nav-reserve-sticky flex space-between justify-center'>\r\n\r\n                {!isMobile &&\r\n                    <nav className='links-container ff-circular-semibold fs14 lh20 flex align-center'>\r\n                        <a href='#photos'>Photos</a>\r\n                        <a href='#amenities'>Amenities</a>\r\n                        <a href='#reviews'>Reviews</a>\r\n                        <a href='#location'>Location</a>\r\n                    </nav>\r\n                }\r\n\r\n                <section className={`reserve-container flex align-center ${isMobile ? 'space-between' : 'justify-end'}`}>\r\n                    <section className='stay-info flex column'>\r\n\r\n                        <section className='price flex'>\r\n                            <span className='ff-circular-semibold fs16 lh20'>${stayPrice}</span>\r\n                            <span className='fs14 lh18'>night</span>\r\n                        </section>\r\n\r\n                        <section className='score ff-circular-semibold lh16 flex align-baseline'>\r\n                            <span className='star fs10'><SvgHandler svgName={STAR} /></span>\r\n                            <span className='review-rate fs12'>{stayScore}</span>\r\n                            <span className='review-count underline fs12'>{reviewCountStr}</span>\r\n                        </section>\r\n\r\n                    </section>\r\n\r\n                    {(selectedRange.from && selectedRange.to)\r\n                        ? <ButtonMain\r\n                            text={'Reserve'}\r\n                            onClickButton={(ev) => onReserveClick(ev)}\r\n                        />\r\n                        : <ButtonMain\r\n                            text={'Check availability'}\r\n                            onClickButton={(ev) => onCheckAvailabilityClick(ev)}\r\n                        />\r\n                    }\r\n                </section>\r\n            </section>\r\n        </section >\r\n    )\r\n}","export function ThingsToKnow({ isMobile, checkIn }) {\r\n\r\n    return (\r\n\r\n        <section className='things-to-know'>\r\n            {!isMobile &&\r\n                <h2 className='title fs22 lh26'>Things to know</h2>\r\n            }\r\n            <section className='rules-container fs16 lh20'>\r\n\r\n                <section>\r\n                    <h4 className='inner-title ff-circular-semibold'>House rules</h4>\r\n                    <p>Check-in after 4:00 PM</p>\r\n                    <p>Checkout before 10:00 AM</p>\r\n                    <p>Pets allowed</p>\r\n                </section>\r\n\r\n                <section>\r\n                    <h4 className='inner-title ff-circular-semibold'>Safety & property</h4>\r\n                    <p>No smoke alarm</p>\r\n                    <p>Pool/hot tub without a gate or lock</p>\r\n                    <p>Carbon monoxide detector not required</p>\r\n                </section>\r\n\r\n                <section>\r\n                    <h4 className='inner-title ff-circular-semibold'>Cancellation policy</h4>\r\n                    {checkIn ?\r\n                        <>\r\n                            <p>Free cancellation before {checkIn}</p>\r\n                            <p>Review the Host's full cancellation policy which applies even if you cancel for illness for disruptions caused by COVID-19</p>\r\n                        </>\r\n                        : <p>Add your trip dates to get the cancellation details for this stay. </p>\r\n                    }\r\n                </section>\r\n\r\n            </section>\r\n        </section>\r\n    )\r\n}","import { BLACK_SUPERHOST_16, STAR_16, VERIFIED } from '../../services/svg.service.js'\r\nimport SvgHandler from '../_reuseable-cmps/svg-handler.jsx'\r\n\r\n\r\n// TODO low: some host don't have response time in the database\r\n\r\nexport function HostDetails({ stay, hostImgUrl, randomDateJoined }) {\r\n\r\n    const hostName = stay.host.fullname\r\n    const hostLocation = stay.host.location\r\n    const isSuperHost = stay.host.isSuperhost\r\n    const aboutHost = stay.host?.about\r\n    const reviewsCount = stay.reviews.length\r\n    const responseTime = stay.host?.responseTime ? stay.host.responseTime : 'within a few hours'\r\n\r\n    const reviewCountStr = `${reviewsCount} ${reviewsCount > 1 ? 'reviews' : 'review'}`\r\n    return (\r\n        <section className='host-details-container'>\r\n\r\n            <section className='host-details-header flex align-center gap16'>\r\n                <section>\r\n                    <img src={hostImgUrl} alt='host' />\r\n                </section>\r\n                <section className='host-intro-info'>\r\n                    <h3 className='host-name fs22'>Hosted by {hostName}</h3>\r\n                    <span className='host-join-date'>Joined in {randomDateJoined}</span>\r\n                </section>\r\n            </section>\r\n\r\n            <section className='host-details-main'>\r\n\r\n                <section className='host-main-info-container'>\r\n                    <section className='host-tags fs16 lh20 flex align-center flex-wrap'>\r\n                        <section className='reviews-count flex align-center'>\r\n                            <SvgHandler svgName={STAR_16} />\r\n                            <span>{reviewCountStr}</span>\r\n                        </section>\r\n                        <section className='identity-verified flex align-center'>\r\n                            <SvgHandler svgName={VERIFIED} />\r\n                            <span>identity verified</span>\r\n                        </section>\r\n                        {isSuperHost &&\r\n                            <section className='super-host flex align-center'>\r\n                                <SvgHandler svgName={BLACK_SUPERHOST_16} />\r\n                                <span>superhost</span>\r\n                            </section>\r\n                        }\r\n                    </section>\r\n\r\n                    <section className='host-main-info fs16'>\r\n\r\n                        {aboutHost &&\r\n                            <section className='host-about'>\r\n                                <p className='lh24'>{aboutHost}</p>\r\n                            </section>\r\n                        }\r\n\r\n                        <section className='during-stay'>\r\n                            <h4 className='lh20'>During your stay</h4>\r\n                            <p className='lh24'>\r\n                                We live permanently in {hostLocation} with our family and are on site to answer any questions our guests have.\r\n                                We cook for our guests once a week and hold a weekly pizza night.\r\n                            </p>\r\n                        </section>\r\n\r\n                        {isSuperHost &&\r\n                            <section className='is-super-host'>\r\n                                <h4 className='lh20'>{hostName} is a Superhost</h4>\r\n                                <p className='lh24'>Superhosts are experienced, highly rated hosts who are committed to providing great stays for guests.</p>\r\n                            </section>\r\n                        }\r\n\r\n                    </section>\r\n                </section>\r\n\r\n                <section className='contact-host flex column'>\r\n                    <ul className='host-response-info fs16 lh20'>\r\n                        <li>Language: <span>English</span></li>\r\n                        <li>Response rate: <span>100%</span></li>\r\n                        <li>Response time: <span>{responseTime}</span></li>\r\n                    </ul>\r\n                    <button className='ff-circular-semibold fs16 lh20'>Contact Host</button>\r\n                    <section className='protection-info flex space-between align-center gap16 fs12'>\r\n                        <span>To protect your payment, never transfer money or communicate outside of the Airbnb website or app.</span>\r\n                        <img src='https://res.cloudinary.com/dnhn4zsy0/image/upload/v1685913828/airbnb-orotect_ohgcnp.svg' alt='airbnb protect' />\r\n                    </section>\r\n                </section>\r\n            </section>\r\n        </section>\r\n    )\r\n}","import { httpService } from './http.service'\r\n\r\n\r\nconst BASE_URL = 'secret'\r\n\r\n\r\nfunction getApiKeyGoogleMap() {\r\n    return httpService.get(`${BASE_URL}/key/google_map`)\r\n}\r\n\r\n\r\nexport const secretService = {\r\n    getApiKeyGoogleMap,\r\n}","import { useEffect, useState } from 'react'\r\nimport { secretService } from '../services/secret.service'\r\nimport { showErrorMsg } from '../services/event-bus.service'\r\n\r\n\r\nexport default function useFetchSecret() {\r\n    const [secret, setSecret] = useState({})\r\n    const [isLoading, setIsLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        handleFetchSecret()\r\n    }, [])\r\n\r\n    async function handleFetchSecret() {\r\n        try {\r\n            const fetchedSecret = await secretService.getApiKeyGoogleMap()\r\n            setSecret(() => fetchedSecret)\r\n        } catch (error) {\r\n            console.log('error', error)\r\n            showErrorMsg('Failed Loading Map')\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    return [isLoading, secret.secret]\r\n}","import { useState } from 'react'\r\nimport { AiFillHome } from 'react-icons/ai'\r\nimport GoogleMapReact from 'google-map-react'\r\nimport useFetchSecret from '../../customHooks/useFetchSecret'\r\nimport { Loader } from './loader'\r\n\r\n\r\nfunction Marker() {\r\n    return <div style={{ height: '1em', width: '1em', borderRadius: '50%', background: 'red' }}></div>\r\n}\r\n\r\n\r\n// TODO: research and improve this map cmp\r\n\r\n\r\nexport default function SimpleMap({ loc }) {\r\n    //IMPORTANT NOTE: DEMO DATA CONFUSED LAT AND LAN.\r\n    //ALSO:           GoogleMapReact ONLY WORKS WITH LNG KEY, NOT LAN KEY\r\n\r\n    const [isLoading, API_KEY] = useFetchSecret()\r\n    const lng = loc.lat\r\n    const lat = loc.lan\r\n    const [center, setCenter] = useState({ lat, lng })\r\n    const [zoom, setZoom] = useState(12)\r\n    const Popper = () => <div className='map-popper'><AiFillHome /><div className='popper-wedge'></div></div>\r\n\r\n    if (isLoading) return <Loader />\r\n    return (\r\n\r\n        <section className='map' style={{ height: '60vh', width: '100%' }}>\r\n            <GoogleMapReact\r\n                bootstrapURLKeys={{ key: API_KEY }}\r\n                defaultCenter={center}\r\n                center={center}\r\n                zoom={zoom}\r\n                defaultZoom={zoom}>\r\n                <Popper lat={lat} lng={lng} />\r\n                {/* <Marker lat={lat} lng={lng} /> */}\r\n            </GoogleMapReact>\r\n        </section>\r\n    )\r\n}","import GoogleMap from '../_reuseable-cmps/map.jsx'\r\n\r\nexport function StayMap({ stay }) {\r\n\r\n    const { lat, lan, city, country } = stay.loc\r\n    return (\r\n        <section className='stay-map-container' id='location'>\r\n            <h3 className='title fs22 lh26'>Where you'll be</h3>\r\n            <p className='location fs16 lh20'>{city}, {country}</p>\r\n            <GoogleMap loc={{ lat, lan }} />\r\n        </section>\r\n    )\r\n}","import { userService } from \"../../../services/user.service\"\r\nimport { utilService } from \"../../../services/util.service\"\r\n\r\nexport function StayReviewPreview({ review }) {\r\n\r\n    const reviewerPicUrl = userService.randomHostImg()\r\n    const reviewerName = review.by.fullname\r\n    const reviewDate = utilService.getFormattedDate(review.at, { month: 'long', year: 'numeric' })\r\n\r\n    return (\r\n        <section className='stay-review-preview'>\r\n            <section className='mini-user flex align-center gap10'>\r\n                <section>\r\n                    <img src={reviewerPicUrl} alt='host' />\r\n                </section>\r\n                <section className='flex column gap2'>\r\n                    <h4 className='fs16 lh20'>{reviewerName}</h4>\r\n                    <span className='fs14 lh20'>{reviewDate}</span>\r\n                </section>\r\n            </section>\r\n\r\n            <section className='review-content fs16'>\r\n                <p>{review.txt}</p>\r\n            </section>\r\n        </section>\r\n    )\r\n}","import { StayReviewPreview } from './stay-review-preview.jsx'\r\n\r\n\r\n// TODO: consider making a stay-review modal with grayed out background for all stay's reviews\r\n\r\n\r\nexport function StayReviewList({ reviewsToDisplay }) {\r\n  return (\r\n    <section className='stay-review-list'>\r\n      {reviewsToDisplay.map((review, idx) =>\r\n        <StayReviewPreview key={idx} review={review} />\r\n      )}\r\n    </section>\r\n  )\r\n}","import { STAR_16 } from '../../../services/svg.service'\r\nimport SvgHandler from '../../_reuseable-cmps/svg-handler'\r\n\r\nexport function StayReviewsHeader({ stay, averageReviewScore }) {\r\n\r\n    const reviewCount = stay.reviews.length\r\n    const reviewCountStr = `${reviewCount} ${reviewCount > 1 ? 'reviews' : 'review'}`\r\n    return (\r\n        <section className='stay-reviews-header fs22 lh26 flex align-center'>\r\n            <SvgHandler svgName={STAR_16} />\r\n            <section className='stay-score-and-review-count'>\r\n                <span className='ff-circular-semibold'>{averageReviewScore}</span>\r\n                <span>{` • `}</span>\r\n                <span className='ff-circular-semibold'>{reviewCountStr}</span>\r\n            </section>\r\n        </section>\r\n    )\r\n}","import { utilService } from '../../../services/util.service'\r\n\r\nexport function CategoryScorePreview({ category, avgScore }) {\r\n\r\n    return (\r\n        <section className='category-score-preview flex align-center'>\r\n\r\n            <div className='category-name fs16 lh20 capitalize'>{category}</div>\r\n\r\n            <section className='category-score flex align-center justify-end'>\r\n                <section className='score-bar-container'>\r\n                    <div className='score-bar' style={{ width: `${utilService.calculatePercentage(avgScore)}%` }}></div>\r\n                </section>\r\n                <span className='score-average ff-circular-semibold fs12'>{avgScore.toFixed(1)}</span>\r\n            </section>\r\n\r\n        </section>\r\n    )\r\n}","import { CategoryScorePreview } from './category-score-preview'\r\n\r\nexport function CategoryScoreList({ stayCategoryScores }) {\r\n\r\n    return (\r\n        <section className='category-score-list'>\r\n            {Object.entries(stayCategoryScores).map(([key, value]) => (\r\n                <CategoryScorePreview key={key} category={key} avgScore={value} />\r\n            ))}\r\n        </section>\r\n    )\r\n}","import { StayReviewList } from './stay-reviews/stay-review-list.jsx'\r\nimport { StayReviewsHeader } from './stay-reviews/stay-reviews-header.jsx'\r\nimport { CategoryScoreList } from './stay-reviews/category-score-list.jsx'\r\n\r\n\r\n// TODO: build stay-reviews modal with gray background, which can be viewed with button or URL link and will have ALL \r\n//   current stays reviews\r\n\r\n\r\nexport function StayReviews({ stay, stayCategoryScores, averageReviewScore }) {\r\n\r\n    const reviewsToDisplay = stay.reviews.slice(0, 6)\r\n\r\n    return (\r\n        <section className='stay-reviews-container' id='reviews'>\r\n            <StayReviewsHeader\r\n                stay={stay}\r\n                averageReviewScore={averageReviewScore}\r\n            />\r\n            <CategoryScoreList\r\n                stayCategoryScores={stayCategoryScores}\r\n            />\r\n            <StayReviewList\r\n                reviewsToDisplay={reviewsToDisplay}\r\n                key={reviewsToDisplay.id}\r\n            />\r\n        </section>\r\n    )\r\n}","// Services\r\nimport { HEART_16_BLACK_STROKE, HEART_16_RED_FILL, SHARE, STAR } from '../../services/svg.service.js'\r\n\r\n// Components\r\nimport SvgHandler from '../_reuseable-cmps/svg-handler.jsx'\r\n\r\n\r\nexport function StayTitle({ stay, averageReviewScore, onLikeClicked, isStayWishlist, isMobile }) {\r\n\r\n    const stayName = stay.name\r\n    const reviewCount = stay.reviews.length\r\n    const { city, country } = stay.loc\r\n    const reviewCountStr = `${reviewCount} ${reviewCount > 1 ? 'reviews' : 'review'}`\r\n    return (\r\n        <section className='details-layout'>\r\n\r\n            <section className='stay-title-container flex column' >\r\n                <h1 className='ff-circular-regular fs26 lh30'>{stayName}</h1>\r\n                <section className='info-container fs14 flex space-between align-center'>\r\n\r\n                    <ul className='info ff-circular-semibold lh20 flex justify-start align-center flex-wrap'>\r\n\r\n                        <li className='score-container flex'>\r\n                            <section className='score flex align-center gap4'>\r\n                                <SvgHandler svgName={STAR} />\r\n                                <span>{averageReviewScore}</span>\r\n                            </section>\r\n                            <span className='info-review underline'>{reviewCountStr}</span>\r\n                        </li>\r\n\r\n                        <li><span className='info-loc underline'>{city}, {country}</span></li>\r\n                    </ul>\r\n\r\n                    {!isMobile &&\r\n                        <section className='action-buttons lh18 flex align-baseline gap20'>\r\n\r\n                            <section className='share flex align-center gap8'>\r\n                                <SvgHandler svgName={SHARE} />\r\n                                <span className='ff-circular-semibold underline capitalize'>share</span>\r\n                                <div className='overlay'></div>\r\n                            </section>\r\n\r\n                            <section\r\n                                className='flex align-center gap8'\r\n                                onClick={(ev) => onLikeClicked(ev)}\r\n                            >\r\n                                <SvgHandler svgName={isStayWishlist() ? HEART_16_RED_FILL : HEART_16_BLACK_STROKE} />\r\n                                <span className='ff-circular-semibold underline capitalize'>save</span>\r\n                                <div className='overlay'></div>\r\n                            </section>\r\n                        </section>\r\n                    }\r\n                </section>\r\n            </section>\r\n        </section>\r\n    )\r\n}","import SvgHandler from '../../_reuseable-cmps/svg-handler'\r\n\r\nexport function HighlightPreview({ highlight }) {\r\n\r\n    const { label, title, content } = highlight\r\n    return (\r\n        <section className='highlight-preview flex gap24'>\r\n            <section><SvgHandler svgName={label} /></section>\r\n            <section className='highlight-description'>\r\n                <h3 className='title fs16 lh20'>{title}</h3>\r\n                <p className='content fs14 lh20'>{content}</p>\r\n            </section>\r\n        </section>\r\n    )\r\n}","// Services\r\nimport { CHECKIN, KEY, LOCATION } from '../../../services/svg.service.js'\r\n\r\n// Components\r\nimport { HighlightPreview } from './highlight-preview.jsx'\r\n\r\n\r\nexport function HighlightList() {\r\n\r\n\r\n    const highlightList = [\r\n        {\r\n            label: LOCATION,\r\n            title: 'Great location',\r\n            content: '100% of recent guests gave the location a 5-star rating.'\r\n        },\r\n        {\r\n            label: KEY,\r\n            title: 'Self check-in',\r\n            content: 'Check yourself in with the lockbox.'\r\n        },\r\n        {\r\n            label: CHECKIN,\r\n            title: 'Free cancellation for 48 hours.',\r\n            content: ''\r\n        },\r\n    ]\r\n\r\n    return (\r\n        <section className='highlight-list flex column gap24'>\r\n            {highlightList.map(highlight =>\r\n                <HighlightPreview key={highlight.title} highlight={highlight} />\r\n            )}\r\n        </section>\r\n    )\r\n}","export function Overview({ stay, hostImgUrl }) {\r\n\r\n    const guests = '4 guests'\r\n    const bedrooms = '2 bedrooms'\r\n    const beds = '2 beds'\r\n    const baths = '1 bath'\r\n    return (\r\n        <section className='stay-overview-container flex space-between'>\r\n            <section className='stay-overview'>\r\n                <h2 className='title fs22 lh26'>Entire villa hosted by {stay.host.fullname}</h2>\r\n                <ul className='content-list flex fs16 lh20 flex-wrap'>\r\n                    <li>{guests}</li>\r\n                    <li>{bedrooms}</li>\r\n                    <li>{beds}</li>\r\n                    <li>{baths}</li>\r\n                </ul>\r\n            </section>\r\n            <section>\r\n                <img src={hostImgUrl} alt='host' />\r\n            </section>\r\n        </section>\r\n    )\r\n}","import SvgHandler from '../../_reuseable-cmps/svg-handler'\r\n\r\nexport function AmenityPreview({ amenity }) {\r\n\r\n    return (\r\n        <section className='amenity-preview fs16 lh20 flex align-center gap16'>\r\n            <section><SvgHandler svgName={amenity} /></section>\r\n            <span>{amenity}</span>\r\n        </section>\r\n    )\r\n}","import { AmenityPreview } from './amenity-preview.jsx'\r\n\r\n\r\nexport function AmenityList({ amenities }) {\r\n\r\n    return (\r\n        <section className='amenity-list-container' id='amenities'>\r\n            <h3 className='title fs22 lh26'>What this place offers</h3>\r\n            <section className='amenity-list'>\r\n                {amenities.slice(0, 10).map(amenity =>\r\n                    <AmenityPreview key={amenity} amenity={amenity} />\r\n                )}\r\n            </section>\r\n        </section>\r\n    )\r\n}","import useIsMobile from '../../../customHooks/useIsMobile.js'\r\nimport { DatePicker } from '../../_reuseable-cmps/date-picker.jsx'\r\n\r\n\r\nexport function StayDates({ stay, selectedRange, handleRangeSelect }) {\r\n    const isScreenWidthLessThan = useIsMobile(1250)\r\n\r\n\r\n    const numberOfMonths = isScreenWidthLessThan ? 1 : 2\r\n    return (\r\n        <section className='date-container'>\r\n            <h3>Select check-in date</h3>\r\n            <p>Add your travel dates for exact pricing</p>\r\n            <DatePicker\r\n                selectedRange={selectedRange}\r\n                handleRangeSelect={handleRangeSelect}\r\n                availableDates={stay.availableDates}\r\n                numberOfMonths={numberOfMonths}\r\n            />\r\n        </section>\r\n    )\r\n}","// Services\r\nimport { stayService } from '../../../../services/stay.service'\r\nimport { STAR } from '../../../../services/svg.service.js'\r\nimport { utilService } from '../../../../services/util.service.js'\r\n\r\n// Components\r\nimport SvgHandler from '../../../_reuseable-cmps/svg-handler.jsx'\r\n\r\n\r\n\r\nexport function CostAndReviewScore({ stay, orderDetails }) {\r\n\r\n    const stayScore = stayService.getStayScore(stay.reviews)\r\n    return (\r\n        <section className='cost-and-review-score flex space-between align-center flex-wrap col-gap8'>\r\n            <article className='cost flex align-end'>\r\n                <span className='fs22 lh26 ff-circular-semibold'>${utilService.addCommas(orderDetails.singleNightPrice)}</span>\r\n                <span className='fs16 lh20'>night</span>\r\n            </article>\r\n            <article className='review-score flex align-center'>\r\n                <SvgHandler svgName={STAR} />\r\n                <span className='score fs14 lh18'>{stayScore}</span>\r\n                <span className='amount fs14 lh18'>{stay.reviews.length} reviews</span>\r\n            </article>\r\n        </section>\r\n    )\r\n}","import { userService } from '../../../../services/user.service.js'\r\n\r\nexport function DatesAndGuests({ checkIn, checkOut, guests, setGuests }) {\r\n\r\n    function onDatesClick(ev) {\r\n        ev.preventDefault()\r\n        ev.stopPropagation()\r\n        // console.log('checkIn', checkIn)\r\n        // console.log('checkOut', checkOut)\r\n        // handleDateChange(Date.parse('8/23/2023'), Date.parse('8/26/2023'))\r\n    }\r\n\r\n    function onGuestsClick(ev) {\r\n        ev.preventDefault()\r\n        ev.stopPropagation()\r\n        // setGuests(prevGuests => ({\r\n        //     ...prevGuests,\r\n        //     // adults: 4\r\n        // }))\r\n    }\r\n\r\n    const guestsString = userService.buildGuestsString(guests)\r\n    return (\r\n        <section className='dates-and-guests' title='Change here not implemented yet'>\r\n            <section className='dates-container' onClick={(ev) => onDatesClick(ev)}>\r\n\r\n                <div className='dates-container-border'></div>\r\n                <section className='dates flex'>\r\n\r\n                    <article className='check-in full'>\r\n                        <span className='fs10 lh12 ff-circular-bold uppercase'>check-in</span>\r\n                        <span className={`fs14 lh18${checkIn ? '' : ' empty'}`}>{checkIn ? checkIn : 'Add date'}</span>\r\n                    </article>\r\n\r\n                    <article className='check-out full'>\r\n                        <span className='fs10 lh12 ff-circular-bold uppercase'>checkout</span>\r\n                        <span className={`fs14 lh18${checkOut ? '' : ' empty'}`}>{checkOut ? checkOut : 'Add date'}</span>\r\n                    </article>\r\n                </section>\r\n\r\n            </section>\r\n            <section className='guests-container' onClick={(ev) => onGuestsClick(ev)}>\r\n\r\n                <div className='guests-container-border'></div>\r\n                <section className='guests'>\r\n\r\n                    <article className='guest-block full'>\r\n                        <span className='fs10 lh12 ff-circular-bold uppercase'>guests</span>\r\n                        <span className='fs14 lh18'>{guestsString}</span>\r\n                    </article>\r\n\r\n                </section>\r\n\r\n            </section>\r\n        </section>\r\n    )\r\n}","import { utilService } from \"../../../../services/util.service.js\"\r\n\r\nexport function Pricing({ orderDetails }) {\r\n\r\n    const { singleNightPrice, nightsCount, serviceFee, cleaningFee } = orderDetails\r\n    const totalPrice = (singleNightPrice * nightsCount) + serviceFee + cleaningFee\r\n    return (\r\n        <section className=\"pricing\">\r\n\r\n            <section className=\"individual-fees\">\r\n                <article className=\"flex space-between\">\r\n                    <span className=\"fs16 lh20 underline\">${singleNightPrice.toLocaleString()} x {nightsCount} nights</span>\r\n                    <span className=\"fs16 lh20\">${singleNightPrice * nightsCount}</span>\r\n                </article>\r\n                <article className=\"flex space-between\">\r\n                    <span className=\"fs16 lh20 underline\">Cleaning fee</span>\r\n                    <span className=\"fs16 lh20\">${utilService.addCommas(cleaningFee)}</span>\r\n                </article>\r\n                <article className=\"flex space-between\" >\r\n                    <span className=\"fs16 lh20 underline\">StayHub service fee</span>\r\n                    <span className=\"fs16 lh20\">${serviceFee.toLocaleString()}</span>\r\n                </article>\r\n            </section>\r\n\r\n            <section className=\"total\">\r\n                <article className=\"flex space-between ff-circular-semibold\">\r\n                    <span className=\"fs16 lh20\">Total</span>\r\n                    <span className=\"fs16 lh20\">${utilService.addCommas(totalPrice)}</span>\r\n                </article>\r\n            </section>\r\n        </section>\r\n    )\r\n}","import { RED_TAG } from '../../../../services/svg.service.js'\r\nimport SvgHandler from '../../../_reuseable-cmps/svg-handler.jsx'\r\n\r\n\r\nexport function SpecialInfo({ stay }) {\r\n    return (\r\n        <section className='special-info flex'>\r\n            <article className='info-container'>\r\n                <span className='bold fs16 lh20'>Lower price.</span>\r\n                <span className='fs16 lh20'>Your dates are ${(stay.price * 0.4).toFixed(0)} less per night compared to the average nightly rate of the last 60 days.</span>\r\n            </article>\r\n            <SvgHandler svgName={RED_TAG} />\r\n        </section>\r\n    )\r\n}","// Components\r\nimport { CostAndReviewScore } from './order-sidebar/cost-and-review-score.jsx'\r\nimport { DatesAndGuests } from './order-sidebar/dates-and-guests.jsx'\r\nimport { Pricing } from './order-sidebar/pricing.jsx'\r\nimport { SpecialInfo } from './order-sidebar/special-info.jsx'\r\nimport { ButtonMain } from '../../_reuseable-cmps/button-main.jsx'\r\n\r\n\r\n\r\n// TODO: after finishing building and organizing this cmp,\r\n//   start removing redundant stuff from the Order Object (need to follow path to back-end, and the get from the front-end)\r\n\r\n\r\nexport function OrderSidebar({\r\n    stay,\r\n    checkIn, checkOut,\r\n    guests, setGuests,\r\n    orderDetails,\r\n    onCheckAvailabilityClick, onReserveClick,\r\n}) {\r\n\r\n\r\n    return (\r\n        <section className='order-sidebar'>\r\n            <section className='order-block'>\r\n\r\n                <section className='order'>\r\n                    <CostAndReviewScore stay={stay} orderDetails={orderDetails} />\r\n                    <DatesAndGuests\r\n                        checkIn={checkIn}\r\n                        checkOut={checkOut}\r\n                        guests={guests}\r\n                        setGuests={setGuests}\r\n                    />\r\n                    {(checkIn && checkOut)\r\n                        ? <ButtonMain\r\n                            text={'Reserve'}\r\n                            onClickButton={(ev) => onReserveClick(ev)}\r\n                        />\r\n                        : <ButtonMain\r\n                            text={'Check availability'}\r\n                            onClickButton={(ev) => onCheckAvailabilityClick(ev)}\r\n                        />\r\n                    }\r\n                </section>\r\n\r\n                {checkIn && checkOut &&\r\n                    <>\r\n                        <article className='assurance flex column align-center'>\r\n                            <span className='fs14 lh18'>You won't be charged yet</span>\r\n                        </article>\r\n                        <Pricing orderDetails={orderDetails} />\r\n                    </>\r\n                }\r\n\r\n            </section>\r\n\r\n            <SpecialInfo stay={stay} />\r\n        </section>\r\n    )\r\n}","// Components\r\nimport { HighlightList } from './stay-summary/highlight-list.jsx'\r\nimport { Overview } from './stay-summary/overview.jsx'\r\nimport { AmenityList } from './stay-summary/amenity-list.jsx'\r\nimport { StayDates } from './stay-summary/stay-dates.jsx'\r\nimport { OrderSidebar } from './stay-summary/order-sidebar.jsx'\r\n\r\n\r\nexport function StaySummary({\r\n    stay, hostImgUrl,\r\n    checkIn, checkOut, selectedRange, handleRangeSelect,\r\n    guests, setGuests,\r\n    orderDetails,\r\n    onCheckAvailabilityClick, onReserveClick,\r\n    isMobile\r\n}) {\r\n\r\n    return (\r\n        <section className='summary-container'>\r\n            <section className='summary'>\r\n                <Overview stay={stay} hostImgUrl={hostImgUrl} />\r\n                <HighlightList />\r\n                <AmenityList amenities={stay.amenities} />\r\n                <StayDates stay={stay} selectedRange={selectedRange} handleRangeSelect={handleRangeSelect} />\r\n            </section>\r\n\r\n            {!isMobile &&\r\n                <section className='order-sidebar-container'>\r\n                    <OrderSidebar\r\n                        stay={stay}\r\n                        checkIn={checkIn} checkOut={checkOut}\r\n                        guests={guests} setGuests={setGuests}\r\n                        orderDetails={orderDetails}\r\n                        onCheckAvailabilityClick={onCheckAvailabilityClick} onReserveClick={onReserveClick}\r\n                    />\r\n                </section>\r\n            }\r\n        </section>\r\n    )\r\n}","export function StayPhotos({ photos, isMobile }) {\r\n\r\n    const photoList = isMobile ? photos.slice(0, 1) : photos.slice(0, 5)\r\n    return (\r\n        <section className={`${isMobile ? '' : 'details-layout'}`}>\r\n            <section className='stay-photos-container'>\r\n                {photoList.map((url, index) =>\r\n                    <section className='photo-preview' key={index}>\r\n                        <img src={url} alt={index} />\r\n                        <div className='overlay'></div>\r\n                    </section>\r\n                )}\r\n            </section>\r\n        </section>\r\n    )\r\n}","import { ARROW_LEFT, HEART_16_BLACK_STROKE, HEART_16_RED_FILL, SHARE } from '../../services/svg.service'\r\nimport SvgHandler from '../_reuseable-cmps/svg-handler'\r\n\r\nexport function StayDetailsMobileReturnHeader({ onLikeClicked, isStayWishlist, onReturnClicked }) {\r\n\r\n    return (\r\n        <section className='stay-details-mobile-return-header flex space-between align-center'>\r\n            <section className='return'>\r\n                <button onClick={(ev) => onReturnClicked(ev)}>\r\n                    <section className='flex align-center gap8'>\r\n                        <SvgHandler svgName={ARROW_LEFT} />\r\n                        <h2 className='capitalize fs14 lh18'>homes</h2>\r\n                    </section>\r\n                </button>\r\n            </section>\r\n            <section className='like-share flex gap20'>\r\n                <button className='share'>\r\n                    <SvgHandler svgName={SHARE} />\r\n                </button>\r\n                <button onClick={(ev) => onLikeClicked(ev)}>\r\n                    <SvgHandler svgName={isStayWishlist() ? HEART_16_RED_FILL : HEART_16_BLACK_STROKE} />\r\n                </button>\r\n            </section>\r\n        </section>\r\n    )\r\n}","// Node Modules\r\nimport { useNavigate, useParams } from 'react-router-dom'\r\nimport { Helmet } from 'react-helmet-async'\r\n\r\n// Services\r\nimport { utilService } from '../services/util.service.js'\r\nimport { orderService } from '../services/order.service.js'\r\nimport { stayService } from '../services/stay.service'\r\nimport { SET_APP_MODAL_LOGIN } from '../services/resources-strings.service.js'\r\n\r\n// Store\r\nimport { useAppDispatch, useAppSelector } from '../store/hooks'\r\nimport { systemSetAppModal } from '../store/systemSlice'\r\nimport { userSetOrder } from '../store/userSlice'\r\nimport { toggleWishlistStay } from '../store/wishlist-stay.slice'\r\n\r\n// Custom hooks\r\nimport useIsMobile from '../customHooks/useIsMobile.js'\r\nimport useStayDetails from '../customHooks/useStayDetails.js'\r\nimport useStayDetailsIntersectionObserver from '../customHooks/useStayDetailsIntersectionObserver.js'\r\n\r\n// Components\r\nimport { Loader } from '../cmps/_reuseable-cmps/loader.jsx'\r\nimport { StayDetailsNavReserveSticky } from '../cmps/stay-details/stay-details-nav-reserve-sticky.jsx'\r\nimport { ThingsToKnow } from '../cmps/stay-details/stay-things-to-know.jsx'\r\nimport { HostDetails } from '../cmps/stay-details/stay-host-details.jsx'\r\nimport { StayMap } from '../cmps/stay-details/stay-map.jsx'\r\nimport { StayReviews } from '../cmps/stay-details/stay-reviews.jsx'\r\nimport { StayTitle } from '../cmps/stay-details/stay-title.jsx'\r\nimport { StaySummary } from '../cmps/stay-details/stay-summary.jsx'\r\nimport { StayPhotos } from '../cmps/stay-details/stay-photos.jsx'\r\nimport { StayDetailsMobileReturnHeader } from '../cmps/stay-details/stay-details-mobile-return-header.jsx'\r\n\r\n\r\n// --------------------------------------------\r\n// --------------- Low Priority ---------------\r\n// --------------------------------------------\r\n// TODO: I made pricing change depending on guest amount because I spotted similar behavior in airbnb,\r\n//    need to check again, if it's there, if it's only in some stays, or if it's in none at all,\r\n//    and then decide if I want to keep such feature.\r\n// --------------------------------------------\r\n// --------------------------------------------\r\n\r\n\r\n// TODO: add loading spinner next to \"save\" wishlist button, for visual indication of loading. also, prevent wishlist clicks during wishlistId's loading\r\n\r\n\r\nexport function StayDetails() {\r\n    const dispatch = useAppDispatch()\r\n    const navigate = useNavigate()\r\n    const { stayId } = useParams()\r\n    const loggedinUser = useAppSelector(storeState => storeState.userModule.user)\r\n    const wishlistIds = useAppSelector(storeState => storeState.stayModule.wishlistIds)\r\n    const isMobile = useIsMobile()\r\n\r\n    const [\r\n        isLoading,\r\n        stay, hostImgUrl,\r\n        checkIn, checkOut, selectedRange, setSelectedRange,\r\n        guests, setGuests,\r\n        orderDetails,\r\n    ] = useStayDetails(stayId)\r\n    useStayDetailsIntersectionObserver(isLoading || isMobile)\r\n\r\n\r\n\r\n    function isStayWishlist() {\r\n        return loggedinUser ? wishlistIds.some(wishlistId => wishlistId === stayId) : false\r\n    }\r\n\r\n    function onCheckAvailabilityClick(ev) {\r\n        ev.preventDefault()\r\n        ev.stopPropagation()\r\n        console.log('hi from check availability')\r\n    }\r\n\r\n    function onLikeClicked(ev) {\r\n        ev.preventDefault()\r\n        ev.stopPropagation()\r\n        if (!loggedinUser) {\r\n            dispatch(systemSetAppModal(SET_APP_MODAL_LOGIN))\r\n            return\r\n        }\r\n        dispatch(toggleWishlistStay({ stayId }))\r\n    }\r\n\r\n    function onReserveClick(ev) {\r\n        ev.preventDefault()\r\n        ev.stopPropagation()\r\n        if (!loggedinUser) {\r\n            dispatch(systemSetAppModal(SET_APP_MODAL_LOGIN))\r\n        }\r\n        else {\r\n            const order = createOrder(orderDetails)\r\n            dispatch(userSetOrder(order))\r\n            navigate(`/stay/book/${stay._id}`)\r\n        }\r\n    }\r\n\r\n    function onReturnClicked(ev) {\r\n        ev.preventDefault()\r\n        ev.stopPropagation()\r\n        navigate('/')\r\n    }\r\n\r\n    function createOrder({ guestCount, singleNightPrice, nightsCount, serviceFee, cleaningFee }) {\r\n        return {\r\n            buyer: {\r\n                _id: loggedinUser._id,\r\n                fullname: loggedinUser.fullname,\r\n                img: loggedinUser.imgUrl,\r\n                joined: loggedinUser.joined ? loggedinUser.joined : utilService.getRandomMonthAndYear()\r\n            },\r\n            seller: {\r\n                _id: stay.host._id,\r\n                fullname: stay.host.fullname,\r\n                img: hostImgUrl,\r\n                joined: utilService.getRandomMonthAndYear()\r\n            },\r\n            orderDetails: {\r\n                checkIn,\r\n                checkOut,\r\n                nightsCount,\r\n                guestCount,\r\n                singleNightPrice\r\n            },\r\n            orderPrice: {\r\n                price: (singleNightPrice * nightsCount),\r\n                serviceFee,\r\n                cleaningFee,\r\n                total: (singleNightPrice * nightsCount) + serviceFee + cleaningFee\r\n            },\r\n            stayDetails: {\r\n                id: stay._id,\r\n                image: stay.imgUrls[0],\r\n                loc: stay.loc,\r\n                summary: stay.summary,\r\n                type: stay.type,\r\n                rate: stay.reviews.rate,\r\n                reviewsCount: stay.reviews.length\r\n            },\r\n            explore: orderService.getOrderExploreList(),\r\n            status: \"Pending\",\r\n        }\r\n    }\r\n\r\n    function handleRangeSelect(range) {\r\n        const newRange = { from: '', to: '' }\r\n        if (range) {\r\n            newRange.from = range.from\r\n            newRange.to = range.to\r\n            if (!range.from) newRange.from = ''\r\n            if (!range.to) newRange.to = ''\r\n            if (range.from && (Date.parse(range.from) === Date.parse(range.to))) {\r\n                if ((Date.parse(selectedRange.from) === Date.parse(range.from)) && selectedRange.to === '') newRange.from = ''\r\n                newRange.to = ''\r\n            }\r\n        } else {\r\n            if (selectedRange.from && selectedRange.to) newRange.from = selectedRange.from\r\n        }\r\n\r\n        setSelectedRange(prev => ({ ...prev, ...newRange }))\r\n    }\r\n\r\n\r\n    if (isLoading) return <Loader />\r\n\r\n    const stayCategoryScores = stayService.getStayCategoryScores(stay.reviews)\r\n    const randomDateJoined = utilService.getRandomMonthAndYear()\r\n    const averageReviewScore = stayService.getStayScore(stay.reviews)\r\n\r\n    return (\r\n        <section className={`stay-details full details-layout${isMobile ? ' mobile' : ''}`} id='photos'>\r\n            <Helmet>\r\n                {stay?.name && <title>{stay.name}</title>}\r\n                {stay?.host?.fullname && <meta name='description' content={`Entire villa hosted by ${stay.host.fullname}`} />}\r\n            </Helmet>\r\n            {isMobile &&\r\n                <StayDetailsMobileReturnHeader\r\n                    onLikeClicked={onLikeClicked}\r\n                    isStayWishlist={isStayWishlist}\r\n                    onReturnClicked={onReturnClicked}\r\n                />\r\n            }\r\n            <StayDetailsNavReserveSticky\r\n                stay={stay}\r\n                selectedRange={selectedRange}\r\n                onReserveClick={onReserveClick}\r\n                onCheckAvailabilityClick={onCheckAvailabilityClick}\r\n                isMobile={isMobile}\r\n            />\r\n            <section className='stay-photos-title-container full'>\r\n                <StayPhotos photos={stay.imgUrls} isMobile={isMobile} />\r\n                <StayTitle\r\n                    stay={stay}\r\n                    averageReviewScore={averageReviewScore}\r\n                    onLikeClicked={onLikeClicked}\r\n                    isStayWishlist={isStayWishlist}\r\n                    isMobile={isMobile}\r\n                />\r\n            </section>\r\n            <StaySummary\r\n                stay={stay} hostImgUrl={hostImgUrl}\r\n                checkIn={checkIn} checkOut={checkOut} selectedRange={selectedRange} handleRangeSelect={handleRangeSelect}\r\n                guests={guests} setGuests={setGuests}\r\n                orderDetails={orderDetails}\r\n                onCheckAvailabilityClick={onCheckAvailabilityClick} onReserveClick={onReserveClick}\r\n                isMobile={isMobile}\r\n            />\r\n            {\r\n                stay.reviews?.length > 0 &&\r\n                <StayReviews\r\n                    stay={stay}\r\n                    stayCategoryScores={stayCategoryScores}\r\n                    averageReviewScore={averageReviewScore}\r\n                />\r\n            }\r\n            <StayMap stay={stay} />\r\n            <HostDetails\r\n                stay={stay}\r\n                hostImgUrl={hostImgUrl}\r\n                randomDateJoined={randomDateJoined}\r\n            />\r\n            <ThingsToKnow isMobile={isMobile} checkIn={checkIn} />\r\n        </section >\r\n    )\r\n}","import { useEffect } from 'react'\r\n\r\nexport default function useStayDetailsIntersectionObserver(isNotObserving) {\r\n\r\n    useEffect(() => {\r\n        if (!isNotObserving) {\r\n            const photos = document.querySelector('.stay-photos-container')\r\n            const altHeader = document.querySelector('.stay-details-nav-reserve-sticky-container')\r\n            const orderSidebarBtn = document.querySelector('.order-sidebar .btn-main-container')\r\n            const reserveLink = document.querySelector('.reserve-container')\r\n\r\n            const photosObserver = new IntersectionObserver(onPhotosObserved, {\r\n                rootMargin: \"-5px 0px 0px\",\r\n            })\r\n            const orderSidebarBtnObserver = new IntersectionObserver(onOrderSidebarBtnObserved, {\r\n                rootMargin: \"-80px 0px 0px 0px\"\r\n            })\r\n\r\n            function onPhotosObserved(entries) {\r\n                entries.forEach((entry) => {\r\n                    altHeader.style.display = entry.isIntersecting ? 'none' : 'grid'\r\n                })\r\n            }\r\n\r\n            function onOrderSidebarBtnObserved(entries) {\r\n                entries.forEach((entry) => {\r\n                    reserveLink.style.display = entry.isIntersecting ? 'none' : 'flex'\r\n                })\r\n            }\r\n\r\n            photosObserver.observe(photos)\r\n            orderSidebarBtnObserver.observe(orderSidebarBtn)\r\n\r\n            return () => {\r\n                altHeader.style.removeProperty(\"display\")\r\n                reserveLink.style.removeProperty(\"display\")\r\n                photosObserver.disconnect()\r\n                orderSidebarBtnObserver.disconnect()\r\n            }\r\n        }\r\n    }, [isNotObserving])\r\n}"],"names":["useStayDetailsDates","stay","isLoadingStay","isLoadingDatesRef","useRef","DAY","useMemo","filterBy","useAppSelector","storeState","stayModule","useState","selectedRange","setSelectedRange","useEffect","Object","keys","length","initialState","today","Date","parse","startOfDay","now","earliestCheckIn","availableDates","daysFromToday","from","to","getInitialState","current","checkIn","stayService","checkOut","useStayDetailsOrderDetails","isLoadingDates","guests","isLoadingOrderDetailsRef","immutableFees","serviceFee","utilService","cleaningFee","orderDetails","setOrderDetails","prevOrder","singleNightPrice","Math","floor","price","adults","children","guestCount","nightsCount","useStayDetails","stayId","isLoading","setIsLoading","loggedinUser","userModule","user","reqStatusLoadWishlistId","stayHostImgUrlRef","navigate","useNavigate","dispatch","useAppDispatch","handleLoadStay","useCallback","loadStay","unwrap","console","log","useLoadStay","infants","pets","useStayDetailsGuests","setGuests","isLoadingOrderDetails","stayUpdateReqStatusLoadWishlistId","stayResetWishlistIds","loadWishlistedStayId","userService","StayDetailsNavReserveSticky","onCheckAvailabilityClick","onReserveClick","isMobile","reviewCount","reviews","stayScore","stayPrice","toLocaleString","reviewCountStr","className","href","svgName","STAR","text","onClickButton","ev","ThingsToKnow","HostDetails","hostImgUrl","randomDateJoined","hostName","host","fullname","hostLocation","location","isSuperHost","isSuperhost","aboutHost","about","reviewsCount","responseTime","src","alt","STAR_16","VERIFIED","BLACK_SUPERHOST_16","secretService","getApiKeyGoogleMap","httpService","useFetchSecret","secret","setSecret","fetchedSecret","showErrorMsg","handleFetchSecret","SimpleMap","loc","API_KEY","lng","lat","lan","center","zoom","Popper","style","height","width","bootstrapURLKeys","key","defaultCenter","defaultZoom","StayMap","city","country","id","StayReviewPreview","review","reviewerPicUrl","reviewerName","by","reviewDate","at","month","year","txt","StayReviewList","reviewsToDisplay","map","idx","StayReviewsHeader","averageReviewScore","CategoryScorePreview","category","avgScore","toFixed","CategoryScoreList","stayCategoryScores","entries","value","StayReviews","slice","StayTitle","onLikeClicked","isStayWishlist","stayName","name","SHARE","onClick","HEART_16_RED_FILL","HEART_16_BLACK_STROKE","HighlightPreview","highlight","label","title","content","HighlightList","highlightList","LOCATION","KEY","CHECKIN","Overview","AmenityPreview","amenity","AmenityList","amenities","StayDates","handleRangeSelect","numberOfMonths","useIsMobile","CostAndReviewScore","DatesAndGuests","guestsString","preventDefault","stopPropagation","onDatesClick","onGuestsClick","Pricing","totalPrice","SpecialInfo","RED_TAG","OrderSidebar","StaySummary","StayPhotos","photos","photoList","url","index","StayDetailsMobileReturnHeader","onReturnClicked","ARROW_LEFT","StayDetails","isNotObserving","useParams","wishlistIds","some","wishlistId","toggleWishlistStay","systemSetAppModal","SET_APP_MODAL_LOGIN","order","buyer","_id","img","imgUrl","joined","seller","orderPrice","total","stayDetails","image","imgUrls","summary","type","rate","explore","orderService","status","createOrder","userSetOrder","document","querySelector","altHeader","orderSidebarBtn","reserveLink","photosObserver","IntersectionObserver","forEach","entry","display","isIntersecting","rootMargin","orderSidebarBtnObserver","observe","removeProperty","disconnect","range","newRange","prev"],"sourceRoot":""}