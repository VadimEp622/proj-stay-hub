"use strict";(self.webpackChunkmy_react_starter=self.webpackChunkmy_react_starter||[]).push([[549],{330:function(e,s,t){t.d(s,{l:function(){return g}});var a=t(6579),n=t(2337),i=t(9270),r=t(4456),o=t(4282),c=t(1087),l=t(3313),u=t(5849),d=t(3649),h=t(6766),m=(t(5141),t(5875)),f=t(184);function p(e){var s=e.imgs,t=e.stay,a=function(e){var s=e.onClick;return(0,f.jsx)("button",{className:"custom-arrow left",onClick:s,children:(0,f.jsx)(m.Z,{svgName:d.pe})})},n=function(e){var s=e.onClick;return(0,f.jsx)("button",{className:"custom-arrow right",onClick:s,children:(0,f.jsx)(m.Z,{svgName:d.Ft})})};return(0,f.jsx)(h.default,{additionalTransfrom:0,arrows:!0,centerMode:!1,className:"preview-image-carousel",customLeftArrow:(0,f.jsx)(a,{}),customRightArrow:(0,f.jsx)(n,{}),customTransition:"transform 300ms ease-in-out",dotListClass:"dot-container",draggable:!1,focusOnSelect:!1,infinite:!1,itemClass:"",minimumTouchDrag:80,renderArrowsWhenDisabled:!1,renderButtonGroupOutside:!1,renderDotsOutside:!1,responsive:{desktop:{breakpoint:{max:3e3,min:1024},items:1},tablet:{breakpoint:{max:1024,min:464},items:1},mobile:{breakpoint:{max:464,min:0},items:1}},rtl:!1,showDots:!0,sliderClass:"",slidesToSlide:1,swipeable:!0,children:s.map((function(e,s){return(0,f.jsx)(c.rU,{to:"/stay/".concat(t._id),children:(0,f.jsx)("img",{src:e,alt:"stay-pic-".concat(s)})},s)}))})}function x(e){var s=e.stay,t=e.geoLocation,a=(e.isMobile,e.lastStayElementRef),n=void 0===a?null:a,i=e.isStayWishlist,r=e.onLikeClicked;function o(e){return e*Math.PI/180}var h=u.Y.getStayPreviewDateRange(s.availableDates[0].daysFromToday,s.availableDates[0].until),x=l.N.getStayScore(s.reviews);return(0,f.jsxs)("section",{className:"stay-preview",ref:n,children:[(0,f.jsx)(p,{imgs:s.imgUrls,stay:s}),(0,f.jsx)("section",{className:"heart-svg",onClick:function(e){return r(e,s._id)},children:(0,f.jsx)(m.Z,{svgName:i(s._id)?d.Gq:d.aw})}),(0,f.jsx)(c.rU,{to:"/stay/".concat(s._id),children:(0,f.jsxs)("section",{className:"preview-info fs15",children:[(0,f.jsxs)("section",{className:"preview-header flex space-between align-center",children:[(0,f.jsxs)("p",{className:"ff-circular-semibold lh19",children:[s.loc.city,", ",s.loc.country]}),(0,f.jsxs)("p",{className:"review-score flex align-baseline lh19",children:[(0,f.jsx)(m.Z,{svgName:d.PE}),(0,f.jsx)("span",{className:"lh19",children:x})]})]}),(0,f.jsx)("p",{className:"type-or-distance lh19",children:t.loaded&&null!==t&&void 0!==t&&t.coordinates?function(){var e=function(e,s,t,a){var n=o(t-e),i=o(a-s);e=o(e),t=o(t);var r=Math.sin(n/2)*Math.sin(n/2)+Math.sin(i/2)*Math.sin(i/2)*Math.cos(e)*Math.cos(t),c=2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r))*6371;return u.Y.addCommas(c)}(t.coordinates.lat,t.coordinates.lng,s.loc.lat,s.loc.lan);return"".concat(e," kilometers away")}():s.type||"Other"}),(0,f.jsx)("p",{className:"date-range lh19",children:h}),(0,f.jsxs)("p",{className:"price-preview lh19",children:[(0,f.jsx)("span",{className:"ff-circular-semibold",children:"$".concat(u.Y.addCommas(s.price)," ")}),"night"]})]})})]},s._id)}function g(e){var s=e.stays,t=e.geoLocation,c=e.lastStayElementRef,l=void 0===c?null:c,u=e.isStayWishlist,d=(0,a.C)((function(e){return e.userModule.user})),h=(0,r.Z)(),m=(0,a.T)();function p(e,s){e.preventDefault(),e.stopPropagation(),m(d?(0,n.Xk)({stayId:s}):(0,i.Wk)(o.j1))}return(0,f.jsx)("section",{className:"stay-list",children:s.map((function(e,a){return(0,f.jsx)(x,{stay:e,geoLocation:t,isMobile:h,isStayWishlist:u,onLikeClicked:p,lastStayElementRef:l&&s.length===a+1?l:null},e._id)}))})}},7990:function(e,s,t){t.d(s,{Z:function(){return i}});var a=t(9439),n=t(2791);function i(){var e=(0,n.useState)({loaded:!1,coordinates:{lat:"",lng:""}}),s=(0,a.Z)(e,2),t=s[0],i=s[1];function r(e){i({loaded:!0,coordinates:{lat:e.coords.latitude,lng:e.coords.longitude}})}function o(e){i({loaded:!0,error:{code:e.code,message:e.message}})}return(0,n.useEffect)((function(){"geolocation"in navigator||o({code:0,message:"Geolocation not supported"}),navigator.geolocation.getCurrentPosition(r,o)}),[]),t}},2999:function(e,s,t){t.r(s),t.d(s,{UserWishlist:function(){return f}});var a=t(4165),n=t(5861),i=t(2791),r=t(7689),o=t(1087),c=t(7990),l=t(6579),u=t(330),d=t(513),h=t(2337),m=t(184);function f(){var e=(0,l.C)((function(e){return e.userModule.user})),s=(0,l.C)((function(e){return e.wishlistStayModule.stays})),t=(0,l.C)((function(e){return e.wishlistStayModule.reqStatusLoadStays})),f=(0,i.useRef)(!1),p=(0,c.Z)(),x=(0,r.s0)(),g=(0,l.T)(),v=(0,i.useCallback)((0,n.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f.current=!0,e.next=4,g((0,h.bY)());case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),x("/");case 10:case"end":return e.stop()}}),e,null,[[0,6]])}))),[x,g]);return(0,i.useEffect)((function(){e?f.current||v():x("/")}),[x,v,e,f]),e&&"idle"!==t&&"pending"!==t?"failed"===t?(0,m.jsx)("h1",{children:"Failed to load wishlist"}):(0,m.jsxs)("section",{className:"user-wishlist-page",children:[(0,m.jsx)("h1",{className:"ff-circular-semibold fs28 lh28",children:"Wishlist"}),0===s.length?(0,m.jsxs)("section",{className:"empty-wishlist",children:[(0,m.jsx)("h3",{className:"fs22",children:"No places saved yet"}),(0,m.jsx)("p",{className:"no-wishlist",children:"As you explore, click the heart icon to save your favorite places and experiences to a wishlist."}),(0,m.jsx)(o.rU,{to:"/",children:(0,m.jsx)("button",{className:"explore fs16 lh20",children:"Start exploring"})})]}):(0,m.jsx)(u.l,{stays:s,geoLocation:p,isStayWishlist:function(t){return!!e&&s.some((function(e){return e._id===t}))}})]}):(0,m.jsx)(d.a,{})}}}]);
//# sourceMappingURL=549.a989cc2c.chunk.js.map