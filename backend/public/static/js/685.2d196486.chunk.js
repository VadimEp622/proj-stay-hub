"use strict";(self.webpackChunkmy_react_starter=self.webpackChunkmy_react_starter||[]).push([[685],{3634:function(e,s,t){t.r(s),t.d(s,{UserTrips:function(){return O}});var r=t(4165),n=t(5861),a=t(9439),c=t(2791),i=t(7689),l=t(9434),o=t(1306),u=t(8911),d=t(5393),h=t(1122),m=t(4456),p=t(3649),f=t(5875),x=t(184);function j(e){var s=e.exploreItem;return(0,x.jsxs)("section",{className:"to-do",children:[s.img?(0,x.jsx)("img",{src:s.img,alt:"to-do"}):(0,x.jsx)("article",{className:"show-more",children:(0,x.jsx)(f.Z,{svgName:p.bN})}),(0,x.jsxs)("article",{className:"todo-info",children:[(0,x.jsx)("h4",{children:s.title}),(0,x.jsxs)("span",{children:[s.amount," experiences"]})]})]})}function g(e){var s=e.trip;return(0,x.jsxs)("section",{className:"explore-things-to-do",children:[(0,x.jsxs)("h5",{className:"explore-title fs14",children:["Explore things to do near ",s.content.stayDetails.loc.city]}),(0,x.jsx)("section",{className:"things-to-do",children:s.content.explore.map((function(e){return(0,x.jsx)(j,{exploreItem:e},e.label)}))})]})}var v=t(5849);function N(e){var s=e.trip,t=s.content.stayDetails.loc,r=t.city,n=t.country,a=t.address,c=s.content.orderDetails,i=c.checkIn,l=c.checkOut,o=s.content.status,u=s.content.seller.fullname,d=s.content.stayDetails.image,h=v.Y.getFormattedTimeRange(i,l),m=a.substring(0,a.indexOf(","));return(0,x.jsxs)("section",{className:"reservation-container",children:[(0,x.jsxs)("article",{className:"reservation-info",children:[(0,x.jsxs)("section",{className:"reservation-header",children:[(0,x.jsx)("h2",{children:r}),(0,x.jsxs)("h5",{children:["Entire rental unit hosted by ",u]})]}),(0,x.jsxs)("section",{className:"reservation-date-destination-status flex space-between",children:[(0,x.jsx)("article",{className:"reservation-date flex column align-center",children:(0,x.jsx)("span",{children:h})}),(0,x.jsxs)("article",{className:"reservation-destination flex column align-center",children:[(0,x.jsx)("h4",{className:"fs16",children:m}),(0,x.jsx)("span",{className:"fs16",children:r}),(0,x.jsx)("span",{className:"fs14",children:n})]}),(0,x.jsxs)("article",{className:"reservation-confirmation flex column align-center",children:[(0,x.jsx)("span",{className:"ff-circular-semibold fs16",children:"Status:"}),(0,x.jsx)("h4",{className:"status ".concat(o.toLowerCase()," fs20"),children:o})]})]})]}),(0,x.jsx)("article",{className:"reservation-img flex",children:(0,x.jsx)("img",{src:d,alt:"stay"})})]})}function y(e){var s=e.trip,t=(0,m.Z)();return(0,x.jsxs)("section",{className:"upcoming-reservation-preview".concat(t?" mobile":""),children:[(0,x.jsx)(N,{trip:s}),!t&&(0,x.jsx)(g,{trip:s})]})}function b(e){var s=e.getUpcomingTrips,t=e.onSearchClick,r=s();return(0,x.jsx)("section",{className:"future-reservation-list",children:r&&r.length>0?r.map((function(e){return(0,x.jsx)(y,{trip:e},e._id)})):(0,x.jsxs)("section",{className:"no-trips",children:[(0,x.jsx)("h3",{className:"no-trips-header fs22 lh26",children:"No trips booked...yet!"}),(0,x.jsx)("p",{className:"fs16 lh24",children:"Time to dust off your bags and start planning your next adventure"}),(0,x.jsx)("button",{className:"fs16",onClick:function(e){return t(e)},children:"Start searching"})]})})}function k(e){var s=e.trip,t=s.content.stayDetails.image,r=s.content.stayDetails.loc.address,n=s.content.seller.fullname,a=s.content.orderDetails,c=a.checkIn,i=a.checkOut,l=v.Y.getFormattedTimeRange(c,i);return(0,x.jsxs)("section",{className:"past-trip flex",children:[(0,x.jsx)("article",{className:"past-trip-img",children:(0,x.jsx)("img",{src:t,alt:"stay"})}),(0,x.jsxs)("article",{className:"past-trip-info flex column space-evenly",children:[(0,x.jsx)("h4",{className:"fs14 lh20",children:r}),(0,x.jsxs)("span",{children:["Hosted by ",n]}),(0,x.jsx)("span",{children:l})]})]})}function D(e){var s=(0,e.getPastTrips)();return(0,x.jsx)("section",{className:"past-reservation-list",children:s.length>0?s.map((function(e){return(0,x.jsx)(k,{trip:e},e._id)})):[{content:{seller:{fullname:"Denzel"},orderDetails:{checkIn:"12/7/2022",checkOut:"12/11/2022"},stayDetails:{image:"https://a0.muscache.com/im/pictures/bcb75add-a00d-466b-ba7d-ef2fe8d8e7e6.jpg?im_w=1200",loc:{address:"Amsterdam"}}}},{content:{seller:{fullname:"Hrvoje"},orderDetails:{checkIn:"7/19/2020",checkOut:"7/24/2020"},stayDetails:{image:"https://a0.muscache.com/im/pictures/miso/Hosting-621355059288164481/original/1e01176e-da92-456e-b663-b8887483b87b.jpeg?im_w=1200",loc:{address:"Zadarska \u017eupanija, Croatia"}}}},{content:{seller:{fullname:"\u0393\u03b5\u03ce\u03c1\u03b3\u03b9\u03bf\u03c2"},orderDetails:{checkIn:"8/3/2017",checkOut:"8/12/2017"},stayDetails:{image:"https://a0.muscache.com/im/pictures/95435d63-6c09-43de-a28f-f13158c32356.jpg?im_w=1200",loc:{address:"Kampos, Greece"}}}}].map((function(e,s){return(0,x.jsx)(k,{trip:e},s)}))})}var w=t(513);function O(){var e=(0,l.v9)((function(e){return e.userModule.user})),s=(0,l.v9)((function(e){return e.orderModule.isLoadingOrders})),t=(0,c.useState)([]),m=(0,a.Z)(t,2),p=m[0],f=m[1],j=(0,i.s0)();function g(){return(g=(0,n.Z)((0,r.Z)().mark((function s(){var t;return(0,r.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,d.h.dispatch({type:h.Ag}),s.next=4,u.X.getOrders({byUserId:e._id});case 4:t=s.sent,f(t),s.next=12;break;case 8:s.prev=8,s.t0=s.catch(0),console.log("Error fetching orders",s.t0),(0,o.oc)("Error fetching orders");case 12:return s.prev=12,d.h.dispatch({type:h.zB}),s.finish(12);case 15:case"end":return s.stop()}}),s,null,[[0,8,12,15]])})))).apply(this,arguments)}return(0,c.useEffect)((function(){return function(){d.h.dispatch({type:h.zB})}}),[]),(0,c.useEffect)((function(){e?function(){g.apply(this,arguments)}():j("/")}),[e]),s?(0,x.jsx)(w.a,{}):(0,x.jsxs)("section",{className:"user-trips-page",children:[(0,x.jsx)("h1",{className:"page-title fs28",children:"Trips"}),(0,x.jsxs)("section",{className:"future-reservation-list-container",children:[(0,x.jsx)("h3",{className:"reservation-list-header fs20",children:"Upcoming reservations"}),(0,x.jsx)(b,{getUpcomingTrips:function(){var e=new Date;return p.filter((function(s){return new Date(s.content.orderDetails.checkOut)>e})).reverse()},onSearchClick:function(e){e.preventDefault(),e.stopPropagation(),j("/")}})]}),(0,x.jsxs)("section",{className:"past-reservation-list-container",children:[(0,x.jsx)("h3",{className:"reservation-list-header fs20",children:"Where you've been"}),(0,x.jsx)(D,{getPastTrips:function(){var e=new Date;return p.filter((function(s){return new Date(s.content.orderDetails.checkOut)<=e})).reverse()}})]})]})}}}]);
//# sourceMappingURL=685.2d196486.chunk.js.map