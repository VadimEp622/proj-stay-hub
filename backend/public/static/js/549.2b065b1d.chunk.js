"use strict";(self.webpackChunkmy_react_starter=self.webpackChunkmy_react_starter||[]).push([[549],{330:function(e,s,t){t.d(s,{l:function(){return g}});var a=t(6579),n=t(2337),i=t(9270),r=t(4456),o=t(4282),l=t(1087),c=t(3313),u=t(5849),d=t(3649),h=t(6766),m=(t(5141),t(5875)),f=t(184);function p(e){var s=e.imgs,t=e.stay,a=function(e){var s=e.onClick;return(0,f.jsx)("button",{className:"custom-arrow left",onClick:s,children:(0,f.jsx)(m.Z,{svgName:d.pe})})},n=function(e){var s=e.onClick;return(0,f.jsx)("button",{className:"custom-arrow right",onClick:s,children:(0,f.jsx)(m.Z,{svgName:d.Ft})})};return(0,f.jsx)(h.default,{additionalTransfrom:0,arrows:!0,centerMode:!1,className:"preview-image-carousel",customLeftArrow:(0,f.jsx)(a,{}),customRightArrow:(0,f.jsx)(n,{}),customTransition:"transform 300ms ease-in-out",dotListClass:"dot-container",draggable:!1,focusOnSelect:!1,infinite:!1,itemClass:"",minimumTouchDrag:80,renderArrowsWhenDisabled:!1,renderButtonGroupOutside:!1,renderDotsOutside:!1,responsive:{desktop:{breakpoint:{max:3e3,min:1024},items:1},tablet:{breakpoint:{max:1024,min:464},items:1},mobile:{breakpoint:{max:464,min:0},items:1}},rtl:!1,showDots:!0,sliderClass:"",slidesToSlide:1,swipeable:!0,children:s.map((function(e,s){return(0,f.jsx)(l.rU,{to:"/stay/".concat(t._id),children:(0,f.jsx)("img",{src:e,alt:"stay-pic-".concat(s)})},s)}))})}function x(e){var s=e.stay,t=e.geoLocation,a=(e.isMobile,e.lastStayElementRef),n=void 0===a?null:a,i=e.isStayWishlist,r=e.onLikeClicked;function o(e){return e*Math.PI/180}var h=u.Y.getStayPreviewDateRange(s.availableDates[0].daysFromToday,s.availableDates[0].until),x=c.N.getStayScore(s.reviews);return(0,f.jsxs)("section",{className:"stay-preview",ref:n,children:[(0,f.jsx)(p,{imgs:s.imgUrls,stay:s}),(0,f.jsx)("section",{className:"heart-svg",onClick:function(e){return r(e,s._id)},children:(0,f.jsx)(m.Z,{svgName:i(s._id)?d.Gq:d.aw})}),(0,f.jsx)(l.rU,{to:"/stay/".concat(s._id),children:(0,f.jsxs)("section",{className:"preview-info fs15",children:[(0,f.jsxs)("section",{className:"preview-header flex space-between align-center",children:[(0,f.jsxs)("p",{className:"ff-circular-semibold lh19",children:[s.loc.city,", ",s.loc.country]}),(0,f.jsxs)("p",{className:"review-score flex align-baseline lh19",children:[(0,f.jsx)(m.Z,{svgName:d.PE}),(0,f.jsx)("span",{className:"lh19",children:x})]})]}),(0,f.jsx)("p",{className:"type-or-distance lh19",children:t.loaded&&null!==t&&void 0!==t&&t.coordinates?function(){var e=function(e,s,t,a){var n=o(t-e),i=o(a-s);e=o(e),t=o(t);var r=Math.sin(n/2)*Math.sin(n/2)+Math.sin(i/2)*Math.sin(i/2)*Math.cos(e)*Math.cos(t),l=2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r))*6371;return u.Y.addCommas(l)}(t.coordinates.lat,t.coordinates.lng,s.loc.lat,s.loc.lan);return"".concat(e," kilometers away")}():s.type||"Other"}),(0,f.jsx)("p",{className:"date-range lh19",children:h}),(0,f.jsxs)("p",{className:"price-preview lh19",children:[(0,f.jsx)("span",{className:"ff-circular-semibold",children:"$".concat(u.Y.addCommas(s.price)," ")}),"night"]})]})})]},s._id)}function g(e){var s=e.stays,t=e.geoLocation,l=e.lastStayElementRef,c=void 0===l?null:l,u=e.isStayWishlist,d=(0,a.C)((function(e){return e.userModule.user})),h=(0,r.Z)(),m=(0,a.T)();function p(e,s){e.preventDefault(),e.stopPropagation(),m(d?(0,n.Xk)({stayId:s}):(0,i.Wk)(o.j1))}return(0,f.jsx)("section",{className:"stay-list",children:s.map((function(e,a){return(0,f.jsx)(x,{stay:e,geoLocation:t,isMobile:h,isStayWishlist:u,onLikeClicked:p,lastStayElementRef:c&&s.length===a+1?c:null},e._id)}))})}},7990:function(e,s,t){t.d(s,{Z:function(){return i}});var a=t(9439),n=t(2791);function i(){var e=(0,n.useState)({loaded:!1,coordinates:{lat:"",lng:""}}),s=(0,a.Z)(e,2),t=s[0],i=s[1];function r(e){i({loaded:!0,coordinates:{lat:e.coords.latitude,lng:e.coords.longitude}})}function o(e){i({loaded:!0,error:{code:e.code,message:e.message}})}return(0,n.useEffect)((function(){"geolocation"in navigator||o({code:0,message:"Geolocation not supported"}),navigator.geolocation.getCurrentPosition(r,o)}),[]),t}},2999:function(e,s,t){t.r(s),t.d(s,{UserWishlist:function(){return h}});var a=t(2791),n=t(7689),i=t(1087),r=t(7990),o=t(6579),l=t(330),c=t(513),u=t(2337),d=t(184);function h(){var e=(0,o.C)((function(e){return e.userModule.user})),s=(0,o.C)((function(e){return e.wishlistStayModule.stays})),t=(0,o.C)((function(e){return e.wishlistStayModule.reqStatusLoadStays})),h=(0,r.Z)(),m=(0,n.s0)(),f=(0,o.T)();return(0,a.useEffect)((function(){return function(){f((0,u.QI)("idle"))}}),[]),(0,a.useEffect)((function(){e||m("/")}),[e,m]),(0,a.useEffect)((function(){"idle"===t&&f((0,u.bY)())}),[t,f]),e&&"idle"!==t&&"loading"!==t?"failed"===t?(0,d.jsx)("h1",{children:"Failed to load wishlist"}):(0,d.jsxs)("section",{className:"user-wishlist-page",children:[(0,d.jsx)("h1",{className:"ff-circular-semibold fs28 lh28",children:"Wishlist"}),0===s.length?(0,d.jsxs)("section",{className:"empty-wishlist",children:[(0,d.jsx)("h3",{className:"fs22",children:"No places saved yet"}),(0,d.jsx)("p",{className:"no-wishlist",children:"As you explore, click the heart icon to save your favorite places and experiences to a wishlist."}),(0,d.jsx)(i.rU,{to:"/",children:(0,d.jsx)("button",{className:"explore fs16 lh20",children:"Start exploring"})})]}):(0,d.jsx)(l.l,{stays:s,geoLocation:h,isStayWishlist:function(t){return!!e&&s.some((function(e){return e._id===t}))}})]}):(0,d.jsx)(c.a,{})}}}]);
//# sourceMappingURL=549.2b065b1d.chunk.js.map